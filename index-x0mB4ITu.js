var Pv=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Iv=Pv((exports,module)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var assertNever$1={},hasRequiredAssertNever$1;function requireAssertNever$1(){if(hasRequiredAssertNever$1)return assertNever$1;hasRequiredAssertNever$1=1,Object.defineProperty(assertNever$1,"__esModule",{value:!0}),assertNever$1.assertNever=e;function e(t,r){if(typeof r=="string")throw new Error(r);if(typeof r=="function")throw new Error(r(t));if(r)return t;throw new Error("Unhandled discriminated union member: ".concat(JSON.stringify(t)))}return assertNever$1.default=e,assertNever$1}var assertNeverExports$1=requireAssertNever$1();const ms$1=getDefaultExportFromCjs$1(assertNeverExports$1);var ajv={exports:{}},core$1={},validate={},boolSchema={},errors={},codegen={},code$1={},hasRequiredCode$1;function requireCode$1(){return hasRequiredCode$1||(hasRequiredCode$1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(j){if(super(),!e.IDENTIFIER.test(j))throw new Error("CodeGen: name must be a valid identifier");this.str=j}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(j){super(),this._items=typeof j=="string"?[j]:j}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const j=this._items[0];return j===""||j==='""'}get str(){var j;return(j=this._str)!==null&&j!==void 0?j:this._str=this._items.reduce((K,Q)=>`${K}${Q}`,"")}get names(){var j;return(j=this._names)!==null&&j!==void 0?j:this._names=this._items.reduce((K,Q)=>(Q instanceof r&&(K[Q.str]=(K[Q.str]||0)+1),K),{})}}e._Code=n,e.nil=new n("");function i(V,...j){const K=[V[0]];let Q=0;for(;Q<j.length;)d(K,j[Q]),K.push(V[++Q]);return new n(K)}e._=i;const a=new n("+");function u(V,...j){const K=[q(V[0])];let Q=0;for(;Q<j.length;)K.push(a),d(K,j[Q]),K.push(a,q(V[++Q]));return m(K),new n(K)}e.str=u;function d(V,j){j instanceof n?V.push(...j._items):j instanceof r?V.push(j):V.push(R(j))}e.addCodeArg=d;function m(V){let j=1;for(;j<V.length-1;){if(V[j]===a){const K=g(V[j-1],V[j+1]);if(K!==void 0){V.splice(j-1,3,K);continue}V[j++]="+"}j++}}function g(V,j){if(j==='""')return V;if(V==='""')return j;if(typeof V=="string")return j instanceof r||V[V.length-1]!=='"'?void 0:typeof j!="string"?`${V.slice(0,-1)}${j}"`:j[0]==='"'?V.slice(0,-1)+j.slice(1):void 0;if(typeof j=="string"&&j[0]==='"'&&!(V instanceof r))return`"${V}${j.slice(1)}`}function x(V,j){return j.emptyStr()?V:V.emptyStr()?j:u`${V}${j}`}e.strConcat=x;function R(V){return typeof V=="number"||typeof V=="boolean"||V===null?V:q(Array.isArray(V)?V.join(","):V)}function O(V){return new n(q(V))}e.stringify=O;function q(V){return JSON.stringify(V).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=q;function B(V){return typeof V=="string"&&e.IDENTIFIER.test(V)?new n(`.${V}`):i`[${V}]`}e.getProperty=B;function F(V){if(typeof V=="string"&&e.IDENTIFIER.test(V))return new n(`${V}`);throw new Error(`CodeGen: invalid export name: ${V}, use explicit $id name mapping`)}e.getEsmExportName=F;function D(V){return new n(V.toString())}e.regexpCode=D})(code$1)),code$1}var scope={},hasRequiredScope;function requireScope(){return hasRequiredScope||(hasRequiredScope=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=requireCode$1();class r extends Error{constructor(g){super(`CodeGen: "code" for ${g} not defined`),this.value=g.value}}var n;(function(m){m[m.Started=0]="Started",m[m.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:g,parent:x}={}){this._names={},this._prefixes=g,this._parent=x}toName(g){return g instanceof t.Name?g:this.name(g)}name(g){return new t.Name(this._newName(g))}_newName(g){const x=this._names[g]||this._nameGroup(g);return`${g}${x.index++}`}_nameGroup(g){var x,R;if(!((R=(x=this._parent)===null||x===void 0?void 0:x._prefixes)===null||R===void 0)&&R.has(g)||this._prefixes&&!this._prefixes.has(g))throw new Error(`CodeGen: prefix "${g}" is not allowed in this scope`);return this._names[g]={prefix:g,index:0}}}e.Scope=i;class a extends t.Name{constructor(g,x){super(x),this.prefix=g}setValue(g,{property:x,itemIndex:R}){this.value=g,this.scopePath=(0,t._)`.${new t.Name(x)}[${R}]`}}e.ValueScopeName=a;const u=(0,t._)`\n`;class d extends i{constructor(g){super(g),this._values={},this._scope=g.scope,this.opts={...g,_n:g.lines?u:t.nil}}get(){return this._scope}name(g){return new a(g,this._newName(g))}value(g,x){var R;if(x.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const O=this.toName(g),{prefix:q}=O,B=(R=x.key)!==null&&R!==void 0?R:x.ref;let F=this._values[q];if(F){const j=F.get(B);if(j)return j}else F=this._values[q]=new Map;F.set(B,O);const D=this._scope[q]||(this._scope[q]=[]),V=D.length;return D[V]=x.ref,O.setValue(x,{property:q,itemIndex:V}),O}getValue(g,x){const R=this._values[g];if(R)return R.get(x)}scopeRefs(g,x=this._values){return this._reduceValues(x,R=>{if(R.scopePath===void 0)throw new Error(`CodeGen: name "${R}" has no value`);return(0,t._)`${g}${R.scopePath}`})}scopeCode(g=this._values,x,R){return this._reduceValues(g,O=>{if(O.value===void 0)throw new Error(`CodeGen: name "${O}" has no value`);return O.value.code},x,R)}_reduceValues(g,x,R={},O){let q=t.nil;for(const B in g){const F=g[B];if(!F)continue;const D=R[B]=R[B]||new Map;F.forEach(V=>{if(D.has(V))return;D.set(V,n.Started);let j=x(V);if(j){const K=this.opts.es5?e.varKinds.var:e.varKinds.const;q=(0,t._)`${q}${K} ${V} = ${j};${this.opts._n}`}else if(j=O?.(V))q=(0,t._)`${q}${j}${this.opts._n}`;else throw new r(V);D.set(V,n.Completed)})}return q}}e.ValueScope=d})(scope)),scope}var hasRequiredCodegen;function requireCodegen(){return hasRequiredCodegen||(hasRequiredCodegen=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=requireCode$1(),r=requireScope();var n=requireCode$1();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=requireScope();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(_e,Re){return this}}class u extends a{constructor(_e,Re,$t){super(),this.varKind=_e,this.name=Re,this.rhs=$t}render({es5:_e,_n:Re}){const $t=_e?r.varKinds.var:this.varKind,Mn=this.rhs===void 0?"":` = ${this.rhs}`;return`${$t} ${this.name}${Mn};`+Re}optimizeNames(_e,Re){if(_e[this.name.str])return this.rhs&&(this.rhs=bn(this.rhs,_e,Re)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class d extends a{constructor(_e,Re,$t){super(),this.lhs=_e,this.rhs=Re,this.sideEffects=$t}render({_n:_e}){return`${this.lhs} = ${this.rhs};`+_e}optimizeNames(_e,Re){if(!(this.lhs instanceof t.Name&&!_e[this.lhs.str]&&!this.sideEffects))return this.rhs=bn(this.rhs,_e,Re),this}get names(){const _e=this.lhs instanceof t.Name?{}:{...this.lhs.names};return mn(_e,this.rhs)}}class m extends d{constructor(_e,Re,$t,Mn){super(_e,$t,Mn),this.op=Re}render({_n:_e}){return`${this.lhs} ${this.op}= ${this.rhs};`+_e}}class g extends a{constructor(_e){super(),this.label=_e,this.names={}}render({_n:_e}){return`${this.label}:`+_e}}class x extends a{constructor(_e){super(),this.label=_e,this.names={}}render({_n:_e}){return`break${this.label?` ${this.label}`:""};`+_e}}class R extends a{constructor(_e){super(),this.error=_e}render({_n:_e}){return`throw ${this.error};`+_e}get names(){return this.error.names}}class O extends a{constructor(_e){super(),this.code=_e}render({_n:_e}){return`${this.code};`+_e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(_e,Re){return this.code=bn(this.code,_e,Re),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class q extends a{constructor(_e=[]){super(),this.nodes=_e}render(_e){return this.nodes.reduce((Re,$t)=>Re+$t.render(_e),"")}optimizeNodes(){const{nodes:_e}=this;let Re=_e.length;for(;Re--;){const $t=_e[Re].optimizeNodes();Array.isArray($t)?_e.splice(Re,1,...$t):$t?_e[Re]=$t:_e.splice(Re,1)}return _e.length>0?this:void 0}optimizeNames(_e,Re){const{nodes:$t}=this;let Mn=$t.length;for(;Mn--;){const Dn=$t[Mn];Dn.optimizeNames(_e,Re)||($n(_e,Dn.names),$t.splice(Mn,1))}return $t.length>0?this:void 0}get names(){return this.nodes.reduce((_e,Re)=>Mt(_e,Re.names),{})}}class B extends q{render(_e){return"{"+_e._n+super.render(_e)+"}"+_e._n}}class F extends q{}class D extends B{}D.kind="else";class V extends B{constructor(_e,Re){super(Re),this.condition=_e}render(_e){let Re=`if(${this.condition})`+super.render(_e);return this.else&&(Re+="else "+this.else.render(_e)),Re}optimizeNodes(){super.optimizeNodes();const _e=this.condition;if(_e===!0)return this.nodes;let Re=this.else;if(Re){const $t=Re.optimizeNodes();Re=this.else=Array.isArray($t)?new D($t):$t}if(Re)return _e===!1?Re instanceof V?Re:Re.nodes:this.nodes.length?this:new V(Rn(_e),Re instanceof V?[Re]:Re.nodes);if(!(_e===!1||!this.nodes.length))return this}optimizeNames(_e,Re){var $t;if(this.else=($t=this.else)===null||$t===void 0?void 0:$t.optimizeNames(_e,Re),!!(super.optimizeNames(_e,Re)||this.else))return this.condition=bn(this.condition,_e,Re),this}get names(){const _e=super.names;return mn(_e,this.condition),this.else&&Mt(_e,this.else.names),_e}}V.kind="if";class j extends B{}j.kind="for";class K extends j{constructor(_e){super(),this.iteration=_e}render(_e){return`for(${this.iteration})`+super.render(_e)}optimizeNames(_e,Re){if(super.optimizeNames(_e,Re))return this.iteration=bn(this.iteration,_e,Re),this}get names(){return Mt(super.names,this.iteration.names)}}class Q extends j{constructor(_e,Re,$t,Mn){super(),this.varKind=_e,this.name=Re,this.from=$t,this.to=Mn}render(_e){const Re=_e.es5?r.varKinds.var:this.varKind,{name:$t,from:Mn,to:Dn}=this;return`for(${Re} ${$t}=${Mn}; ${$t}<${Dn}; ${$t}++)`+super.render(_e)}get names(){const _e=mn(super.names,this.from);return mn(_e,this.to)}}class z extends j{constructor(_e,Re,$t,Mn){super(),this.loop=_e,this.varKind=Re,this.name=$t,this.iterable=Mn}render(_e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(_e)}optimizeNames(_e,Re){if(super.optimizeNames(_e,Re))return this.iterable=bn(this.iterable,_e,Re),this}get names(){return Mt(super.names,this.iterable.names)}}class G extends B{constructor(_e,Re,$t){super(),this.name=_e,this.args=Re,this.async=$t}render(_e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(_e)}}G.kind="func";class re extends q{render(_e){return"return "+super.render(_e)}}re.kind="return";class de extends B{render(_e){let Re="try"+super.render(_e);return this.catch&&(Re+=this.catch.render(_e)),this.finally&&(Re+=this.finally.render(_e)),Re}optimizeNodes(){var _e,Re;return super.optimizeNodes(),(_e=this.catch)===null||_e===void 0||_e.optimizeNodes(),(Re=this.finally)===null||Re===void 0||Re.optimizeNodes(),this}optimizeNames(_e,Re){var $t,Mn;return super.optimizeNames(_e,Re),($t=this.catch)===null||$t===void 0||$t.optimizeNames(_e,Re),(Mn=this.finally)===null||Mn===void 0||Mn.optimizeNames(_e,Re),this}get names(){const _e=super.names;return this.catch&&Mt(_e,this.catch.names),this.finally&&Mt(_e,this.finally.names),_e}}class Oe extends B{constructor(_e){super(),this.error=_e}render(_e){return`catch(${this.error})`+super.render(_e)}}Oe.kind="catch";class Ve extends B{render(_e){return"finally"+super.render(_e)}}Ve.kind="finally";class wt{constructor(_e,Re={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Re,_n:Re.lines?`
`:""},this._extScope=_e,this._scope=new r.Scope({parent:_e}),this._nodes=[new F]}toString(){return this._root.render(this.opts)}name(_e){return this._scope.name(_e)}scopeName(_e){return this._extScope.name(_e)}scopeValue(_e,Re){const $t=this._extScope.value(_e,Re);return(this._values[$t.prefix]||(this._values[$t.prefix]=new Set)).add($t),$t}getScopeValue(_e,Re){return this._extScope.getValue(_e,Re)}scopeRefs(_e){return this._extScope.scopeRefs(_e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(_e,Re,$t,Mn){const Dn=this._scope.toName(Re);return $t!==void 0&&Mn&&(this._constants[Dn.str]=$t),this._leafNode(new u(_e,Dn,$t)),Dn}const(_e,Re,$t){return this._def(r.varKinds.const,_e,Re,$t)}let(_e,Re,$t){return this._def(r.varKinds.let,_e,Re,$t)}var(_e,Re,$t){return this._def(r.varKinds.var,_e,Re,$t)}assign(_e,Re,$t){return this._leafNode(new d(_e,Re,$t))}add(_e,Re){return this._leafNode(new m(_e,e.operators.ADD,Re))}code(_e){return typeof _e=="function"?_e():_e!==t.nil&&this._leafNode(new O(_e)),this}object(..._e){const Re=["{"];for(const[$t,Mn]of _e)Re.length>1&&Re.push(","),Re.push($t),($t!==Mn||this.opts.es5)&&(Re.push(":"),(0,t.addCodeArg)(Re,Mn));return Re.push("}"),new t._Code(Re)}if(_e,Re,$t){if(this._blockNode(new V(_e)),Re&&$t)this.code(Re).else().code($t).endIf();else if(Re)this.code(Re).endIf();else if($t)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(_e){return this._elseNode(new V(_e))}else(){return this._elseNode(new D)}endIf(){return this._endBlockNode(V,D)}_for(_e,Re){return this._blockNode(_e),Re&&this.code(Re).endFor(),this}for(_e,Re){return this._for(new K(_e),Re)}forRange(_e,Re,$t,Mn,Dn=this.opts.es5?r.varKinds.var:r.varKinds.let){const is=this._scope.toName(_e);return this._for(new Q(Dn,is,Re,$t),()=>Mn(is))}forOf(_e,Re,$t,Mn=r.varKinds.const){const Dn=this._scope.toName(_e);if(this.opts.es5){const is=Re instanceof t.Name?Re:this.var("_arr",Re);return this.forRange("_i",0,(0,t._)`${is}.length`,$s=>{this.var(Dn,(0,t._)`${is}[${$s}]`),$t(Dn)})}return this._for(new z("of",Mn,Dn,Re),()=>$t(Dn))}forIn(_e,Re,$t,Mn=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(_e,(0,t._)`Object.keys(${Re})`,$t);const Dn=this._scope.toName(_e);return this._for(new z("in",Mn,Dn,Re),()=>$t(Dn))}endFor(){return this._endBlockNode(j)}label(_e){return this._leafNode(new g(_e))}break(_e){return this._leafNode(new x(_e))}return(_e){const Re=new re;if(this._blockNode(Re),this.code(_e),Re.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(re)}try(_e,Re,$t){if(!Re&&!$t)throw new Error('CodeGen: "try" without "catch" and "finally"');const Mn=new de;if(this._blockNode(Mn),this.code(_e),Re){const Dn=this.name("e");this._currNode=Mn.catch=new Oe(Dn),Re(Dn)}return $t&&(this._currNode=Mn.finally=new Ve,this.code($t)),this._endBlockNode(Oe,Ve)}throw(_e){return this._leafNode(new R(_e))}block(_e,Re){return this._blockStarts.push(this._nodes.length),_e&&this.code(_e).endBlock(Re),this}endBlock(_e){const Re=this._blockStarts.pop();if(Re===void 0)throw new Error("CodeGen: not in self-balancing block");const $t=this._nodes.length-Re;if($t<0||_e!==void 0&&$t!==_e)throw new Error(`CodeGen: wrong number of nodes: ${$t} vs ${_e} expected`);return this._nodes.length=Re,this}func(_e,Re=t.nil,$t,Mn){return this._blockNode(new G(_e,Re,$t)),Mn&&this.code(Mn).endFunc(),this}endFunc(){return this._endBlockNode(G)}optimize(_e=1){for(;_e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(_e){return this._currNode.nodes.push(_e),this}_blockNode(_e){this._currNode.nodes.push(_e),this._nodes.push(_e)}_endBlockNode(_e,Re){const $t=this._currNode;if($t instanceof _e||Re&&$t instanceof Re)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Re?`${_e.kind}/${Re.kind}`:_e.kind}"`)}_elseNode(_e){const Re=this._currNode;if(!(Re instanceof V))throw new Error('CodeGen: "else" without "if"');return this._currNode=Re.else=_e,this}get _root(){return this._nodes[0]}get _currNode(){const _e=this._nodes;return _e[_e.length-1]}set _currNode(_e){const Re=this._nodes;Re[Re.length-1]=_e}}e.CodeGen=wt;function Mt(ze,_e){for(const Re in _e)ze[Re]=(ze[Re]||0)+(_e[Re]||0);return ze}function mn(ze,_e){return _e instanceof t._CodeOrName?Mt(ze,_e.names):ze}function bn(ze,_e,Re){if(ze instanceof t.Name)return $t(ze);if(!Mn(ze))return ze;return new t._Code(ze._items.reduce((Dn,is)=>(is instanceof t.Name&&(is=$t(is)),is instanceof t._Code?Dn.push(...is._items):Dn.push(is),Dn),[]));function $t(Dn){const is=Re[Dn.str];return is===void 0||_e[Dn.str]!==1?Dn:(delete _e[Dn.str],is)}function Mn(Dn){return Dn instanceof t._Code&&Dn._items.some(is=>is instanceof t.Name&&_e[is.str]===1&&Re[is.str]!==void 0)}}function $n(ze,_e){for(const Re in _e)ze[Re]=(ze[Re]||0)-(_e[Re]||0)}function Rn(ze){return typeof ze=="boolean"||typeof ze=="number"||ze===null?!ze:(0,t._)`!${ct(ze)}`}e.not=Rn;const wn=Le(e.operators.AND);function gn(...ze){return ze.reduce(wn)}e.and=gn;const Sn=Le(e.operators.OR);function Je(...ze){return ze.reduce(Sn)}e.or=Je;function Le(ze){return(_e,Re)=>_e===t.nil?Re:Re===t.nil?_e:(0,t._)`${ct(_e)} ${ze} ${ct(Re)}`}function ct(ze){return ze instanceof t.Name?ze:(0,t._)`(${ze})`}})(codegen)),codegen}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1,Object.defineProperty(util,"__esModule",{value:!0}),util.checkStrictMode=util.getErrorPath=util.Type=util.useFunc=util.setEvaluated=util.evaluatedPropsToName=util.mergeEvaluated=util.eachItem=util.unescapeJsonPointer=util.escapeJsonPointer=util.escapeFragment=util.unescapeFragment=util.schemaRefOrVal=util.schemaHasRulesButRef=util.schemaHasRules=util.checkUnknownRules=util.alwaysValidSchema=util.toHash=void 0;const e=requireCodegen(),t=requireCode$1();function r(z){const G={};for(const re of z)G[re]=!0;return G}util.toHash=r;function n(z,G){return typeof G=="boolean"?G:Object.keys(G).length===0?!0:(i(z,G),!a(G,z.self.RULES.all))}util.alwaysValidSchema=n;function i(z,G=z.schema){const{opts:re,self:de}=z;if(!re.strictSchema||typeof G=="boolean")return;const Oe=de.RULES.keywords;for(const Ve in G)Oe[Ve]||Q(z,`unknown keyword: "${Ve}"`)}util.checkUnknownRules=i;function a(z,G){if(typeof z=="boolean")return!z;for(const re in z)if(G[re])return!0;return!1}util.schemaHasRules=a;function u(z,G){if(typeof z=="boolean")return!z;for(const re in z)if(re!=="$ref"&&G.all[re])return!0;return!1}util.schemaHasRulesButRef=u;function d({topSchemaRef:z,schemaPath:G},re,de,Oe){if(!Oe){if(typeof re=="number"||typeof re=="boolean")return re;if(typeof re=="string")return(0,e._)`${re}`}return(0,e._)`${z}${G}${(0,e.getProperty)(de)}`}util.schemaRefOrVal=d;function m(z){return R(decodeURIComponent(z))}util.unescapeFragment=m;function g(z){return encodeURIComponent(x(z))}util.escapeFragment=g;function x(z){return typeof z=="number"?`${z}`:z.replace(/~/g,"~0").replace(/\//g,"~1")}util.escapeJsonPointer=x;function R(z){return z.replace(/~1/g,"/").replace(/~0/g,"~")}util.unescapeJsonPointer=R;function O(z,G){if(Array.isArray(z))for(const re of z)G(re);else G(z)}util.eachItem=O;function q({mergeNames:z,mergeToName:G,mergeValues:re,resultToName:de}){return(Oe,Ve,wt,Mt)=>{const mn=wt===void 0?Ve:wt instanceof e.Name?(Ve instanceof e.Name?z(Oe,Ve,wt):G(Oe,Ve,wt),wt):Ve instanceof e.Name?(G(Oe,wt,Ve),Ve):re(Ve,wt);return Mt===e.Name&&!(mn instanceof e.Name)?de(Oe,mn):mn}}util.mergeEvaluated={props:q({mergeNames:(z,G,re)=>z.if((0,e._)`${re} !== true && ${G} !== undefined`,()=>{z.if((0,e._)`${G} === true`,()=>z.assign(re,!0),()=>z.assign(re,(0,e._)`${re} || {}`).code((0,e._)`Object.assign(${re}, ${G})`))}),mergeToName:(z,G,re)=>z.if((0,e._)`${re} !== true`,()=>{G===!0?z.assign(re,!0):(z.assign(re,(0,e._)`${re} || {}`),F(z,re,G))}),mergeValues:(z,G)=>z===!0?!0:{...z,...G},resultToName:B}),items:q({mergeNames:(z,G,re)=>z.if((0,e._)`${re} !== true && ${G} !== undefined`,()=>z.assign(re,(0,e._)`${G} === true ? true : ${re} > ${G} ? ${re} : ${G}`)),mergeToName:(z,G,re)=>z.if((0,e._)`${re} !== true`,()=>z.assign(re,G===!0?!0:(0,e._)`${re} > ${G} ? ${re} : ${G}`)),mergeValues:(z,G)=>z===!0?!0:Math.max(z,G),resultToName:(z,G)=>z.var("items",G)})};function B(z,G){if(G===!0)return z.var("props",!0);const re=z.var("props",(0,e._)`{}`);return G!==void 0&&F(z,re,G),re}util.evaluatedPropsToName=B;function F(z,G,re){Object.keys(re).forEach(de=>z.assign((0,e._)`${G}${(0,e.getProperty)(de)}`,!0))}util.setEvaluated=F;const D={};function V(z,G){return z.scopeValue("func",{ref:G,code:D[G.code]||(D[G.code]=new t._Code(G.code))})}util.useFunc=V;var j;(function(z){z[z.Num=0]="Num",z[z.Str=1]="Str"})(j||(util.Type=j={}));function K(z,G,re){if(z instanceof e.Name){const de=G===j.Num;return re?de?(0,e._)`"[" + ${z} + "]"`:(0,e._)`"['" + ${z} + "']"`:de?(0,e._)`"/" + ${z}`:(0,e._)`"/" + ${z}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return re?(0,e.getProperty)(z).toString():"/"+x(z)}util.getErrorPath=K;function Q(z,G,re=z.opts.strictSchema){if(re){if(G=`strict mode: ${G}`,re===!0)throw new Error(G);z.self.logger.warn(G)}}return util.checkStrictMode=Q,util}var names={},hasRequiredNames;function requireNames(){if(hasRequiredNames)return names;hasRequiredNames=1,Object.defineProperty(names,"__esModule",{value:!0});const e=requireCodegen(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return names.default=t,names}var hasRequiredErrors;function requireErrors(){return hasRequiredErrors||(hasRequiredErrors=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=requireCodegen(),r=requireUtil(),n=requireNames();e.keywordError={message:({keyword:D})=>(0,t.str)`must pass "${D}" keyword validation`},e.keyword$DataError={message:({keyword:D,schemaType:V})=>V?(0,t.str)`"${D}" keyword must be ${V} ($data)`:(0,t.str)`"${D}" keyword is invalid ($data)`};function i(D,V=e.keywordError,j,K){const{it:Q}=D,{gen:z,compositeRule:G,allErrors:re}=Q,de=R(D,V,j);K??(G||re)?m(z,de):g(Q,(0,t._)`[${de}]`)}e.reportError=i;function a(D,V=e.keywordError,j){const{it:K}=D,{gen:Q,compositeRule:z,allErrors:G}=K,re=R(D,V,j);m(Q,re),z||G||g(K,n.default.vErrors)}e.reportExtraError=a;function u(D,V){D.assign(n.default.errors,V),D.if((0,t._)`${n.default.vErrors} !== null`,()=>D.if(V,()=>D.assign((0,t._)`${n.default.vErrors}.length`,V),()=>D.assign(n.default.vErrors,null)))}e.resetErrorsCount=u;function d({gen:D,keyword:V,schemaValue:j,data:K,errsCount:Q,it:z}){if(Q===void 0)throw new Error("ajv implementation error");const G=D.name("err");D.forRange("i",Q,n.default.errors,re=>{D.const(G,(0,t._)`${n.default.vErrors}[${re}]`),D.if((0,t._)`${G}.instancePath === undefined`,()=>D.assign((0,t._)`${G}.instancePath`,(0,t.strConcat)(n.default.instancePath,z.errorPath))),D.assign((0,t._)`${G}.schemaPath`,(0,t.str)`${z.errSchemaPath}/${V}`),z.opts.verbose&&(D.assign((0,t._)`${G}.schema`,j),D.assign((0,t._)`${G}.data`,K))})}e.extendErrors=d;function m(D,V){const j=D.const("err",V);D.if((0,t._)`${n.default.vErrors} === null`,()=>D.assign(n.default.vErrors,(0,t._)`[${j}]`),(0,t._)`${n.default.vErrors}.push(${j})`),D.code((0,t._)`${n.default.errors}++`)}function g(D,V){const{gen:j,validateName:K,schemaEnv:Q}=D;Q.$async?j.throw((0,t._)`new ${D.ValidationError}(${V})`):(j.assign((0,t._)`${K}.errors`,V),j.return(!1))}const x={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function R(D,V,j){const{createErrors:K}=D.it;return K===!1?(0,t._)`{}`:O(D,V,j)}function O(D,V,j={}){const{gen:K,it:Q}=D,z=[q(Q,j),B(D,j)];return F(D,V,z),K.object(...z)}function q({errorPath:D},{instancePath:V}){const j=V?(0,t.str)`${D}${(0,r.getErrorPath)(V,r.Type.Str)}`:D;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,j)]}function B({keyword:D,it:{errSchemaPath:V}},{schemaPath:j,parentSchema:K}){let Q=K?V:(0,t.str)`${V}/${D}`;return j&&(Q=(0,t.str)`${Q}${(0,r.getErrorPath)(j,r.Type.Str)}`),[x.schemaPath,Q]}function F(D,{params:V,message:j},K){const{keyword:Q,data:z,schemaValue:G,it:re}=D,{opts:de,propertyName:Oe,topSchemaRef:Ve,schemaPath:wt}=re;K.push([x.keyword,Q],[x.params,typeof V=="function"?V(D):V||(0,t._)`{}`]),de.messages&&K.push([x.message,typeof j=="function"?j(D):j]),de.verbose&&K.push([x.schema,G],[x.parentSchema,(0,t._)`${Ve}${wt}`],[n.default.data,z]),Oe&&K.push([x.propertyName,Oe])}})(errors)),errors}var hasRequiredBoolSchema;function requireBoolSchema(){if(hasRequiredBoolSchema)return boolSchema;hasRequiredBoolSchema=1,Object.defineProperty(boolSchema,"__esModule",{value:!0}),boolSchema.boolOrEmptySchema=boolSchema.topBoolOrEmptySchema=void 0;const e=requireErrors(),t=requireCodegen(),r=requireNames(),n={message:"boolean schema is false"};function i(d){const{gen:m,schema:g,validateName:x}=d;g===!1?u(d,!1):typeof g=="object"&&g.$async===!0?m.return(r.default.data):(m.assign((0,t._)`${x}.errors`,null),m.return(!0))}boolSchema.topBoolOrEmptySchema=i;function a(d,m){const{gen:g,schema:x}=d;x===!1?(g.var(m,!1),u(d)):g.var(m,!0)}boolSchema.boolOrEmptySchema=a;function u(d,m){const{gen:g,data:x}=d,R={gen:g,keyword:"false schema",data:x,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:d};(0,e.reportError)(R,n,void 0,m)}return boolSchema}var dataType={},rules={},hasRequiredRules;function requireRules(){if(hasRequiredRules)return rules;hasRequiredRules=1,Object.defineProperty(rules,"__esModule",{value:!0}),rules.getRules=rules.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(i){return typeof i=="string"&&t.has(i)}rules.isJSONType=r;function n(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return rules.getRules=n,rules}var applicability={},hasRequiredApplicability;function requireApplicability(){if(hasRequiredApplicability)return applicability;hasRequiredApplicability=1,Object.defineProperty(applicability,"__esModule",{value:!0}),applicability.shouldUseRule=applicability.shouldUseGroup=applicability.schemaHasRulesForType=void 0;function e({schema:n,self:i},a){const u=i.RULES.types[a];return u&&u!==!0&&t(n,u)}applicability.schemaHasRulesForType=e;function t(n,i){return i.rules.some(a=>r(n,a))}applicability.shouldUseGroup=t;function r(n,i){var a;return n[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(u=>n[u]!==void 0))}return applicability.shouldUseRule=r,applicability}var hasRequiredDataType;function requireDataType(){if(hasRequiredDataType)return dataType;hasRequiredDataType=1,Object.defineProperty(dataType,"__esModule",{value:!0}),dataType.reportTypeError=dataType.checkDataTypes=dataType.checkDataType=dataType.coerceAndCheckDataType=dataType.getJSONTypes=dataType.getSchemaTypes=dataType.DataType=void 0;const e=requireRules(),t=requireApplicability(),r=requireErrors(),n=requireCodegen(),i=requireUtil();var a;(function(j){j[j.Correct=0]="Correct",j[j.Wrong=1]="Wrong"})(a||(dataType.DataType=a={}));function u(j){const K=d(j.type);if(K.includes("null")){if(j.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!K.length&&j.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');j.nullable===!0&&K.push("null")}return K}dataType.getSchemaTypes=u;function d(j){const K=Array.isArray(j)?j:j?[j]:[];if(K.every(e.isJSONType))return K;throw new Error("type must be JSONType or JSONType[]: "+K.join(","))}dataType.getJSONTypes=d;function m(j,K){const{gen:Q,data:z,opts:G}=j,re=x(K,G.coerceTypes),de=K.length>0&&!(re.length===0&&K.length===1&&(0,t.schemaHasRulesForType)(j,K[0]));if(de){const Oe=B(K,z,G.strictNumbers,a.Wrong);Q.if(Oe,()=>{re.length?R(j,K,re):D(j)})}return de}dataType.coerceAndCheckDataType=m;const g=new Set(["string","number","integer","boolean","null"]);function x(j,K){return K?j.filter(Q=>g.has(Q)||K==="array"&&Q==="array"):[]}function R(j,K,Q){const{gen:z,data:G,opts:re}=j,de=z.let("dataType",(0,n._)`typeof ${G}`),Oe=z.let("coerced",(0,n._)`undefined`);re.coerceTypes==="array"&&z.if((0,n._)`${de} == 'object' && Array.isArray(${G}) && ${G}.length == 1`,()=>z.assign(G,(0,n._)`${G}[0]`).assign(de,(0,n._)`typeof ${G}`).if(B(K,G,re.strictNumbers),()=>z.assign(Oe,G))),z.if((0,n._)`${Oe} !== undefined`);for(const wt of Q)(g.has(wt)||wt==="array"&&re.coerceTypes==="array")&&Ve(wt);z.else(),D(j),z.endIf(),z.if((0,n._)`${Oe} !== undefined`,()=>{z.assign(G,Oe),O(j,Oe)});function Ve(wt){switch(wt){case"string":z.elseIf((0,n._)`${de} == "number" || ${de} == "boolean"`).assign(Oe,(0,n._)`"" + ${G}`).elseIf((0,n._)`${G} === null`).assign(Oe,(0,n._)`""`);return;case"number":z.elseIf((0,n._)`${de} == "boolean" || ${G} === null
              || (${de} == "string" && ${G} && ${G} == +${G})`).assign(Oe,(0,n._)`+${G}`);return;case"integer":z.elseIf((0,n._)`${de} === "boolean" || ${G} === null
              || (${de} === "string" && ${G} && ${G} == +${G} && !(${G} % 1))`).assign(Oe,(0,n._)`+${G}`);return;case"boolean":z.elseIf((0,n._)`${G} === "false" || ${G} === 0 || ${G} === null`).assign(Oe,!1).elseIf((0,n._)`${G} === "true" || ${G} === 1`).assign(Oe,!0);return;case"null":z.elseIf((0,n._)`${G} === "" || ${G} === 0 || ${G} === false`),z.assign(Oe,null);return;case"array":z.elseIf((0,n._)`${de} === "string" || ${de} === "number"
              || ${de} === "boolean" || ${G} === null`).assign(Oe,(0,n._)`[${G}]`)}}}function O({gen:j,parentData:K,parentDataProperty:Q},z){j.if((0,n._)`${K} !== undefined`,()=>j.assign((0,n._)`${K}[${Q}]`,z))}function q(j,K,Q,z=a.Correct){const G=z===a.Correct?n.operators.EQ:n.operators.NEQ;let re;switch(j){case"null":return(0,n._)`${K} ${G} null`;case"array":re=(0,n._)`Array.isArray(${K})`;break;case"object":re=(0,n._)`${K} && typeof ${K} == "object" && !Array.isArray(${K})`;break;case"integer":re=de((0,n._)`!(${K} % 1) && !isNaN(${K})`);break;case"number":re=de();break;default:return(0,n._)`typeof ${K} ${G} ${j}`}return z===a.Correct?re:(0,n.not)(re);function de(Oe=n.nil){return(0,n.and)((0,n._)`typeof ${K} == "number"`,Oe,Q?(0,n._)`isFinite(${K})`:n.nil)}}dataType.checkDataType=q;function B(j,K,Q,z){if(j.length===1)return q(j[0],K,Q,z);let G;const re=(0,i.toHash)(j);if(re.array&&re.object){const de=(0,n._)`typeof ${K} != "object"`;G=re.null?de:(0,n._)`!${K} || ${de}`,delete re.null,delete re.array,delete re.object}else G=n.nil;re.number&&delete re.integer;for(const de in re)G=(0,n.and)(G,q(de,K,Q,z));return G}dataType.checkDataTypes=B;const F={message:({schema:j})=>`must be ${j}`,params:({schema:j,schemaValue:K})=>typeof j=="string"?(0,n._)`{type: ${j}}`:(0,n._)`{type: ${K}}`};function D(j){const K=V(j);(0,r.reportError)(K,F)}dataType.reportTypeError=D;function V(j){const{gen:K,data:Q,schema:z}=j,G=(0,i.schemaRefOrVal)(j,z,"type");return{gen:K,keyword:"type",data:Q,schema:z.type,schemaCode:G,schemaValue:G,parentSchema:z,params:{},it:j}}return dataType}var defaults$1={},hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults$1;hasRequiredDefaults=1,Object.defineProperty(defaults$1,"__esModule",{value:!0}),defaults$1.assignDefaults=void 0;const e=requireCodegen(),t=requireUtil();function r(i,a){const{properties:u,items:d}=i.schema;if(a==="object"&&u)for(const m in u)n(i,m,u[m].default);else a==="array"&&Array.isArray(d)&&d.forEach((m,g)=>n(i,g,m.default))}defaults$1.assignDefaults=r;function n(i,a,u){const{gen:d,compositeRule:m,data:g,opts:x}=i;if(u===void 0)return;const R=(0,e._)`${g}${(0,e.getProperty)(a)}`;if(m){(0,t.checkStrictMode)(i,`default is ignored for: ${R}`);return}let O=(0,e._)`${R} === undefined`;x.useDefaults==="empty"&&(O=(0,e._)`${O} || ${R} === null || ${R} === ""`),d.if(O,(0,e._)`${R} = ${(0,e.stringify)(u)}`)}return defaults$1}var keyword={},code={},hasRequiredCode;function requireCode(){if(hasRequiredCode)return code;hasRequiredCode=1,Object.defineProperty(code,"__esModule",{value:!0}),code.validateUnion=code.validateArray=code.usePattern=code.callValidateCode=code.schemaProperties=code.allSchemaProperties=code.noPropertyInData=code.propertyInData=code.isOwnProperty=code.hasPropFunc=code.reportMissingProp=code.checkMissingProp=code.checkReportMissingProp=void 0;const e=requireCodegen(),t=requireUtil(),r=requireNames(),n=requireUtil();function i(j,K){const{gen:Q,data:z,it:G}=j;Q.if(x(Q,z,K,G.opts.ownProperties),()=>{j.setParams({missingProperty:(0,e._)`${K}`},!0),j.error()})}code.checkReportMissingProp=i;function a({gen:j,data:K,it:{opts:Q}},z,G){return(0,e.or)(...z.map(re=>(0,e.and)(x(j,K,re,Q.ownProperties),(0,e._)`${G} = ${re}`)))}code.checkMissingProp=a;function u(j,K){j.setParams({missingProperty:K},!0),j.error()}code.reportMissingProp=u;function d(j){return j.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}code.hasPropFunc=d;function m(j,K,Q){return(0,e._)`${d(j)}.call(${K}, ${Q})`}code.isOwnProperty=m;function g(j,K,Q,z){const G=(0,e._)`${K}${(0,e.getProperty)(Q)} !== undefined`;return z?(0,e._)`${G} && ${m(j,K,Q)}`:G}code.propertyInData=g;function x(j,K,Q,z){const G=(0,e._)`${K}${(0,e.getProperty)(Q)} === undefined`;return z?(0,e.or)(G,(0,e.not)(m(j,K,Q))):G}code.noPropertyInData=x;function R(j){return j?Object.keys(j).filter(K=>K!=="__proto__"):[]}code.allSchemaProperties=R;function O(j,K){return R(K).filter(Q=>!(0,t.alwaysValidSchema)(j,K[Q]))}code.schemaProperties=O;function q({schemaCode:j,data:K,it:{gen:Q,topSchemaRef:z,schemaPath:G,errorPath:re},it:de},Oe,Ve,wt){const Mt=wt?(0,e._)`${j}, ${K}, ${z}${G}`:K,mn=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,re)],[r.default.parentData,de.parentData],[r.default.parentDataProperty,de.parentDataProperty],[r.default.rootData,r.default.rootData]];de.opts.dynamicRef&&mn.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const bn=(0,e._)`${Mt}, ${Q.object(...mn)}`;return Ve!==e.nil?(0,e._)`${Oe}.call(${Ve}, ${bn})`:(0,e._)`${Oe}(${bn})`}code.callValidateCode=q;const B=(0,e._)`new RegExp`;function F({gen:j,it:{opts:K}},Q){const z=K.unicodeRegExp?"u":"",{regExp:G}=K.code,re=G(Q,z);return j.scopeValue("pattern",{key:re.toString(),ref:re,code:(0,e._)`${G.code==="new RegExp"?B:(0,n.useFunc)(j,G)}(${Q}, ${z})`})}code.usePattern=F;function D(j){const{gen:K,data:Q,keyword:z,it:G}=j,re=K.name("valid");if(G.allErrors){const Oe=K.let("valid",!0);return de(()=>K.assign(Oe,!1)),Oe}return K.var(re,!0),de(()=>K.break()),re;function de(Oe){const Ve=K.const("len",(0,e._)`${Q}.length`);K.forRange("i",0,Ve,wt=>{j.subschema({keyword:z,dataProp:wt,dataPropType:t.Type.Num},re),K.if((0,e.not)(re),Oe)})}}code.validateArray=D;function V(j){const{gen:K,schema:Q,keyword:z,it:G}=j;if(!Array.isArray(Q))throw new Error("ajv implementation error");if(Q.some(Ve=>(0,t.alwaysValidSchema)(G,Ve))&&!G.opts.unevaluated)return;const de=K.let("valid",!1),Oe=K.name("_valid");K.block(()=>Q.forEach((Ve,wt)=>{const Mt=j.subschema({keyword:z,schemaProp:wt,compositeRule:!0},Oe);K.assign(de,(0,e._)`${de} || ${Oe}`),j.mergeValidEvaluated(Mt,Oe)||K.if((0,e.not)(de))})),j.result(de,()=>j.reset(),()=>j.error(!0))}return code.validateUnion=V,code}var hasRequiredKeyword;function requireKeyword(){if(hasRequiredKeyword)return keyword;hasRequiredKeyword=1,Object.defineProperty(keyword,"__esModule",{value:!0}),keyword.validateKeywordUsage=keyword.validSchemaType=keyword.funcKeywordCode=keyword.macroKeywordCode=void 0;const e=requireCodegen(),t=requireNames(),r=requireCode(),n=requireErrors();function i(O,q){const{gen:B,keyword:F,schema:D,parentSchema:V,it:j}=O,K=q.macro.call(j.self,D,V,j),Q=g(B,F,K);j.opts.validateSchema!==!1&&j.self.validateSchema(K,!0);const z=B.name("valid");O.subschema({schema:K,schemaPath:e.nil,errSchemaPath:`${j.errSchemaPath}/${F}`,topSchemaRef:Q,compositeRule:!0},z),O.pass(z,()=>O.error(!0))}keyword.macroKeywordCode=i;function a(O,q){var B;const{gen:F,keyword:D,schema:V,parentSchema:j,$data:K,it:Q}=O;m(Q,q);const z=!K&&q.compile?q.compile.call(Q.self,V,j,Q):q.validate,G=g(F,D,z),re=F.let("valid");O.block$data(re,de),O.ok((B=q.valid)!==null&&B!==void 0?B:re);function de(){if(q.errors===!1)wt(),q.modifying&&u(O),Mt(()=>O.error());else{const mn=q.async?Oe():Ve();q.modifying&&u(O),Mt(()=>d(O,mn))}}function Oe(){const mn=F.let("ruleErrs",null);return F.try(()=>wt((0,e._)`await `),bn=>F.assign(re,!1).if((0,e._)`${bn} instanceof ${Q.ValidationError}`,()=>F.assign(mn,(0,e._)`${bn}.errors`),()=>F.throw(bn))),mn}function Ve(){const mn=(0,e._)`${G}.errors`;return F.assign(mn,null),wt(e.nil),mn}function wt(mn=q.async?(0,e._)`await `:e.nil){const bn=Q.opts.passContext?t.default.this:t.default.self,$n=!("compile"in q&&!K||q.schema===!1);F.assign(re,(0,e._)`${mn}${(0,r.callValidateCode)(O,G,bn,$n)}`,q.modifying)}function Mt(mn){var bn;F.if((0,e.not)((bn=q.valid)!==null&&bn!==void 0?bn:re),mn)}}keyword.funcKeywordCode=a;function u(O){const{gen:q,data:B,it:F}=O;q.if(F.parentData,()=>q.assign(B,(0,e._)`${F.parentData}[${F.parentDataProperty}]`))}function d(O,q){const{gen:B}=O;B.if((0,e._)`Array.isArray(${q})`,()=>{B.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${q} : ${t.default.vErrors}.concat(${q})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(O)},()=>O.error())}function m({schemaEnv:O},q){if(q.async&&!O.$async)throw new Error("async keyword in sync schema")}function g(O,q,B){if(B===void 0)throw new Error(`keyword "${q}" failed to compile`);return O.scopeValue("keyword",typeof B=="function"?{ref:B}:{ref:B,code:(0,e.stringify)(B)})}function x(O,q,B=!1){return!q.length||q.some(F=>F==="array"?Array.isArray(O):F==="object"?O&&typeof O=="object"&&!Array.isArray(O):typeof O==F||B&&typeof O>"u")}keyword.validSchemaType=x;function R({schema:O,opts:q,self:B,errSchemaPath:F},D,V){if(Array.isArray(D.keyword)?!D.keyword.includes(V):D.keyword!==V)throw new Error("ajv implementation error");const j=D.dependencies;if(j?.some(K=>!Object.prototype.hasOwnProperty.call(O,K)))throw new Error(`parent schema must have dependencies of ${V}: ${j.join(",")}`);if(D.validateSchema&&!D.validateSchema(O[V])){const Q=`keyword "${V}" value is invalid at path "${F}": `+B.errorsText(D.validateSchema.errors);if(q.validateSchema==="log")B.logger.error(Q);else throw new Error(Q)}}return keyword.validateKeywordUsage=R,keyword}var subschema={},hasRequiredSubschema;function requireSubschema(){if(hasRequiredSubschema)return subschema;hasRequiredSubschema=1,Object.defineProperty(subschema,"__esModule",{value:!0}),subschema.extendSubschemaMode=subschema.extendSubschemaData=subschema.getSubschema=void 0;const e=requireCodegen(),t=requireUtil();function r(a,{keyword:u,schemaProp:d,schema:m,schemaPath:g,errSchemaPath:x,topSchemaRef:R}){if(u!==void 0&&m!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(u!==void 0){const O=a.schema[u];return d===void 0?{schema:O,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(u)}`,errSchemaPath:`${a.errSchemaPath}/${u}`}:{schema:O[d],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(u)}${(0,e.getProperty)(d)}`,errSchemaPath:`${a.errSchemaPath}/${u}/${(0,t.escapeFragment)(d)}`}}if(m!==void 0){if(g===void 0||x===void 0||R===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:m,schemaPath:g,topSchemaRef:R,errSchemaPath:x}}throw new Error('either "keyword" or "schema" must be passed')}subschema.getSubschema=r;function n(a,u,{dataProp:d,dataPropType:m,data:g,dataTypes:x,propertyName:R}){if(g!==void 0&&d!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:O}=u;if(d!==void 0){const{errorPath:B,dataPathArr:F,opts:D}=u,V=O.let("data",(0,e._)`${u.data}${(0,e.getProperty)(d)}`,!0);q(V),a.errorPath=(0,e.str)`${B}${(0,t.getErrorPath)(d,m,D.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${d}`,a.dataPathArr=[...F,a.parentDataProperty]}if(g!==void 0){const B=g instanceof e.Name?g:O.let("data",g,!0);q(B),R!==void 0&&(a.propertyName=R)}x&&(a.dataTypes=x);function q(B){a.data=B,a.dataLevel=u.dataLevel+1,a.dataTypes=[],u.definedProperties=new Set,a.parentData=u.data,a.dataNames=[...u.dataNames,B]}}subschema.extendSubschemaData=n;function i(a,{jtdDiscriminator:u,jtdMetadata:d,compositeRule:m,createErrors:g,allErrors:x}){m!==void 0&&(a.compositeRule=m),g!==void 0&&(a.createErrors=g),x!==void 0&&(a.allErrors=x),a.jtdDiscriminator=u,a.jtdMetadata=d}return subschema.extendSubschemaMode=i,subschema}var resolve={},fastDeepEqual,hasRequiredFastDeepEqual;function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var u=a[i];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r}),fastDeepEqual}var jsonSchemaTraverse={exports:{}},hasRequiredJsonSchemaTraverse;function requireJsonSchemaTraverse(){if(hasRequiredJsonSchemaTraverse)return jsonSchemaTraverse.exports;hasRequiredJsonSchemaTraverse=1;var e=jsonSchemaTraverse.exports=function(n,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var u=typeof a=="function"?a:a.pre||function(){},d=a.post||function(){};t(i,u,d,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,i,a,u,d,m,g,x,R,O){if(u&&typeof u=="object"&&!Array.isArray(u)){i(u,d,m,g,x,R,O);for(var q in u){var B=u[q];if(Array.isArray(B)){if(q in e.arrayKeywords)for(var F=0;F<B.length;F++)t(n,i,a,B[F],d+"/"+q+"/"+F,m,d,q,u,F)}else if(q in e.propsKeywords){if(B&&typeof B=="object")for(var D in B)t(n,i,a,B[D],d+"/"+q+"/"+r(D),m,d,q,u,D)}else(q in e.keywords||n.allKeys&&!(q in e.skipKeywords))&&t(n,i,a,B,d+"/"+q,m,d,q,u)}a(u,d,m,g,x,R,O)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return jsonSchemaTraverse.exports}var hasRequiredResolve;function requireResolve(){if(hasRequiredResolve)return resolve;hasRequiredResolve=1,Object.defineProperty(resolve,"__esModule",{value:!0}),resolve.getSchemaRefs=resolve.resolveUrl=resolve.normalizeId=resolve._getFullPath=resolve.getFullPath=resolve.inlineRef=void 0;const e=requireUtil(),t=requireFastDeepEqual(),r=requireJsonSchemaTraverse(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(F,D=!0){return typeof F=="boolean"?!0:D===!0?!u(F):D?d(F)<=D:!1}resolve.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(F){for(const D in F){if(a.has(D))return!0;const V=F[D];if(Array.isArray(V)&&V.some(u)||typeof V=="object"&&u(V))return!0}return!1}function d(F){let D=0;for(const V in F){if(V==="$ref")return 1/0;if(D++,!n.has(V)&&(typeof F[V]=="object"&&(0,e.eachItem)(F[V],j=>D+=d(j)),D===1/0))return 1/0}return D}function m(F,D="",V){V!==!1&&(D=R(D));const j=F.parse(D);return g(F,j)}resolve.getFullPath=m;function g(F,D){return F.serialize(D).split("#")[0]+"#"}resolve._getFullPath=g;const x=/#\/?$/;function R(F){return F?F.replace(x,""):""}resolve.normalizeId=R;function O(F,D,V){return V=R(V),F.resolve(D,V)}resolve.resolveUrl=O;const q=/^[a-z_][-a-z0-9._]*$/i;function B(F,D){if(typeof F=="boolean")return{};const{schemaId:V,uriResolver:j}=this.opts,K=R(F[V]||D),Q={"":K},z=m(j,K,!1),G={},re=new Set;return r(F,{allKeys:!0},(Ve,wt,Mt,mn)=>{if(mn===void 0)return;const bn=z+wt;let $n=Q[mn];typeof Ve[V]=="string"&&($n=Rn.call(this,Ve[V])),wn.call(this,Ve.$anchor),wn.call(this,Ve.$dynamicAnchor),Q[wt]=$n;function Rn(gn){const Sn=this.opts.uriResolver.resolve;if(gn=R($n?Sn($n,gn):gn),re.has(gn))throw Oe(gn);re.add(gn);let Je=this.refs[gn];return typeof Je=="string"&&(Je=this.refs[Je]),typeof Je=="object"?de(Ve,Je.schema,gn):gn!==R(bn)&&(gn[0]==="#"?(de(Ve,G[gn],gn),G[gn]=Ve):this.refs[gn]=bn),gn}function wn(gn){if(typeof gn=="string"){if(!q.test(gn))throw new Error(`invalid anchor "${gn}"`);Rn.call(this,`#${gn}`)}}}),G;function de(Ve,wt,Mt){if(wt!==void 0&&!t(Ve,wt))throw Oe(Mt)}function Oe(Ve){return new Error(`reference "${Ve}" resolves to more than one schema`)}}return resolve.getSchemaRefs=B,resolve}var hasRequiredValidate;function requireValidate(){if(hasRequiredValidate)return validate;hasRequiredValidate=1,Object.defineProperty(validate,"__esModule",{value:!0}),validate.getData=validate.KeywordCxt=validate.validateFunctionCode=void 0;const e=requireBoolSchema(),t=requireDataType(),r=requireApplicability(),n=requireDataType(),i=requireDefaults(),a=requireKeyword(),u=requireSubschema(),d=requireCodegen(),m=requireNames(),g=requireResolve(),x=requireUtil(),R=requireErrors();function O(at){if(z(at)&&(re(at),Q(at))){D(at);return}q(at,()=>(0,e.topBoolOrEmptySchema)(at))}validate.validateFunctionCode=O;function q({gen:at,validateName:_t,schema:yn,schemaEnv:pn,opts:kn},Tn){kn.code.es5?at.func(_t,(0,d._)`${m.default.data}, ${m.default.valCxt}`,pn.$async,()=>{at.code((0,d._)`"use strict"; ${j(yn,kn)}`),F(at,kn),at.code(Tn)}):at.func(_t,(0,d._)`${m.default.data}, ${B(kn)}`,pn.$async,()=>at.code(j(yn,kn)).code(Tn))}function B(at){return(0,d._)`{${m.default.instancePath}="", ${m.default.parentData}, ${m.default.parentDataProperty}, ${m.default.rootData}=${m.default.data}${at.dynamicRef?(0,d._)`, ${m.default.dynamicAnchors}={}`:d.nil}}={}`}function F(at,_t){at.if(m.default.valCxt,()=>{at.var(m.default.instancePath,(0,d._)`${m.default.valCxt}.${m.default.instancePath}`),at.var(m.default.parentData,(0,d._)`${m.default.valCxt}.${m.default.parentData}`),at.var(m.default.parentDataProperty,(0,d._)`${m.default.valCxt}.${m.default.parentDataProperty}`),at.var(m.default.rootData,(0,d._)`${m.default.valCxt}.${m.default.rootData}`),_t.dynamicRef&&at.var(m.default.dynamicAnchors,(0,d._)`${m.default.valCxt}.${m.default.dynamicAnchors}`)},()=>{at.var(m.default.instancePath,(0,d._)`""`),at.var(m.default.parentData,(0,d._)`undefined`),at.var(m.default.parentDataProperty,(0,d._)`undefined`),at.var(m.default.rootData,m.default.data),_t.dynamicRef&&at.var(m.default.dynamicAnchors,(0,d._)`{}`)})}function D(at){const{schema:_t,opts:yn,gen:pn}=at;q(at,()=>{yn.$comment&&_t.$comment&&mn(at),Ve(at),pn.let(m.default.vErrors,null),pn.let(m.default.errors,0),yn.unevaluated&&V(at),de(at),bn(at)})}function V(at){const{gen:_t,validateName:yn}=at;at.evaluated=_t.const("evaluated",(0,d._)`${yn}.evaluated`),_t.if((0,d._)`${at.evaluated}.dynamicProps`,()=>_t.assign((0,d._)`${at.evaluated}.props`,(0,d._)`undefined`)),_t.if((0,d._)`${at.evaluated}.dynamicItems`,()=>_t.assign((0,d._)`${at.evaluated}.items`,(0,d._)`undefined`))}function j(at,_t){const yn=typeof at=="object"&&at[_t.schemaId];return yn&&(_t.code.source||_t.code.process)?(0,d._)`/*# sourceURL=${yn} */`:d.nil}function K(at,_t){if(z(at)&&(re(at),Q(at))){G(at,_t);return}(0,e.boolOrEmptySchema)(at,_t)}function Q({schema:at,self:_t}){if(typeof at=="boolean")return!at;for(const yn in at)if(_t.RULES.all[yn])return!0;return!1}function z(at){return typeof at.schema!="boolean"}function G(at,_t){const{schema:yn,gen:pn,opts:kn}=at;kn.$comment&&yn.$comment&&mn(at),wt(at),Mt(at);const Tn=pn.const("_errs",m.default.errors);de(at,Tn),pn.var(_t,(0,d._)`${Tn} === ${m.default.errors}`)}function re(at){(0,x.checkUnknownRules)(at),Oe(at)}function de(at,_t){if(at.opts.jtd)return Rn(at,[],!1,_t);const yn=(0,t.getSchemaTypes)(at.schema),pn=(0,t.coerceAndCheckDataType)(at,yn);Rn(at,yn,!pn,_t)}function Oe(at){const{schema:_t,errSchemaPath:yn,opts:pn,self:kn}=at;_t.$ref&&pn.ignoreKeywordsWithRef&&(0,x.schemaHasRulesButRef)(_t,kn.RULES)&&kn.logger.warn(`$ref: keywords ignored in schema at path "${yn}"`)}function Ve(at){const{schema:_t,opts:yn}=at;_t.default!==void 0&&yn.useDefaults&&yn.strictSchema&&(0,x.checkStrictMode)(at,"default is ignored in the schema root")}function wt(at){const _t=at.schema[at.opts.schemaId];_t&&(at.baseId=(0,g.resolveUrl)(at.opts.uriResolver,at.baseId,_t))}function Mt(at){if(at.schema.$async&&!at.schemaEnv.$async)throw new Error("async schema in sync schema")}function mn({gen:at,schemaEnv:_t,schema:yn,errSchemaPath:pn,opts:kn}){const Tn=yn.$comment;if(kn.$comment===!0)at.code((0,d._)`${m.default.self}.logger.log(${Tn})`);else if(typeof kn.$comment=="function"){const su=(0,d.str)`${pn}/$comment`,xn=at.scopeValue("root",{ref:_t.root});at.code((0,d._)`${m.default.self}.opts.$comment(${Tn}, ${su}, ${xn}.schema)`)}}function bn(at){const{gen:_t,schemaEnv:yn,validateName:pn,ValidationError:kn,opts:Tn}=at;yn.$async?_t.if((0,d._)`${m.default.errors} === 0`,()=>_t.return(m.default.data),()=>_t.throw((0,d._)`new ${kn}(${m.default.vErrors})`)):(_t.assign((0,d._)`${pn}.errors`,m.default.vErrors),Tn.unevaluated&&$n(at),_t.return((0,d._)`${m.default.errors} === 0`))}function $n({gen:at,evaluated:_t,props:yn,items:pn}){yn instanceof d.Name&&at.assign((0,d._)`${_t}.props`,yn),pn instanceof d.Name&&at.assign((0,d._)`${_t}.items`,pn)}function Rn(at,_t,yn,pn){const{gen:kn,schema:Tn,data:su,allErrors:xn,opts:ru,self:iu}=at,{RULES:au}=iu;if(Tn.$ref&&(ru.ignoreKeywordsWithRef||!(0,x.schemaHasRulesButRef)(Tn,au))){kn.block(()=>Mn(at,"$ref",au.all.$ref.definition));return}ru.jtd||gn(at,_t),kn.block(()=>{for(const uu of au.rules)gu(uu);gu(au.post)});function gu(uu){(0,r.shouldUseGroup)(Tn,uu)&&(uu.type?(kn.if((0,n.checkDataType)(uu.type,su,ru.strictNumbers)),wn(at,uu),_t.length===1&&_t[0]===uu.type&&yn&&(kn.else(),(0,n.reportTypeError)(at)),kn.endIf()):wn(at,uu),xn||kn.if((0,d._)`${m.default.errors} === ${pn||0}`))}}function wn(at,_t){const{gen:yn,schema:pn,opts:{useDefaults:kn}}=at;kn&&(0,i.assignDefaults)(at,_t.type),yn.block(()=>{for(const Tn of _t.rules)(0,r.shouldUseRule)(pn,Tn)&&Mn(at,Tn.keyword,Tn.definition,_t.type)})}function gn(at,_t){at.schemaEnv.meta||!at.opts.strictTypes||(Sn(at,_t),at.opts.allowUnionTypes||Je(at,_t),Le(at,at.dataTypes))}function Sn(at,_t){if(_t.length){if(!at.dataTypes.length){at.dataTypes=_t;return}_t.forEach(yn=>{ze(at.dataTypes,yn)||Re(at,`type "${yn}" not allowed by context "${at.dataTypes.join(",")}"`)}),_e(at,_t)}}function Je(at,_t){_t.length>1&&!(_t.length===2&&_t.includes("null"))&&Re(at,"use allowUnionTypes to allow union type keyword")}function Le(at,_t){const yn=at.self.RULES.all;for(const pn in yn){const kn=yn[pn];if(typeof kn=="object"&&(0,r.shouldUseRule)(at.schema,kn)){const{type:Tn}=kn.definition;Tn.length&&!Tn.some(su=>ct(_t,su))&&Re(at,`missing type "${Tn.join(",")}" for keyword "${pn}"`)}}}function ct(at,_t){return at.includes(_t)||_t==="number"&&at.includes("integer")}function ze(at,_t){return at.includes(_t)||_t==="integer"&&at.includes("number")}function _e(at,_t){const yn=[];for(const pn of at.dataTypes)ze(_t,pn)?yn.push(pn):_t.includes("integer")&&pn==="number"&&yn.push("integer");at.dataTypes=yn}function Re(at,_t){const yn=at.schemaEnv.baseId+at.errSchemaPath;_t+=` at "${yn}" (strictTypes)`,(0,x.checkStrictMode)(at,_t,at.opts.strictTypes)}class $t{constructor(_t,yn,pn){if((0,a.validateKeywordUsage)(_t,yn,pn),this.gen=_t.gen,this.allErrors=_t.allErrors,this.keyword=pn,this.data=_t.data,this.schema=_t.schema[pn],this.$data=yn.$data&&_t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,x.schemaRefOrVal)(_t,this.schema,pn,this.$data),this.schemaType=yn.schemaType,this.parentSchema=_t.schema,this.params={},this.it=_t,this.def=yn,this.$data)this.schemaCode=_t.gen.const("vSchema",$s(this.$data,_t));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,yn.schemaType,yn.allowUndefined))throw new Error(`${pn} value must be ${JSON.stringify(yn.schemaType)}`);("code"in yn?yn.trackErrors:yn.errors!==!1)&&(this.errsCount=_t.gen.const("_errs",m.default.errors))}result(_t,yn,pn){this.failResult((0,d.not)(_t),yn,pn)}failResult(_t,yn,pn){this.gen.if(_t),pn?pn():this.error(),yn?(this.gen.else(),yn(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(_t,yn){this.failResult((0,d.not)(_t),void 0,yn)}fail(_t){if(_t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(_t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(_t){if(!this.$data)return this.fail(_t);const{schemaCode:yn}=this;this.fail((0,d._)`${yn} !== undefined && (${(0,d.or)(this.invalid$data(),_t)})`)}error(_t,yn,pn){if(yn){this.setParams(yn),this._error(_t,pn),this.setParams({});return}this._error(_t,pn)}_error(_t,yn){(_t?R.reportExtraError:R.reportError)(this,this.def.error,yn)}$dataError(){(0,R.reportError)(this,this.def.$dataError||R.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,R.resetErrorsCount)(this.gen,this.errsCount)}ok(_t){this.allErrors||this.gen.if(_t)}setParams(_t,yn){yn?Object.assign(this.params,_t):this.params=_t}block$data(_t,yn,pn=d.nil){this.gen.block(()=>{this.check$data(_t,pn),yn()})}check$data(_t=d.nil,yn=d.nil){if(!this.$data)return;const{gen:pn,schemaCode:kn,schemaType:Tn,def:su}=this;pn.if((0,d.or)((0,d._)`${kn} === undefined`,yn)),_t!==d.nil&&pn.assign(_t,!0),(Tn.length||su.validateSchema)&&(pn.elseIf(this.invalid$data()),this.$dataError(),_t!==d.nil&&pn.assign(_t,!1)),pn.else()}invalid$data(){const{gen:_t,schemaCode:yn,schemaType:pn,def:kn,it:Tn}=this;return(0,d.or)(su(),xn());function su(){if(pn.length){if(!(yn instanceof d.Name))throw new Error("ajv implementation error");const ru=Array.isArray(pn)?pn:[pn];return(0,d._)`${(0,n.checkDataTypes)(ru,yn,Tn.opts.strictNumbers,n.DataType.Wrong)}`}return d.nil}function xn(){if(kn.validateSchema){const ru=_t.scopeValue("validate$data",{ref:kn.validateSchema});return(0,d._)`!${ru}(${yn})`}return d.nil}}subschema(_t,yn){const pn=(0,u.getSubschema)(this.it,_t);(0,u.extendSubschemaData)(pn,this.it,_t),(0,u.extendSubschemaMode)(pn,_t);const kn={...this.it,...pn,items:void 0,props:void 0};return K(kn,yn),kn}mergeEvaluated(_t,yn){const{it:pn,gen:kn}=this;pn.opts.unevaluated&&(pn.props!==!0&&_t.props!==void 0&&(pn.props=x.mergeEvaluated.props(kn,_t.props,pn.props,yn)),pn.items!==!0&&_t.items!==void 0&&(pn.items=x.mergeEvaluated.items(kn,_t.items,pn.items,yn)))}mergeValidEvaluated(_t,yn){const{it:pn,gen:kn}=this;if(pn.opts.unevaluated&&(pn.props!==!0||pn.items!==!0))return kn.if(yn,()=>this.mergeEvaluated(_t,d.Name)),!0}}validate.KeywordCxt=$t;function Mn(at,_t,yn,pn){const kn=new $t(at,yn,_t);"code"in yn?yn.code(kn,pn):kn.$data&&yn.validate?(0,a.funcKeywordCode)(kn,yn):"macro"in yn?(0,a.macroKeywordCode)(kn,yn):(yn.compile||yn.validate)&&(0,a.funcKeywordCode)(kn,yn)}const Dn=/^\/(?:[^~]|~0|~1)*$/,is=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $s(at,{dataLevel:_t,dataNames:yn,dataPathArr:pn}){let kn,Tn;if(at==="")return m.default.rootData;if(at[0]==="/"){if(!Dn.test(at))throw new Error(`Invalid JSON-pointer: ${at}`);kn=at,Tn=m.default.rootData}else{const iu=is.exec(at);if(!iu)throw new Error(`Invalid JSON-pointer: ${at}`);const au=+iu[1];if(kn=iu[2],kn==="#"){if(au>=_t)throw new Error(ru("property/index",au));return pn[_t-au]}if(au>_t)throw new Error(ru("data",au));if(Tn=yn[_t-au],!kn)return Tn}let su=Tn;const xn=kn.split("/");for(const iu of xn)iu&&(Tn=(0,d._)`${Tn}${(0,d.getProperty)((0,x.unescapeJsonPointer)(iu))}`,su=(0,d._)`${su} && ${Tn}`);return su;function ru(iu,au){return`Cannot access ${iu} ${au} levels up, current level is ${_t}`}}return validate.getData=$s,validate}var validation_error={},hasRequiredValidation_error;function requireValidation_error(){if(hasRequiredValidation_error)return validation_error;hasRequiredValidation_error=1,Object.defineProperty(validation_error,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return validation_error.default=e,validation_error}var ref_error={},hasRequiredRef_error;function requireRef_error(){if(hasRequiredRef_error)return ref_error;hasRequiredRef_error=1,Object.defineProperty(ref_error,"__esModule",{value:!0});const e=requireResolve();class t extends Error{constructor(n,i,a,u){super(u||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,e.resolveUrl)(n,i,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return ref_error.default=t,ref_error}var compile={},hasRequiredCompile;function requireCompile(){if(hasRequiredCompile)return compile;hasRequiredCompile=1,Object.defineProperty(compile,"__esModule",{value:!0}),compile.resolveSchema=compile.getCompilingSchema=compile.resolveRef=compile.compileSchema=compile.SchemaEnv=void 0;const e=requireCodegen(),t=requireValidation_error(),r=requireNames(),n=requireResolve(),i=requireUtil(),a=requireValidate();class u{constructor(V){var j;this.refs={},this.dynamicAnchors={};let K;typeof V.schema=="object"&&(K=V.schema),this.schema=V.schema,this.schemaId=V.schemaId,this.root=V.root||this,this.baseId=(j=V.baseId)!==null&&j!==void 0?j:(0,n.normalizeId)(K?.[V.schemaId||"$id"]),this.schemaPath=V.schemaPath,this.localRefs=V.localRefs,this.meta=V.meta,this.$async=K?.$async,this.refs={}}}compile.SchemaEnv=u;function d(D){const V=x.call(this,D);if(V)return V;const j=(0,n.getFullPath)(this.opts.uriResolver,D.root.baseId),{es5:K,lines:Q}=this.opts.code,{ownProperties:z}=this.opts,G=new e.CodeGen(this.scope,{es5:K,lines:Q,ownProperties:z});let re;D.$async&&(re=G.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const de=G.scopeName("validate");D.validateName=de;const Oe={gen:G,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:G.scopeValue("schema",this.opts.code.source===!0?{ref:D.schema,code:(0,e.stringify)(D.schema)}:{ref:D.schema}),validateName:de,ValidationError:re,schema:D.schema,schemaEnv:D,rootId:j,baseId:D.baseId||j,schemaPath:e.nil,errSchemaPath:D.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let Ve;try{this._compilations.add(D),(0,a.validateFunctionCode)(Oe),G.optimize(this.opts.code.optimize);const wt=G.toString();Ve=`${G.scopeRefs(r.default.scope)}return ${wt}`,this.opts.code.process&&(Ve=this.opts.code.process(Ve,D));const mn=new Function(`${r.default.self}`,`${r.default.scope}`,Ve)(this,this.scope.get());if(this.scope.value(de,{ref:mn}),mn.errors=null,mn.schema=D.schema,mn.schemaEnv=D,D.$async&&(mn.$async=!0),this.opts.code.source===!0&&(mn.source={validateName:de,validateCode:wt,scopeValues:G._values}),this.opts.unevaluated){const{props:bn,items:$n}=Oe;mn.evaluated={props:bn instanceof e.Name?void 0:bn,items:$n instanceof e.Name?void 0:$n,dynamicProps:bn instanceof e.Name,dynamicItems:$n instanceof e.Name},mn.source&&(mn.source.evaluated=(0,e.stringify)(mn.evaluated))}return D.validate=mn,D}catch(wt){throw delete D.validate,delete D.validateName,Ve&&this.logger.error("Error compiling schema, function code:",Ve),wt}finally{this._compilations.delete(D)}}compile.compileSchema=d;function m(D,V,j){var K;j=(0,n.resolveUrl)(this.opts.uriResolver,V,j);const Q=D.refs[j];if(Q)return Q;let z=O.call(this,D,j);if(z===void 0){const G=(K=D.localRefs)===null||K===void 0?void 0:K[j],{schemaId:re}=this.opts;G&&(z=new u({schema:G,schemaId:re,root:D,baseId:V}))}if(z!==void 0)return D.refs[j]=g.call(this,z)}compile.resolveRef=m;function g(D){return(0,n.inlineRef)(D.schema,this.opts.inlineRefs)?D.schema:D.validate?D:d.call(this,D)}function x(D){for(const V of this._compilations)if(R(V,D))return V}compile.getCompilingSchema=x;function R(D,V){return D.schema===V.schema&&D.root===V.root&&D.baseId===V.baseId}function O(D,V){let j;for(;typeof(j=this.refs[V])=="string";)V=j;return j||this.schemas[V]||q.call(this,D,V)}function q(D,V){const j=this.opts.uriResolver.parse(V),K=(0,n._getFullPath)(this.opts.uriResolver,j);let Q=(0,n.getFullPath)(this.opts.uriResolver,D.baseId,void 0);if(Object.keys(D.schema).length>0&&K===Q)return F.call(this,j,D);const z=(0,n.normalizeId)(K),G=this.refs[z]||this.schemas[z];if(typeof G=="string"){const re=q.call(this,D,G);return typeof re?.schema!="object"?void 0:F.call(this,j,re)}if(typeof G?.schema=="object"){if(G.validate||d.call(this,G),z===(0,n.normalizeId)(V)){const{schema:re}=G,{schemaId:de}=this.opts,Oe=re[de];return Oe&&(Q=(0,n.resolveUrl)(this.opts.uriResolver,Q,Oe)),new u({schema:re,schemaId:de,root:D,baseId:Q})}return F.call(this,j,G)}}compile.resolveSchema=q;const B=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function F(D,{baseId:V,schema:j,root:K}){var Q;if(((Q=D.fragment)===null||Q===void 0?void 0:Q[0])!=="/")return;for(const re of D.fragment.slice(1).split("/")){if(typeof j=="boolean")return;const de=j[(0,i.unescapeFragment)(re)];if(de===void 0)return;j=de;const Oe=typeof j=="object"&&j[this.opts.schemaId];!B.has(re)&&Oe&&(V=(0,n.resolveUrl)(this.opts.uriResolver,V,Oe))}let z;if(typeof j!="boolean"&&j.$ref&&!(0,i.schemaHasRulesButRef)(j,this.RULES)){const re=(0,n.resolveUrl)(this.opts.uriResolver,V,j.$ref);z=q.call(this,K,re)}const{schemaId:G}=this.opts;if(z=z||new u({schema:j,schemaId:G,root:K,baseId:V}),z.schema!==z.root.schema)return z}return compile}const $id$1="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description="Meta-schema for $data reference (JSON AnySchema extension proposal)",type$1="object",required$1=["$data"],properties$2={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties$1=!1,require$$9={$id:$id$1,description,type:type$1,required:required$1,properties:properties$2,additionalProperties:additionalProperties$1};var uri={},fastUri={exports:{}},utils,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function r(O){let q="",B=0,F=0;for(F=0;F<O.length;F++)if(B=O[F].charCodeAt(0),B!==48){if(!(B>=48&&B<=57||B>=65&&B<=70||B>=97&&B<=102))return"";q+=O[F];break}for(F+=1;F<O.length;F++){if(B=O[F].charCodeAt(0),!(B>=48&&B<=57||B>=65&&B<=70||B>=97&&B<=102))return"";q+=O[F]}return q}const n=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function i(O){return O.length=0,!0}function a(O,q,B){if(O.length){const F=r(O);if(F!=="")q.push(F);else return B.error=!0,!1;O.length=0}return!0}function u(O){let q=0;const B={error:!1,address:"",zone:""},F=[],D=[];let V=!1,j=!1,K=a;for(let Q=0;Q<O.length;Q++){const z=O[Q];if(!(z==="["||z==="]"))if(z===":"){if(V===!0&&(j=!0),!K(D,F,B))break;if(++q>7){B.error=!0;break}Q>0&&O[Q-1]===":"&&(V=!0),F.push(":");continue}else if(z==="%"){if(!K(D,F,B))break;K=i}else{D.push(z);continue}}return D.length&&(K===i?B.zone=D.join(""):j?F.push(D.join("")):F.push(r(D))),B.address=F.join(""),B}function d(O){if(m(O,":")<2)return{host:O,isIPV6:!1};const q=u(O);if(q.error)return{host:O,isIPV6:!1};{let B=q.address,F=q.address;return q.zone&&(B+="%"+q.zone,F+="%25"+q.zone),{host:B,isIPV6:!0,escapedHost:F}}}function m(O,q){let B=0;for(let F=0;F<O.length;F++)O[F]===q&&B++;return B}function g(O){let q=O;const B=[];let F=-1,D=0;for(;D=q.length;){if(D===1){if(q===".")break;if(q==="/"){B.push("/");break}else{B.push(q);break}}else if(D===2){if(q[0]==="."){if(q[1]===".")break;if(q[1]==="/"){q=q.slice(2);continue}}else if(q[0]==="/"&&(q[1]==="."||q[1]==="/")){B.push("/");break}}else if(D===3&&q==="/.."){B.length!==0&&B.pop(),B.push("/");break}if(q[0]==="."){if(q[1]==="."){if(q[2]==="/"){q=q.slice(3);continue}}else if(q[1]==="/"){q=q.slice(2);continue}}else if(q[0]==="/"&&q[1]==="."){if(q[2]==="/"){q=q.slice(2);continue}else if(q[2]==="."&&q[3]==="/"){q=q.slice(3),B.length!==0&&B.pop();continue}}if((F=q.indexOf("/",1))===-1){B.push(q);break}else B.push(q.slice(0,F)),q=q.slice(F)}return B.join("")}function x(O,q){const B=q!==!0?escape:unescape;return O.scheme!==void 0&&(O.scheme=B(O.scheme)),O.userinfo!==void 0&&(O.userinfo=B(O.userinfo)),O.host!==void 0&&(O.host=B(O.host)),O.path!==void 0&&(O.path=B(O.path)),O.query!==void 0&&(O.query=B(O.query)),O.fragment!==void 0&&(O.fragment=B(O.fragment)),O}function R(O){const q=[];if(O.userinfo!==void 0&&(q.push(O.userinfo),q.push("@")),O.host!==void 0){let B=unescape(O.host);if(!t(B)){const F=d(B);F.isIPV6===!0?B=`[${F.escapedHost}]`:B=O.host}q.push(B)}return(typeof O.port=="number"||typeof O.port=="string")&&(q.push(":"),q.push(String(O.port))),q.length?q.join(""):void 0}return utils={nonSimpleDomain:n,recomposeAuthority:R,normalizeComponentEncoding:x,removeDotSegments:g,isIPv4:t,isUUID:e,normalizeIPv6:d,stringArrayToHexStripped:r},utils}var schemes,hasRequiredSchemes;function requireSchemes(){if(hasRequiredSchemes)return schemes;hasRequiredSchemes=1;const{isUUID:e}=requireUtils(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,r=["http","https","ws","wss","urn","urn:uuid"];function n(z){return r.indexOf(z)!==-1}function i(z){return z.secure===!0?!0:z.secure===!1?!1:z.scheme?z.scheme.length===3&&(z.scheme[0]==="w"||z.scheme[0]==="W")&&(z.scheme[1]==="s"||z.scheme[1]==="S")&&(z.scheme[2]==="s"||z.scheme[2]==="S"):!1}function a(z){return z.host||(z.error=z.error||"HTTP URIs must have a host."),z}function u(z){const G=String(z.scheme).toLowerCase()==="https";return(z.port===(G?443:80)||z.port==="")&&(z.port=void 0),z.path||(z.path="/"),z}function d(z){return z.secure=i(z),z.resourceName=(z.path||"/")+(z.query?"?"+z.query:""),z.path=void 0,z.query=void 0,z}function m(z){if((z.port===(i(z)?443:80)||z.port==="")&&(z.port=void 0),typeof z.secure=="boolean"&&(z.scheme=z.secure?"wss":"ws",z.secure=void 0),z.resourceName){const[G,re]=z.resourceName.split("?");z.path=G&&G!=="/"?G:void 0,z.query=re,z.resourceName=void 0}return z.fragment=void 0,z}function g(z,G){if(!z.path)return z.error="URN can not be parsed",z;const re=z.path.match(t);if(re){const de=G.scheme||z.scheme||"urn";z.nid=re[1].toLowerCase(),z.nss=re[2];const Oe=`${de}:${G.nid||z.nid}`,Ve=Q(Oe);z.path=void 0,Ve&&(z=Ve.parse(z,G))}else z.error=z.error||"URN can not be parsed.";return z}function x(z,G){if(z.nid===void 0)throw new Error("URN without nid cannot be serialized");const re=G.scheme||z.scheme||"urn",de=z.nid.toLowerCase(),Oe=`${re}:${G.nid||de}`,Ve=Q(Oe);Ve&&(z=Ve.serialize(z,G));const wt=z,Mt=z.nss;return wt.path=`${de||G.nid}:${Mt}`,G.skipEscape=!0,wt}function R(z,G){const re=z;return re.uuid=re.nss,re.nss=void 0,!G.tolerant&&(!re.uuid||!e(re.uuid))&&(re.error=re.error||"UUID is not valid."),re}function O(z){const G=z;return G.nss=(z.uuid||"").toLowerCase(),G}const q={scheme:"http",domainHost:!0,parse:a,serialize:u},B={scheme:"https",domainHost:q.domainHost,parse:a,serialize:u},F={scheme:"ws",domainHost:!0,parse:d,serialize:m},D={scheme:"wss",domainHost:F.domainHost,parse:F.parse,serialize:F.serialize},K={http:q,https:B,ws:F,wss:D,urn:{scheme:"urn",parse:g,serialize:x,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:R,serialize:O,skipNormalize:!0}};Object.setPrototypeOf(K,null);function Q(z){return z&&(K[z]||K[z.toLowerCase()])||void 0}return schemes={wsIsSecure:i,SCHEMES:K,isValidSchemeName:n,getSchemeHandler:Q},schemes}var hasRequiredFastUri;function requireFastUri(){if(hasRequiredFastUri)return fastUri.exports;hasRequiredFastUri=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:r,normalizeComponentEncoding:n,isIPv4:i,nonSimpleDomain:a}=requireUtils(),{SCHEMES:u,getSchemeHandler:d}=requireSchemes();function m(D,V){return typeof D=="string"?D=O(B(D,V),V):typeof D=="object"&&(D=B(O(D,V),V)),D}function g(D,V,j){const K=j?Object.assign({scheme:"null"},j):{scheme:"null"},Q=x(B(D,K),B(V,K),K,!0);return K.skipEscape=!0,O(Q,K)}function x(D,V,j,K){const Q={};return K||(D=B(O(D,j),j),V=B(O(V,j),j)),j=j||{},!j.tolerant&&V.scheme?(Q.scheme=V.scheme,Q.userinfo=V.userinfo,Q.host=V.host,Q.port=V.port,Q.path=t(V.path||""),Q.query=V.query):(V.userinfo!==void 0||V.host!==void 0||V.port!==void 0?(Q.userinfo=V.userinfo,Q.host=V.host,Q.port=V.port,Q.path=t(V.path||""),Q.query=V.query):(V.path?(V.path[0]==="/"?Q.path=t(V.path):((D.userinfo!==void 0||D.host!==void 0||D.port!==void 0)&&!D.path?Q.path="/"+V.path:D.path?Q.path=D.path.slice(0,D.path.lastIndexOf("/")+1)+V.path:Q.path=V.path,Q.path=t(Q.path)),Q.query=V.query):(Q.path=D.path,V.query!==void 0?Q.query=V.query:Q.query=D.query),Q.userinfo=D.userinfo,Q.host=D.host,Q.port=D.port),Q.scheme=D.scheme),Q.fragment=V.fragment,Q}function R(D,V,j){return typeof D=="string"?(D=unescape(D),D=O(n(B(D,j),!0),{...j,skipEscape:!0})):typeof D=="object"&&(D=O(n(D,!0),{...j,skipEscape:!0})),typeof V=="string"?(V=unescape(V),V=O(n(B(V,j),!0),{...j,skipEscape:!0})):typeof V=="object"&&(V=O(n(V,!0),{...j,skipEscape:!0})),D.toLowerCase()===V.toLowerCase()}function O(D,V){const j={host:D.host,scheme:D.scheme,userinfo:D.userinfo,port:D.port,path:D.path,query:D.query,nid:D.nid,nss:D.nss,uuid:D.uuid,fragment:D.fragment,reference:D.reference,resourceName:D.resourceName,secure:D.secure,error:""},K=Object.assign({},V),Q=[],z=d(K.scheme||j.scheme);z&&z.serialize&&z.serialize(j,K),j.path!==void 0&&(K.skipEscape?j.path=unescape(j.path):(j.path=escape(j.path),j.scheme!==void 0&&(j.path=j.path.split("%3A").join(":")))),K.reference!=="suffix"&&j.scheme&&Q.push(j.scheme,":");const G=r(j);if(G!==void 0&&(K.reference!=="suffix"&&Q.push("//"),Q.push(G),j.path&&j.path[0]!=="/"&&Q.push("/")),j.path!==void 0){let re=j.path;!K.absolutePath&&(!z||!z.absolutePath)&&(re=t(re)),G===void 0&&re[0]==="/"&&re[1]==="/"&&(re="/%2F"+re.slice(2)),Q.push(re)}return j.query!==void 0&&Q.push("?",j.query),j.fragment!==void 0&&Q.push("#",j.fragment),Q.join("")}const q=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function B(D,V){const j=Object.assign({},V),K={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let Q=!1;j.reference==="suffix"&&(j.scheme?D=j.scheme+":"+D:D="//"+D);const z=D.match(q);if(z){if(K.scheme=z[1],K.userinfo=z[3],K.host=z[4],K.port=parseInt(z[5],10),K.path=z[6]||"",K.query=z[7],K.fragment=z[8],isNaN(K.port)&&(K.port=z[5]),K.host)if(i(K.host)===!1){const de=e(K.host);K.host=de.host.toLowerCase(),Q=de.isIPV6}else Q=!0;K.scheme===void 0&&K.userinfo===void 0&&K.host===void 0&&K.port===void 0&&K.query===void 0&&!K.path?K.reference="same-document":K.scheme===void 0?K.reference="relative":K.fragment===void 0?K.reference="absolute":K.reference="uri",j.reference&&j.reference!=="suffix"&&j.reference!==K.reference&&(K.error=K.error||"URI is not a "+j.reference+" reference.");const G=d(j.scheme||K.scheme);if(!j.unicodeSupport&&(!G||!G.unicodeSupport)&&K.host&&(j.domainHost||G&&G.domainHost)&&Q===!1&&a(K.host))try{K.host=URL.domainToASCII(K.host.toLowerCase())}catch(re){K.error=K.error||"Host's domain name can not be converted to ASCII: "+re}(!G||G&&!G.skipNormalize)&&(D.indexOf("%")!==-1&&(K.scheme!==void 0&&(K.scheme=unescape(K.scheme)),K.host!==void 0&&(K.host=unescape(K.host))),K.path&&(K.path=escape(unescape(K.path))),K.fragment&&(K.fragment=encodeURI(decodeURIComponent(K.fragment)))),G&&G.parse&&G.parse(K,j)}else K.error=K.error||"URI can not be parsed.";return K}const F={SCHEMES:u,normalize:m,resolve:g,resolveComponent:x,equal:R,serialize:O,parse:B};return fastUri.exports=F,fastUri.exports.default=F,fastUri.exports.fastUri=F,fastUri.exports}var hasRequiredUri;function requireUri(){if(hasRequiredUri)return uri;hasRequiredUri=1,Object.defineProperty(uri,"__esModule",{value:!0});const e=requireFastUri();return e.code='require("ajv/dist/runtime/uri").default',uri.default=e,uri}var hasRequiredCore$1;function requireCore$1(){return hasRequiredCore$1||(hasRequiredCore$1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=requireValidate();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=requireCodegen();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=requireValidation_error(),i=requireRef_error(),a=requireRules(),u=requireCompile(),d=requireCodegen(),m=requireResolve(),g=requireDataType(),x=requireUtil(),R=require$$9,O=requireUri(),q=(Je,Le)=>new RegExp(Je,Le);q.code="new RegExp";const B=["removeAdditional","useDefaults","coerceTypes"],F=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),D={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},V={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},j=200;function K(Je){var Le,ct,ze,_e,Re,$t,Mn,Dn,is,$s,at,_t,yn,pn,kn,Tn,su,xn,ru,iu,au,gu,uu,pu,wu;const hu=Je.strict,yu=(Le=Je.code)===null||Le===void 0?void 0:Le.optimize,Iu=yu===!0||yu===void 0?1:yu||0,Tu=(ze=(ct=Je.code)===null||ct===void 0?void 0:ct.regExp)!==null&&ze!==void 0?ze:q,ie=(_e=Je.uriResolver)!==null&&_e!==void 0?_e:O.default;return{strictSchema:($t=(Re=Je.strictSchema)!==null&&Re!==void 0?Re:hu)!==null&&$t!==void 0?$t:!0,strictNumbers:(Dn=(Mn=Je.strictNumbers)!==null&&Mn!==void 0?Mn:hu)!==null&&Dn!==void 0?Dn:!0,strictTypes:($s=(is=Je.strictTypes)!==null&&is!==void 0?is:hu)!==null&&$s!==void 0?$s:"log",strictTuples:(_t=(at=Je.strictTuples)!==null&&at!==void 0?at:hu)!==null&&_t!==void 0?_t:"log",strictRequired:(pn=(yn=Je.strictRequired)!==null&&yn!==void 0?yn:hu)!==null&&pn!==void 0?pn:!1,code:Je.code?{...Je.code,optimize:Iu,regExp:Tu}:{optimize:Iu,regExp:Tu},loopRequired:(kn=Je.loopRequired)!==null&&kn!==void 0?kn:j,loopEnum:(Tn=Je.loopEnum)!==null&&Tn!==void 0?Tn:j,meta:(su=Je.meta)!==null&&su!==void 0?su:!0,messages:(xn=Je.messages)!==null&&xn!==void 0?xn:!0,inlineRefs:(ru=Je.inlineRefs)!==null&&ru!==void 0?ru:!0,schemaId:(iu=Je.schemaId)!==null&&iu!==void 0?iu:"$id",addUsedSchema:(au=Je.addUsedSchema)!==null&&au!==void 0?au:!0,validateSchema:(gu=Je.validateSchema)!==null&&gu!==void 0?gu:!0,validateFormats:(uu=Je.validateFormats)!==null&&uu!==void 0?uu:!0,unicodeRegExp:(pu=Je.unicodeRegExp)!==null&&pu!==void 0?pu:!0,int32range:(wu=Je.int32range)!==null&&wu!==void 0?wu:!0,uriResolver:ie}}class Q{constructor(Le={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Le=this.opts={...Le,...K(Le)};const{es5:ct,lines:ze}=this.opts.code;this.scope=new d.ValueScope({scope:{},prefixes:F,es5:ct,lines:ze}),this.logger=Mt(Le.logger);const _e=Le.validateFormats;Le.validateFormats=!1,this.RULES=(0,a.getRules)(),z.call(this,D,Le,"NOT SUPPORTED"),z.call(this,V,Le,"DEPRECATED","warn"),this._metaOpts=Ve.call(this),Le.formats&&de.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Le.keywords&&Oe.call(this,Le.keywords),typeof Le.meta=="object"&&this.addMetaSchema(Le.meta),re.call(this),Le.validateFormats=_e}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Le,meta:ct,schemaId:ze}=this.opts;let _e=R;ze==="id"&&(_e={...R},_e.id=_e.$id,delete _e.$id),ct&&Le&&this.addMetaSchema(_e,_e[ze],!1)}defaultMeta(){const{meta:Le,schemaId:ct}=this.opts;return this.opts.defaultMeta=typeof Le=="object"?Le[ct]||Le:void 0}validate(Le,ct){let ze;if(typeof Le=="string"){if(ze=this.getSchema(Le),!ze)throw new Error(`no schema with key or ref "${Le}"`)}else ze=this.compile(Le);const _e=ze(ct);return"$async"in ze||(this.errors=ze.errors),_e}compile(Le,ct){const ze=this._addSchema(Le,ct);return ze.validate||this._compileSchemaEnv(ze)}compileAsync(Le,ct){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:ze}=this.opts;return _e.call(this,Le,ct);async function _e($s,at){await Re.call(this,$s.$schema);const _t=this._addSchema($s,at);return _t.validate||$t.call(this,_t)}async function Re($s){$s&&!this.getSchema($s)&&await _e.call(this,{$ref:$s},!0)}async function $t($s){try{return this._compileSchemaEnv($s)}catch(at){if(!(at instanceof i.default))throw at;return Mn.call(this,at),await Dn.call(this,at.missingSchema),$t.call(this,$s)}}function Mn({missingSchema:$s,missingRef:at}){if(this.refs[$s])throw new Error(`AnySchema ${$s} is loaded but ${at} cannot be resolved`)}async function Dn($s){const at=await is.call(this,$s);this.refs[$s]||await Re.call(this,at.$schema),this.refs[$s]||this.addSchema(at,$s,ct)}async function is($s){const at=this._loading[$s];if(at)return at;try{return await(this._loading[$s]=ze($s))}finally{delete this._loading[$s]}}}addSchema(Le,ct,ze,_e=this.opts.validateSchema){if(Array.isArray(Le)){for(const $t of Le)this.addSchema($t,void 0,ze,_e);return this}let Re;if(typeof Le=="object"){const{schemaId:$t}=this.opts;if(Re=Le[$t],Re!==void 0&&typeof Re!="string")throw new Error(`schema ${$t} must be string`)}return ct=(0,m.normalizeId)(ct||Re),this._checkUnique(ct),this.schemas[ct]=this._addSchema(Le,ze,ct,_e,!0),this}addMetaSchema(Le,ct,ze=this.opts.validateSchema){return this.addSchema(Le,ct,!0,ze),this}validateSchema(Le,ct){if(typeof Le=="boolean")return!0;let ze;if(ze=Le.$schema,ze!==void 0&&typeof ze!="string")throw new Error("$schema must be a string");if(ze=ze||this.opts.defaultMeta||this.defaultMeta(),!ze)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const _e=this.validate(ze,Le);if(!_e&&ct){const Re="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Re);else throw new Error(Re)}return _e}getSchema(Le){let ct;for(;typeof(ct=G.call(this,Le))=="string";)Le=ct;if(ct===void 0){const{schemaId:ze}=this.opts,_e=new u.SchemaEnv({schema:{},schemaId:ze});if(ct=u.resolveSchema.call(this,_e,Le),!ct)return;this.refs[Le]=ct}return ct.validate||this._compileSchemaEnv(ct)}removeSchema(Le){if(Le instanceof RegExp)return this._removeAllSchemas(this.schemas,Le),this._removeAllSchemas(this.refs,Le),this;switch(typeof Le){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ct=G.call(this,Le);return typeof ct=="object"&&this._cache.delete(ct.schema),delete this.schemas[Le],delete this.refs[Le],this}case"object":{const ct=Le;this._cache.delete(ct);let ze=Le[this.opts.schemaId];return ze&&(ze=(0,m.normalizeId)(ze),delete this.schemas[ze],delete this.refs[ze]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Le){for(const ct of Le)this.addKeyword(ct);return this}addKeyword(Le,ct){let ze;if(typeof Le=="string")ze=Le,typeof ct=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ct.keyword=ze);else if(typeof Le=="object"&&ct===void 0){if(ct=Le,ze=ct.keyword,Array.isArray(ze)&&!ze.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(bn.call(this,ze,ct),!ct)return(0,x.eachItem)(ze,Re=>$n.call(this,Re)),this;wn.call(this,ct);const _e={...ct,type:(0,g.getJSONTypes)(ct.type),schemaType:(0,g.getJSONTypes)(ct.schemaType)};return(0,x.eachItem)(ze,_e.type.length===0?Re=>$n.call(this,Re,_e):Re=>_e.type.forEach($t=>$n.call(this,Re,_e,$t))),this}getKeyword(Le){const ct=this.RULES.all[Le];return typeof ct=="object"?ct.definition:!!ct}removeKeyword(Le){const{RULES:ct}=this;delete ct.keywords[Le],delete ct.all[Le];for(const ze of ct.rules){const _e=ze.rules.findIndex(Re=>Re.keyword===Le);_e>=0&&ze.rules.splice(_e,1)}return this}addFormat(Le,ct){return typeof ct=="string"&&(ct=new RegExp(ct)),this.formats[Le]=ct,this}errorsText(Le=this.errors,{separator:ct=", ",dataVar:ze="data"}={}){return!Le||Le.length===0?"No errors":Le.map(_e=>`${ze}${_e.instancePath} ${_e.message}`).reduce((_e,Re)=>_e+ct+Re)}$dataMetaSchema(Le,ct){const ze=this.RULES.all;Le=JSON.parse(JSON.stringify(Le));for(const _e of ct){const Re=_e.split("/").slice(1);let $t=Le;for(const Mn of Re)$t=$t[Mn];for(const Mn in ze){const Dn=ze[Mn];if(typeof Dn!="object")continue;const{$data:is}=Dn.definition,$s=$t[Mn];is&&$s&&($t[Mn]=Sn($s))}}return Le}_removeAllSchemas(Le,ct){for(const ze in Le){const _e=Le[ze];(!ct||ct.test(ze))&&(typeof _e=="string"?delete Le[ze]:_e&&!_e.meta&&(this._cache.delete(_e.schema),delete Le[ze]))}}_addSchema(Le,ct,ze,_e=this.opts.validateSchema,Re=this.opts.addUsedSchema){let $t;const{schemaId:Mn}=this.opts;if(typeof Le=="object")$t=Le[Mn];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Le!="boolean")throw new Error("schema must be object or boolean")}let Dn=this._cache.get(Le);if(Dn!==void 0)return Dn;ze=(0,m.normalizeId)($t||ze);const is=m.getSchemaRefs.call(this,Le,ze);return Dn=new u.SchemaEnv({schema:Le,schemaId:Mn,meta:ct,baseId:ze,localRefs:is}),this._cache.set(Dn.schema,Dn),Re&&!ze.startsWith("#")&&(ze&&this._checkUnique(ze),this.refs[ze]=Dn),_e&&this.validateSchema(Le,!0),Dn}_checkUnique(Le){if(this.schemas[Le]||this.refs[Le])throw new Error(`schema with key or id "${Le}" already exists`)}_compileSchemaEnv(Le){if(Le.meta?this._compileMetaSchema(Le):u.compileSchema.call(this,Le),!Le.validate)throw new Error("ajv implementation error");return Le.validate}_compileMetaSchema(Le){const ct=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,Le)}finally{this.opts=ct}}}Q.ValidationError=n.default,Q.MissingRefError=i.default,e.default=Q;function z(Je,Le,ct,ze="error"){for(const _e in Je){const Re=_e;Re in Le&&this.logger[ze](`${ct}: option ${_e}. ${Je[Re]}`)}}function G(Je){return Je=(0,m.normalizeId)(Je),this.schemas[Je]||this.refs[Je]}function re(){const Je=this.opts.schemas;if(Je)if(Array.isArray(Je))this.addSchema(Je);else for(const Le in Je)this.addSchema(Je[Le],Le)}function de(){for(const Je in this.opts.formats){const Le=this.opts.formats[Je];Le&&this.addFormat(Je,Le)}}function Oe(Je){if(Array.isArray(Je)){this.addVocabulary(Je);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Le in Je){const ct=Je[Le];ct.keyword||(ct.keyword=Le),this.addKeyword(ct)}}function Ve(){const Je={...this.opts};for(const Le of B)delete Je[Le];return Je}const wt={log(){},warn(){},error(){}};function Mt(Je){if(Je===!1)return wt;if(Je===void 0)return console;if(Je.log&&Je.warn&&Je.error)return Je;throw new Error("logger must implement log, warn and error methods")}const mn=/^[a-z_$][a-z0-9_$:-]*$/i;function bn(Je,Le){const{RULES:ct}=this;if((0,x.eachItem)(Je,ze=>{if(ct.keywords[ze])throw new Error(`Keyword ${ze} is already defined`);if(!mn.test(ze))throw new Error(`Keyword ${ze} has invalid name`)}),!!Le&&Le.$data&&!("code"in Le||"validate"in Le))throw new Error('$data keyword must have "code" or "validate" function')}function $n(Je,Le,ct){var ze;const _e=Le?.post;if(ct&&_e)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Re}=this;let $t=_e?Re.post:Re.rules.find(({type:Dn})=>Dn===ct);if($t||($t={type:ct,rules:[]},Re.rules.push($t)),Re.keywords[Je]=!0,!Le)return;const Mn={keyword:Je,definition:{...Le,type:(0,g.getJSONTypes)(Le.type),schemaType:(0,g.getJSONTypes)(Le.schemaType)}};Le.before?Rn.call(this,$t,Mn,Le.before):$t.rules.push(Mn),Re.all[Je]=Mn,(ze=Le.implements)===null||ze===void 0||ze.forEach(Dn=>this.addKeyword(Dn))}function Rn(Je,Le,ct){const ze=Je.rules.findIndex(_e=>_e.keyword===ct);ze>=0?Je.rules.splice(ze,0,Le):(Je.rules.push(Le),this.logger.warn(`rule ${ct} is not defined`))}function wn(Je){let{metaSchema:Le}=Je;Le!==void 0&&(Je.$data&&this.opts.$data&&(Le=Sn(Le)),Je.validateSchema=this.compile(Le,!0))}const gn={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Sn(Je){return{anyOf:[Je,gn]}}})(core$1)),core$1}var draft7={},core={},id$1={},hasRequiredId;function requireId(){if(hasRequiredId)return id$1;hasRequiredId=1,Object.defineProperty(id$1,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return id$1.default=e,id$1}var ref={},hasRequiredRef;function requireRef(){if(hasRequiredRef)return ref;hasRequiredRef=1,Object.defineProperty(ref,"__esModule",{value:!0}),ref.callRef=ref.getValidate=void 0;const e=requireRef_error(),t=requireCode(),r=requireCodegen(),n=requireNames(),i=requireCompile(),a=requireUtil(),u={keyword:"$ref",schemaType:"string",code(g){const{gen:x,schema:R,it:O}=g,{baseId:q,schemaEnv:B,validateName:F,opts:D,self:V}=O,{root:j}=B;if((R==="#"||R==="#/")&&q===j.baseId)return Q();const K=i.resolveRef.call(V,j,q,R);if(K===void 0)throw new e.default(O.opts.uriResolver,q,R);if(K instanceof i.SchemaEnv)return z(K);return G(K);function Q(){if(B===j)return m(g,F,B,B.$async);const re=x.scopeValue("root",{ref:j});return m(g,(0,r._)`${re}.validate`,j,j.$async)}function z(re){const de=d(g,re);m(g,de,re,re.$async)}function G(re){const de=x.scopeValue("schema",D.code.source===!0?{ref:re,code:(0,r.stringify)(re)}:{ref:re}),Oe=x.name("valid"),Ve=g.subschema({schema:re,dataTypes:[],schemaPath:r.nil,topSchemaRef:de,errSchemaPath:R},Oe);g.mergeEvaluated(Ve),g.ok(Oe)}}};function d(g,x){const{gen:R}=g;return x.validate?R.scopeValue("validate",{ref:x.validate}):(0,r._)`${R.scopeValue("wrapper",{ref:x})}.validate`}ref.getValidate=d;function m(g,x,R,O){const{gen:q,it:B}=g,{allErrors:F,schemaEnv:D,opts:V}=B,j=V.passContext?n.default.this:r.nil;O?K():Q();function K(){if(!D.$async)throw new Error("async schema referenced by sync schema");const re=q.let("valid");q.try(()=>{q.code((0,r._)`await ${(0,t.callValidateCode)(g,x,j)}`),G(x),F||q.assign(re,!0)},de=>{q.if((0,r._)`!(${de} instanceof ${B.ValidationError})`,()=>q.throw(de)),z(de),F||q.assign(re,!1)}),g.ok(re)}function Q(){g.result((0,t.callValidateCode)(g,x,j),()=>G(x),()=>z(x))}function z(re){const de=(0,r._)`${re}.errors`;q.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${de} : ${n.default.vErrors}.concat(${de})`),q.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function G(re){var de;if(!B.opts.unevaluated)return;const Oe=(de=R?.validate)===null||de===void 0?void 0:de.evaluated;if(B.props!==!0)if(Oe&&!Oe.dynamicProps)Oe.props!==void 0&&(B.props=a.mergeEvaluated.props(q,Oe.props,B.props));else{const Ve=q.var("props",(0,r._)`${re}.evaluated.props`);B.props=a.mergeEvaluated.props(q,Ve,B.props,r.Name)}if(B.items!==!0)if(Oe&&!Oe.dynamicItems)Oe.items!==void 0&&(B.items=a.mergeEvaluated.items(q,Oe.items,B.items));else{const Ve=q.var("items",(0,r._)`${re}.evaluated.items`);B.items=a.mergeEvaluated.items(q,Ve,B.items,r.Name)}}}return ref.callRef=m,ref.default=u,ref}var hasRequiredCore;function requireCore(){if(hasRequiredCore)return core;hasRequiredCore=1,Object.defineProperty(core,"__esModule",{value:!0});const e=requireId(),t=requireRef(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return core.default=r,core}var validation={},limitNumber={},hasRequiredLimitNumber;function requireLimitNumber(){if(hasRequiredLimitNumber)return limitNumber;hasRequiredLimitNumber=1,Object.defineProperty(limitNumber,"__esModule",{value:!0});const e=requireCodegen(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:a,schemaCode:u})=>(0,e.str)`must be ${r[a].okStr} ${u}`,params:({keyword:a,schemaCode:u})=>(0,e._)`{comparison: ${r[a].okStr}, limit: ${u}}`},i={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(a){const{keyword:u,data:d,schemaCode:m}=a;a.fail$data((0,e._)`${d} ${r[u].fail} ${m} || isNaN(${d})`)}};return limitNumber.default=i,limitNumber}var multipleOf={},hasRequiredMultipleOf;function requireMultipleOf(){if(hasRequiredMultipleOf)return multipleOf;hasRequiredMultipleOf=1,Object.defineProperty(multipleOf,"__esModule",{value:!0});const e=requireCodegen(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:i,data:a,schemaCode:u,it:d}=n,m=d.opts.multipleOfPrecision,g=i.let("res"),x=m?(0,e._)`Math.abs(Math.round(${g}) - ${g}) > 1e-${m}`:(0,e._)`${g} !== parseInt(${g})`;n.fail$data((0,e._)`(${u} === 0 || (${g} = ${a}/${u}, ${x}))`)}};return multipleOf.default=r,multipleOf}var limitLength={},ucs2length={},hasRequiredUcs2length;function requireUcs2length(){if(hasRequiredUcs2length)return ucs2length;hasRequiredUcs2length=1,Object.defineProperty(ucs2length,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,i=0,a;for(;i<r;)n++,a=t.charCodeAt(i++),a>=55296&&a<=56319&&i<r&&(a=t.charCodeAt(i),(a&64512)===56320&&i++);return n}return ucs2length.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',ucs2length}var hasRequiredLimitLength;function requireLimitLength(){if(hasRequiredLimitLength)return limitLength;hasRequiredLimitLength=1,Object.defineProperty(limitLength,"__esModule",{value:!0});const e=requireCodegen(),t=requireUtil(),r=requireUcs2length(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:u}){const d=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${d} than ${u} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:u,data:d,schemaCode:m,it:g}=a,x=u==="maxLength"?e.operators.GT:e.operators.LT,R=g.opts.unicode===!1?(0,e._)`${d}.length`:(0,e._)`${(0,t.useFunc)(a.gen,r.default)}(${d})`;a.fail$data((0,e._)`${R} ${x} ${m}`)}};return limitLength.default=i,limitLength}var pattern={},hasRequiredPattern;function requirePattern(){if(hasRequiredPattern)return pattern;hasRequiredPattern=1,Object.defineProperty(pattern,"__esModule",{value:!0});const e=requireCode(),t=requireCodegen(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:a,$data:u,schema:d,schemaCode:m,it:g}=i,x=g.opts.unicodeRegExp?"u":"",R=u?(0,t._)`(new RegExp(${m}, ${x}))`:(0,e.usePattern)(i,d);i.fail$data((0,t._)`!${R}.test(${a})`)}};return pattern.default=n,pattern}var limitProperties={},hasRequiredLimitProperties;function requireLimitProperties(){if(hasRequiredLimitProperties)return limitProperties;hasRequiredLimitProperties=1,Object.defineProperty(limitProperties,"__esModule",{value:!0});const e=requireCodegen(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const a=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:i,data:a,schemaCode:u}=n,d=i==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${a}).length ${d} ${u}`)}};return limitProperties.default=r,limitProperties}var required={},hasRequiredRequired;function requireRequired(){if(hasRequiredRequired)return required;hasRequiredRequired=1,Object.defineProperty(required,"__esModule",{value:!0});const e=requireCode(),t=requireCodegen(),r=requireUtil(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,t.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,t._)`{missingProperty: ${a}}`},code(a){const{gen:u,schema:d,schemaCode:m,data:g,$data:x,it:R}=a,{opts:O}=R;if(!x&&d.length===0)return;const q=d.length>=O.loopRequired;if(R.allErrors?B():F(),O.strictRequired){const j=a.parentSchema.properties,{definedProperties:K}=a.it;for(const Q of d)if(j?.[Q]===void 0&&!K.has(Q)){const z=R.schemaEnv.baseId+R.errSchemaPath,G=`required property "${Q}" is not defined at "${z}" (strictRequired)`;(0,r.checkStrictMode)(R,G,R.opts.strictRequired)}}function B(){if(q||x)a.block$data(t.nil,D);else for(const j of d)(0,e.checkReportMissingProp)(a,j)}function F(){const j=u.let("missing");if(q||x){const K=u.let("valid",!0);a.block$data(K,()=>V(j,K)),a.ok(K)}else u.if((0,e.checkMissingProp)(a,d,j)),(0,e.reportMissingProp)(a,j),u.else()}function D(){u.forOf("prop",m,j=>{a.setParams({missingProperty:j}),u.if((0,e.noPropertyInData)(u,g,j,O.ownProperties),()=>a.error())})}function V(j,K){a.setParams({missingProperty:j}),u.forOf(j,m,()=>{u.assign(K,(0,e.propertyInData)(u,g,j,O.ownProperties)),u.if((0,t.not)(K),()=>{a.error(),u.break()})},t.nil)}}};return required.default=i,required}var limitItems={},hasRequiredLimitItems;function requireLimitItems(){if(hasRequiredLimitItems)return limitItems;hasRequiredLimitItems=1,Object.defineProperty(limitItems,"__esModule",{value:!0});const e=requireCodegen(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const a=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:i,data:a,schemaCode:u}=n,d=i==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${a}.length ${d} ${u}`)}};return limitItems.default=r,limitItems}var uniqueItems={},equal={},hasRequiredEqual;function requireEqual(){if(hasRequiredEqual)return equal;hasRequiredEqual=1,Object.defineProperty(equal,"__esModule",{value:!0});const e=requireFastDeepEqual();return e.code='require("ajv/dist/runtime/equal").default',equal.default=e,equal}var hasRequiredUniqueItems;function requireUniqueItems(){if(hasRequiredUniqueItems)return uniqueItems;hasRequiredUniqueItems=1,Object.defineProperty(uniqueItems,"__esModule",{value:!0});const e=requireDataType(),t=requireCodegen(),r=requireUtil(),n=requireEqual(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:u,j:d}})=>(0,t.str)`must NOT have duplicate items (items ## ${d} and ${u} are identical)`,params:({params:{i:u,j:d}})=>(0,t._)`{i: ${u}, j: ${d}}`},code(u){const{gen:d,data:m,$data:g,schema:x,parentSchema:R,schemaCode:O,it:q}=u;if(!g&&!x)return;const B=d.let("valid"),F=R.items?(0,e.getSchemaTypes)(R.items):[];u.block$data(B,D,(0,t._)`${O} === false`),u.ok(B);function D(){const Q=d.let("i",(0,t._)`${m}.length`),z=d.let("j");u.setParams({i:Q,j:z}),d.assign(B,!0),d.if((0,t._)`${Q} > 1`,()=>(V()?j:K)(Q,z))}function V(){return F.length>0&&!F.some(Q=>Q==="object"||Q==="array")}function j(Q,z){const G=d.name("item"),re=(0,e.checkDataTypes)(F,G,q.opts.strictNumbers,e.DataType.Wrong),de=d.const("indices",(0,t._)`{}`);d.for((0,t._)`;${Q}--;`,()=>{d.let(G,(0,t._)`${m}[${Q}]`),d.if(re,(0,t._)`continue`),F.length>1&&d.if((0,t._)`typeof ${G} == "string"`,(0,t._)`${G} += "_"`),d.if((0,t._)`typeof ${de}[${G}] == "number"`,()=>{d.assign(z,(0,t._)`${de}[${G}]`),u.error(),d.assign(B,!1).break()}).code((0,t._)`${de}[${G}] = ${Q}`)})}function K(Q,z){const G=(0,r.useFunc)(d,n.default),re=d.name("outer");d.label(re).for((0,t._)`;${Q}--;`,()=>d.for((0,t._)`${z} = ${Q}; ${z}--;`,()=>d.if((0,t._)`${G}(${m}[${Q}], ${m}[${z}])`,()=>{u.error(),d.assign(B,!1).break(re)})))}}};return uniqueItems.default=a,uniqueItems}var _const={},hasRequired_const;function require_const(){if(hasRequired_const)return _const;hasRequired_const=1,Object.defineProperty(_const,"__esModule",{value:!0});const e=requireCodegen(),t=requireUtil(),r=requireEqual(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:u,data:d,$data:m,schemaCode:g,schema:x}=a;m||x&&typeof x=="object"?a.fail$data((0,e._)`!${(0,t.useFunc)(u,r.default)}(${d}, ${g})`):a.fail((0,e._)`${x} !== ${d}`)}};return _const.default=i,_const}var _enum={},hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,Object.defineProperty(_enum,"__esModule",{value:!0});const e=requireCodegen(),t=requireUtil(),r=requireEqual(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:u,data:d,$data:m,schema:g,schemaCode:x,it:R}=a;if(!m&&g.length===0)throw new Error("enum must have non-empty array");const O=g.length>=R.opts.loopEnum;let q;const B=()=>q??(q=(0,t.useFunc)(u,r.default));let F;if(O||m)F=u.let("valid"),a.block$data(F,D);else{if(!Array.isArray(g))throw new Error("ajv implementation error");const j=u.const("vSchema",x);F=(0,e.or)(...g.map((K,Q)=>V(j,Q)))}a.pass(F);function D(){u.assign(F,!1),u.forOf("v",x,j=>u.if((0,e._)`${B()}(${d}, ${j})`,()=>u.assign(F,!0).break()))}function V(j,K){const Q=g[K];return typeof Q=="object"&&Q!==null?(0,e._)`${B()}(${d}, ${j}[${K}])`:(0,e._)`${d} === ${Q}`}}};return _enum.default=i,_enum}var hasRequiredValidation;function requireValidation(){if(hasRequiredValidation)return validation;hasRequiredValidation=1,Object.defineProperty(validation,"__esModule",{value:!0});const e=requireLimitNumber(),t=requireMultipleOf(),r=requireLimitLength(),n=requirePattern(),i=requireLimitProperties(),a=requireRequired(),u=requireLimitItems(),d=requireUniqueItems(),m=require_const(),g=require_enum(),x=[e.default,t.default,r.default,n.default,i.default,a.default,u.default,d.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},m.default,g.default];return validation.default=x,validation}var applicator={},additionalItems={},hasRequiredAdditionalItems;function requireAdditionalItems(){if(hasRequiredAdditionalItems)return additionalItems;hasRequiredAdditionalItems=1,Object.defineProperty(additionalItems,"__esModule",{value:!0}),additionalItems.validateAdditionalItems=void 0;const e=requireCodegen(),t=requireUtil(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:u,it:d}=a,{items:m}=u;if(!Array.isArray(m)){(0,t.checkStrictMode)(d,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,m)}};function i(a,u){const{gen:d,schema:m,data:g,keyword:x,it:R}=a;R.items=!0;const O=d.const("len",(0,e._)`${g}.length`);if(m===!1)a.setParams({len:u.length}),a.pass((0,e._)`${O} <= ${u.length}`);else if(typeof m=="object"&&!(0,t.alwaysValidSchema)(R,m)){const B=d.var("valid",(0,e._)`${O} <= ${u.length}`);d.if((0,e.not)(B),()=>q(B)),a.ok(B)}function q(B){d.forRange("i",u.length,O,F=>{a.subschema({keyword:x,dataProp:F,dataPropType:t.Type.Num},B),R.allErrors||d.if((0,e.not)(B),()=>d.break())})}}return additionalItems.validateAdditionalItems=i,additionalItems.default=n,additionalItems}var prefixItems={},items={},hasRequiredItems;function requireItems(){if(hasRequiredItems)return items;hasRequiredItems=1,Object.defineProperty(items,"__esModule",{value:!0}),items.validateTuple=void 0;const e=requireCodegen(),t=requireUtil(),r=requireCode(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:u,it:d}=a;if(Array.isArray(u))return i(a,"additionalItems",u);d.items=!0,!(0,t.alwaysValidSchema)(d,u)&&a.ok((0,r.validateArray)(a))}};function i(a,u,d=a.schema){const{gen:m,parentSchema:g,data:x,keyword:R,it:O}=a;F(g),O.opts.unevaluated&&d.length&&O.items!==!0&&(O.items=t.mergeEvaluated.items(m,d.length,O.items));const q=m.name("valid"),B=m.const("len",(0,e._)`${x}.length`);d.forEach((D,V)=>{(0,t.alwaysValidSchema)(O,D)||(m.if((0,e._)`${B} > ${V}`,()=>a.subschema({keyword:R,schemaProp:V,dataProp:V},q)),a.ok(q))});function F(D){const{opts:V,errSchemaPath:j}=O,K=d.length,Q=K===D.minItems&&(K===D.maxItems||D[u]===!1);if(V.strictTuples&&!Q){const z=`"${R}" is ${K}-tuple, but minItems or maxItems/${u} are not specified or different at path "${j}"`;(0,t.checkStrictMode)(O,z,V.strictTuples)}}}return items.validateTuple=i,items.default=n,items}var hasRequiredPrefixItems;function requirePrefixItems(){if(hasRequiredPrefixItems)return prefixItems;hasRequiredPrefixItems=1,Object.defineProperty(prefixItems,"__esModule",{value:!0});const e=requireItems(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return prefixItems.default=t,prefixItems}var items2020={},hasRequiredItems2020;function requireItems2020(){if(hasRequiredItems2020)return items2020;hasRequiredItems2020=1,Object.defineProperty(items2020,"__esModule",{value:!0});const e=requireCodegen(),t=requireUtil(),r=requireCode(),n=requireAdditionalItems(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:u}})=>(0,e.str)`must NOT have more than ${u} items`,params:({params:{len:u}})=>(0,e._)`{limit: ${u}}`},code(u){const{schema:d,parentSchema:m,it:g}=u,{prefixItems:x}=m;g.items=!0,!(0,t.alwaysValidSchema)(g,d)&&(x?(0,n.validateAdditionalItems)(u,x):u.ok((0,r.validateArray)(u)))}};return items2020.default=a,items2020}var contains={},hasRequiredContains;function requireContains(){if(hasRequiredContains)return contains;hasRequiredContains=1,Object.defineProperty(contains,"__esModule",{value:!0});const e=requireCodegen(),t=requireUtil(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:u,parentSchema:d,data:m,it:g}=i;let x,R;const{minContains:O,maxContains:q}=d;g.opts.next?(x=O===void 0?1:O,R=q):x=1;const B=a.const("len",(0,e._)`${m}.length`);if(i.setParams({min:x,max:R}),R===void 0&&x===0){(0,t.checkStrictMode)(g,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(R!==void 0&&x>R){(0,t.checkStrictMode)(g,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(g,u)){let K=(0,e._)`${B} >= ${x}`;R!==void 0&&(K=(0,e._)`${K} && ${B} <= ${R}`),i.pass(K);return}g.items=!0;const F=a.name("valid");R===void 0&&x===1?V(F,()=>a.if(F,()=>a.break())):x===0?(a.let(F,!0),R!==void 0&&a.if((0,e._)`${m}.length > 0`,D)):(a.let(F,!1),D()),i.result(F,()=>i.reset());function D(){const K=a.name("_valid"),Q=a.let("count",0);V(K,()=>a.if(K,()=>j(Q)))}function V(K,Q){a.forRange("i",0,B,z=>{i.subschema({keyword:"contains",dataProp:z,dataPropType:t.Type.Num,compositeRule:!0},K),Q()})}function j(K){a.code((0,e._)`${K}++`),R===void 0?a.if((0,e._)`${K} >= ${x}`,()=>a.assign(F,!0).break()):(a.if((0,e._)`${K} > ${R}`,()=>a.assign(F,!1).break()),x===1?a.assign(F,!0):a.if((0,e._)`${K} >= ${x}`,()=>a.assign(F,!0)))}}};return contains.default=n,contains}var dependencies={},hasRequiredDependencies;function requireDependencies(){return hasRequiredDependencies||(hasRequiredDependencies=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=requireCodegen(),r=requireUtil(),n=requireCode();e.error={message:({params:{property:m,depsCount:g,deps:x}})=>{const R=g===1?"property":"properties";return(0,t.str)`must have ${R} ${x} when property ${m} is present`},params:({params:{property:m,depsCount:g,deps:x,missingProperty:R}})=>(0,t._)`{property: ${m},
    missingProperty: ${R},
    depsCount: ${g},
    deps: ${x}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(m){const[g,x]=a(m);u(m,g),d(m,x)}};function a({schema:m}){const g={},x={};for(const R in m){if(R==="__proto__")continue;const O=Array.isArray(m[R])?g:x;O[R]=m[R]}return[g,x]}function u(m,g=m.schema){const{gen:x,data:R,it:O}=m;if(Object.keys(g).length===0)return;const q=x.let("missing");for(const B in g){const F=g[B];if(F.length===0)continue;const D=(0,n.propertyInData)(x,R,B,O.opts.ownProperties);m.setParams({property:B,depsCount:F.length,deps:F.join(", ")}),O.allErrors?x.if(D,()=>{for(const V of F)(0,n.checkReportMissingProp)(m,V)}):(x.if((0,t._)`${D} && (${(0,n.checkMissingProp)(m,F,q)})`),(0,n.reportMissingProp)(m,q),x.else())}}e.validatePropertyDeps=u;function d(m,g=m.schema){const{gen:x,data:R,keyword:O,it:q}=m,B=x.name("valid");for(const F in g)(0,r.alwaysValidSchema)(q,g[F])||(x.if((0,n.propertyInData)(x,R,F,q.opts.ownProperties),()=>{const D=m.subschema({keyword:O,schemaProp:F},B);m.mergeValidEvaluated(D,B)},()=>x.var(B,!0)),m.ok(B))}e.validateSchemaDeps=d,e.default=i})(dependencies)),dependencies}var propertyNames={},hasRequiredPropertyNames;function requirePropertyNames(){if(hasRequiredPropertyNames)return propertyNames;hasRequiredPropertyNames=1,Object.defineProperty(propertyNames,"__esModule",{value:!0});const e=requireCodegen(),t=requireUtil(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:u,data:d,it:m}=i;if((0,t.alwaysValidSchema)(m,u))return;const g=a.name("valid");a.forIn("key",d,x=>{i.setParams({propertyName:x}),i.subschema({keyword:"propertyNames",data:x,dataTypes:["string"],propertyName:x,compositeRule:!0},g),a.if((0,e.not)(g),()=>{i.error(!0),m.allErrors||a.break()})}),i.ok(g)}};return propertyNames.default=n,propertyNames}var additionalProperties={},hasRequiredAdditionalProperties;function requireAdditionalProperties(){if(hasRequiredAdditionalProperties)return additionalProperties;hasRequiredAdditionalProperties=1,Object.defineProperty(additionalProperties,"__esModule",{value:!0});const e=requireCode(),t=requireCodegen(),r=requireNames(),n=requireUtil(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:u})=>(0,t._)`{additionalProperty: ${u.additionalProperty}}`},code(u){const{gen:d,schema:m,parentSchema:g,data:x,errsCount:R,it:O}=u;if(!R)throw new Error("ajv implementation error");const{allErrors:q,opts:B}=O;if(O.props=!0,B.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(O,m))return;const F=(0,e.allSchemaProperties)(g.properties),D=(0,e.allSchemaProperties)(g.patternProperties);V(),u.ok((0,t._)`${R} === ${r.default.errors}`);function V(){d.forIn("key",x,G=>{!F.length&&!D.length?Q(G):d.if(j(G),()=>Q(G))})}function j(G){let re;if(F.length>8){const de=(0,n.schemaRefOrVal)(O,g.properties,"properties");re=(0,e.isOwnProperty)(d,de,G)}else F.length?re=(0,t.or)(...F.map(de=>(0,t._)`${G} === ${de}`)):re=t.nil;return D.length&&(re=(0,t.or)(re,...D.map(de=>(0,t._)`${(0,e.usePattern)(u,de)}.test(${G})`))),(0,t.not)(re)}function K(G){d.code((0,t._)`delete ${x}[${G}]`)}function Q(G){if(B.removeAdditional==="all"||B.removeAdditional&&m===!1){K(G);return}if(m===!1){u.setParams({additionalProperty:G}),u.error(),q||d.break();return}if(typeof m=="object"&&!(0,n.alwaysValidSchema)(O,m)){const re=d.name("valid");B.removeAdditional==="failing"?(z(G,re,!1),d.if((0,t.not)(re),()=>{u.reset(),K(G)})):(z(G,re),q||d.if((0,t.not)(re),()=>d.break()))}}function z(G,re,de){const Oe={keyword:"additionalProperties",dataProp:G,dataPropType:n.Type.Str};de===!1&&Object.assign(Oe,{compositeRule:!0,createErrors:!1,allErrors:!1}),u.subschema(Oe,re)}}};return additionalProperties.default=a,additionalProperties}var properties$1={},hasRequiredProperties;function requireProperties(){if(hasRequiredProperties)return properties$1;hasRequiredProperties=1,Object.defineProperty(properties$1,"__esModule",{value:!0});const e=requireValidate(),t=requireCode(),r=requireUtil(),n=requireAdditionalProperties(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:u,schema:d,parentSchema:m,data:g,it:x}=a;x.opts.removeAdditional==="all"&&m.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(x,n.default,"additionalProperties"));const R=(0,t.allSchemaProperties)(d);for(const D of R)x.definedProperties.add(D);x.opts.unevaluated&&R.length&&x.props!==!0&&(x.props=r.mergeEvaluated.props(u,(0,r.toHash)(R),x.props));const O=R.filter(D=>!(0,r.alwaysValidSchema)(x,d[D]));if(O.length===0)return;const q=u.name("valid");for(const D of O)B(D)?F(D):(u.if((0,t.propertyInData)(u,g,D,x.opts.ownProperties)),F(D),x.allErrors||u.else().var(q,!0),u.endIf()),a.it.definedProperties.add(D),a.ok(q);function B(D){return x.opts.useDefaults&&!x.compositeRule&&d[D].default!==void 0}function F(D){a.subschema({keyword:"properties",schemaProp:D,dataProp:D},q)}}};return properties$1.default=i,properties$1}var patternProperties={},hasRequiredPatternProperties;function requirePatternProperties(){if(hasRequiredPatternProperties)return patternProperties;hasRequiredPatternProperties=1,Object.defineProperty(patternProperties,"__esModule",{value:!0});const e=requireCode(),t=requireCodegen(),r=requireUtil(),n=requireUtil(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:u,schema:d,data:m,parentSchema:g,it:x}=a,{opts:R}=x,O=(0,e.allSchemaProperties)(d),q=O.filter(Q=>(0,r.alwaysValidSchema)(x,d[Q]));if(O.length===0||q.length===O.length&&(!x.opts.unevaluated||x.props===!0))return;const B=R.strictSchema&&!R.allowMatchingProperties&&g.properties,F=u.name("valid");x.props!==!0&&!(x.props instanceof t.Name)&&(x.props=(0,n.evaluatedPropsToName)(u,x.props));const{props:D}=x;V();function V(){for(const Q of O)B&&j(Q),x.allErrors?K(Q):(u.var(F,!0),K(Q),u.if(F))}function j(Q){for(const z in B)new RegExp(Q).test(z)&&(0,r.checkStrictMode)(x,`property ${z} matches pattern ${Q} (use allowMatchingProperties)`)}function K(Q){u.forIn("key",m,z=>{u.if((0,t._)`${(0,e.usePattern)(a,Q)}.test(${z})`,()=>{const G=q.includes(Q);G||a.subschema({keyword:"patternProperties",schemaProp:Q,dataProp:z,dataPropType:n.Type.Str},F),x.opts.unevaluated&&D!==!0?u.assign((0,t._)`${D}[${z}]`,!0):!G&&!x.allErrors&&u.if((0,t.not)(F),()=>u.break())})})}}};return patternProperties.default=i,patternProperties}var not={},hasRequiredNot;function requireNot(){if(hasRequiredNot)return not;hasRequiredNot=1,Object.defineProperty(not,"__esModule",{value:!0});const e=requireUtil(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:i,it:a}=r;if((0,e.alwaysValidSchema)(a,i)){r.fail();return}const u=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),r.failResult(u,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return not.default=t,not}var anyOf={},hasRequiredAnyOf;function requireAnyOf(){if(hasRequiredAnyOf)return anyOf;hasRequiredAnyOf=1,Object.defineProperty(anyOf,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:requireCode().validateUnion,error:{message:"must match a schema in anyOf"}};return anyOf.default=t,anyOf}var oneOf={},hasRequiredOneOf;function requireOneOf(){if(hasRequiredOneOf)return oneOf;hasRequiredOneOf=1,Object.defineProperty(oneOf,"__esModule",{value:!0});const e=requireCodegen(),t=requireUtil(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:u,parentSchema:d,it:m}=i;if(!Array.isArray(u))throw new Error("ajv implementation error");if(m.opts.discriminator&&d.discriminator)return;const g=u,x=a.let("valid",!1),R=a.let("passing",null),O=a.name("_valid");i.setParams({passing:R}),a.block(q),i.result(x,()=>i.reset(),()=>i.error(!0));function q(){g.forEach((B,F)=>{let D;(0,t.alwaysValidSchema)(m,B)?a.var(O,!0):D=i.subschema({keyword:"oneOf",schemaProp:F,compositeRule:!0},O),F>0&&a.if((0,e._)`${O} && ${x}`).assign(x,!1).assign(R,(0,e._)`[${R}, ${F}]`).else(),a.if(O,()=>{a.assign(x,!0),a.assign(R,F),D&&i.mergeEvaluated(D,e.Name)})})}}};return oneOf.default=n,oneOf}var allOf={},hasRequiredAllOf;function requireAllOf(){if(hasRequiredAllOf)return allOf;hasRequiredAllOf=1,Object.defineProperty(allOf,"__esModule",{value:!0});const e=requireUtil(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:i,it:a}=r;if(!Array.isArray(i))throw new Error("ajv implementation error");const u=n.name("valid");i.forEach((d,m)=>{if((0,e.alwaysValidSchema)(a,d))return;const g=r.subschema({keyword:"allOf",schemaProp:m},u);r.ok(u),r.mergeEvaluated(g)})}};return allOf.default=t,allOf}var _if={},hasRequired_if;function require_if(){if(hasRequired_if)return _if;hasRequired_if=1,Object.defineProperty(_if,"__esModule",{value:!0});const e=requireCodegen(),t=requireUtil(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:u,parentSchema:d,it:m}=a;d.then===void 0&&d.else===void 0&&(0,t.checkStrictMode)(m,'"if" without "then" and "else" is ignored');const g=i(m,"then"),x=i(m,"else");if(!g&&!x)return;const R=u.let("valid",!0),O=u.name("_valid");if(q(),a.reset(),g&&x){const F=u.let("ifClause");a.setParams({ifClause:F}),u.if(O,B("then",F),B("else",F))}else g?u.if(O,B("then")):u.if((0,e.not)(O),B("else"));a.pass(R,()=>a.error(!0));function q(){const F=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},O);a.mergeEvaluated(F)}function B(F,D){return()=>{const V=a.subschema({keyword:F},O);u.assign(R,O),a.mergeValidEvaluated(V,R),D?u.assign(D,(0,e._)`${F}`):a.setParams({ifClause:F})}}}};function i(a,u){const d=a.schema[u];return d!==void 0&&!(0,t.alwaysValidSchema)(a,d)}return _if.default=n,_if}var thenElse={},hasRequiredThenElse;function requireThenElse(){if(hasRequiredThenElse)return thenElse;hasRequiredThenElse=1,Object.defineProperty(thenElse,"__esModule",{value:!0});const e=requireUtil(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:i}){n.if===void 0&&(0,e.checkStrictMode)(i,`"${r}" without "if" is ignored`)}};return thenElse.default=t,thenElse}var hasRequiredApplicator;function requireApplicator(){if(hasRequiredApplicator)return applicator;hasRequiredApplicator=1,Object.defineProperty(applicator,"__esModule",{value:!0});const e=requireAdditionalItems(),t=requirePrefixItems(),r=requireItems(),n=requireItems2020(),i=requireContains(),a=requireDependencies(),u=requirePropertyNames(),d=requireAdditionalProperties(),m=requireProperties(),g=requirePatternProperties(),x=requireNot(),R=requireAnyOf(),O=requireOneOf(),q=requireAllOf(),B=require_if(),F=requireThenElse();function D(V=!1){const j=[x.default,R.default,O.default,q.default,B.default,F.default,u.default,d.default,a.default,m.default,g.default];return V?j.push(t.default,n.default):j.push(e.default,r.default),j.push(i.default),j}return applicator.default=D,applicator}var format$2={},format$1={},hasRequiredFormat$1;function requireFormat$1(){if(hasRequiredFormat$1)return format$1;hasRequiredFormat$1=1,Object.defineProperty(format$1,"__esModule",{value:!0});const e=requireCodegen(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,i){const{gen:a,data:u,$data:d,schema:m,schemaCode:g,it:x}=n,{opts:R,errSchemaPath:O,schemaEnv:q,self:B}=x;if(!R.validateFormats)return;d?F():D();function F(){const V=a.scopeValue("formats",{ref:B.formats,code:R.code.formats}),j=a.const("fDef",(0,e._)`${V}[${g}]`),K=a.let("fType"),Q=a.let("format");a.if((0,e._)`typeof ${j} == "object" && !(${j} instanceof RegExp)`,()=>a.assign(K,(0,e._)`${j}.type || "string"`).assign(Q,(0,e._)`${j}.validate`),()=>a.assign(K,(0,e._)`"string"`).assign(Q,j)),n.fail$data((0,e.or)(z(),G()));function z(){return R.strictSchema===!1?e.nil:(0,e._)`${g} && !${Q}`}function G(){const re=q.$async?(0,e._)`(${j}.async ? await ${Q}(${u}) : ${Q}(${u}))`:(0,e._)`${Q}(${u})`,de=(0,e._)`(typeof ${Q} == "function" ? ${re} : ${Q}.test(${u}))`;return(0,e._)`${Q} && ${Q} !== true && ${K} === ${i} && !${de}`}}function D(){const V=B.formats[m];if(!V){z();return}if(V===!0)return;const[j,K,Q]=G(V);j===i&&n.pass(re());function z(){if(R.strictSchema===!1){B.logger.warn(de());return}throw new Error(de());function de(){return`unknown format "${m}" ignored in schema at path "${O}"`}}function G(de){const Oe=de instanceof RegExp?(0,e.regexpCode)(de):R.code.formats?(0,e._)`${R.code.formats}${(0,e.getProperty)(m)}`:void 0,Ve=a.scopeValue("formats",{key:m,ref:de,code:Oe});return typeof de=="object"&&!(de instanceof RegExp)?[de.type||"string",de.validate,(0,e._)`${Ve}.validate`]:["string",de,Ve]}function re(){if(typeof V=="object"&&!(V instanceof RegExp)&&V.async){if(!q.$async)throw new Error("async format in sync schema");return(0,e._)`await ${Q}(${u})`}return typeof K=="function"?(0,e._)`${Q}(${u})`:(0,e._)`${Q}.test(${u})`}}}};return format$1.default=r,format$1}var hasRequiredFormat;function requireFormat(){if(hasRequiredFormat)return format$2;hasRequiredFormat=1,Object.defineProperty(format$2,"__esModule",{value:!0});const t=[requireFormat$1().default];return format$2.default=t,format$2}var metadata={},hasRequiredMetadata;function requireMetadata(){return hasRequiredMetadata||(hasRequiredMetadata=1,Object.defineProperty(metadata,"__esModule",{value:!0}),metadata.contentVocabulary=metadata.metadataVocabulary=void 0,metadata.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],metadata.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),metadata}var hasRequiredDraft7;function requireDraft7(){if(hasRequiredDraft7)return draft7;hasRequiredDraft7=1,Object.defineProperty(draft7,"__esModule",{value:!0});const e=requireCore(),t=requireValidation(),r=requireApplicator(),n=requireFormat(),i=requireMetadata(),a=[e.default,t.default,(0,r.default)(),n.default,i.metadataVocabulary,i.contentVocabulary];return draft7.default=a,draft7}var discriminator={},types={},hasRequiredTypes;function requireTypes(){if(hasRequiredTypes)return types;hasRequiredTypes=1,Object.defineProperty(types,"__esModule",{value:!0}),types.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(types.DiscrError=e={})),types}var hasRequiredDiscriminator;function requireDiscriminator(){if(hasRequiredDiscriminator)return discriminator;hasRequiredDiscriminator=1,Object.defineProperty(discriminator,"__esModule",{value:!0});const e=requireCodegen(),t=requireTypes(),r=requireCompile(),n=requireRef_error(),i=requireUtil(),u={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:d,tagName:m}})=>d===t.DiscrError.Tag?`tag "${m}" must be string`:`value of tag "${m}" must be in oneOf`,params:({params:{discrError:d,tag:m,tagName:g}})=>(0,e._)`{error: ${d}, tag: ${g}, tagValue: ${m}}`},code(d){const{gen:m,data:g,schema:x,parentSchema:R,it:O}=d,{oneOf:q}=R;if(!O.opts.discriminator)throw new Error("discriminator: requires discriminator option");const B=x.propertyName;if(typeof B!="string")throw new Error("discriminator: requires propertyName");if(x.mapping)throw new Error("discriminator: mapping is not supported");if(!q)throw new Error("discriminator: requires oneOf keyword");const F=m.let("valid",!1),D=m.const("tag",(0,e._)`${g}${(0,e.getProperty)(B)}`);m.if((0,e._)`typeof ${D} == "string"`,()=>V(),()=>d.error(!1,{discrError:t.DiscrError.Tag,tag:D,tagName:B})),d.ok(F);function V(){const Q=K();m.if(!1);for(const z in Q)m.elseIf((0,e._)`${D} === ${z}`),m.assign(F,j(Q[z]));m.else(),d.error(!1,{discrError:t.DiscrError.Mapping,tag:D,tagName:B}),m.endIf()}function j(Q){const z=m.name("valid"),G=d.subschema({keyword:"oneOf",schemaProp:Q},z);return d.mergeEvaluated(G,e.Name),z}function K(){var Q;const z={},G=de(R);let re=!0;for(let wt=0;wt<q.length;wt++){let Mt=q[wt];if(Mt?.$ref&&!(0,i.schemaHasRulesButRef)(Mt,O.self.RULES)){const bn=Mt.$ref;if(Mt=r.resolveRef.call(O.self,O.schemaEnv.root,O.baseId,bn),Mt instanceof r.SchemaEnv&&(Mt=Mt.schema),Mt===void 0)throw new n.default(O.opts.uriResolver,O.baseId,bn)}const mn=(Q=Mt?.properties)===null||Q===void 0?void 0:Q[B];if(typeof mn!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${B}"`);re=re&&(G||de(Mt)),Oe(mn,wt)}if(!re)throw new Error(`discriminator: "${B}" must be required`);return z;function de({required:wt}){return Array.isArray(wt)&&wt.includes(B)}function Oe(wt,Mt){if(wt.const)Ve(wt.const,Mt);else if(wt.enum)for(const mn of wt.enum)Ve(mn,Mt);else throw new Error(`discriminator: "properties/${B}" must have "const" or "enum"`)}function Ve(wt,Mt){if(typeof wt!="string"||wt in z)throw new Error(`discriminator: "${B}" values must be unique strings`);z[wt]=Mt}}}};return discriminator.default=u,discriminator}const $schema="http://json-schema.org/draft-07/schema#",$id="http://json-schema.org/draft-07/schema#",title="Core schema meta-schema",definitions={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type=["object","boolean"],properties={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},require$$3={$schema,$id,title,definitions,type,properties,default:!0};var hasRequiredAjv;function requireAjv(){return hasRequiredAjv||(hasRequiredAjv=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=requireCore$1(),n=requireDraft7(),i=requireDiscriminator(),a=require$$3,u=["/properties"],d="http://json-schema.org/draft-07/schema";class m extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(B=>this.addVocabulary(B)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const B=this.opts.$data?this.$dataMetaSchema(a,u):a;this.addMetaSchema(B,d,!1),this.refs["http://json-schema.org/schema"]=d}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(d)?d:void 0)}}t.Ajv=m,e.exports=t=m,e.exports.Ajv=m,Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var g=requireValidate();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return g.KeywordCxt}});var x=requireCodegen();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return x._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return x.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return x.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return x.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return x.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return x.CodeGen}});var R=requireValidation_error();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return R.default}});var O=requireRef_error();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return O.default}})})(ajv,ajv.exports)),ajv.exports}var ajvExports=requireAjv();const Ajv2=getDefaultExportFromCjs$1(ajvExports);function __awaiter$2(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function d(x){try{g(n.next(x))}catch(R){u(R)}}function m(x){try{g(n.throw(x))}catch(R){u(R)}}function g(x){x.done?a(x.value):i(x.value).then(d,m)}g((n=n.apply(e,[])).next())})}function __generator$1(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(x){return m([g,x])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(x){g=[6,x],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function __read(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],u;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(d){u={error:d}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a}function __spreadArray(e,t,r){if(arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var defaultErrorConfig={withStackTrace:!1},createNeverThrowError=function(e,t,r){r===void 0&&(r=defaultErrorConfig);var n=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},i=r.withStackTrace?new Error().stack:void 0;return{data:n,message:e,stack:i}},Result;(function(e){function t(r,n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];try{var u=r.apply(void 0,__spreadArray([],__read(i),!1));return ok$1(u)}catch(d){return err$1(n?n(d):d)}}}e.fromThrowable=t})(Result||(Result={}));var ok$1=function(e){return new Ok$1(e)},err$1=function(e){return new Err$1(e)},Ok$1=(function(){function e(t){this.value=t}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return ok$1(t(this.value))},e.prototype.mapErr=function(t){return ok$1(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.orElse=function(t){return ok$1(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return ResultAsync$1.fromSafePromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype.match=function(t,r){return t(this.value)},e.prototype._unsafeUnwrap=function(t){return this.value},e.prototype._unsafeUnwrapErr=function(t){throw createNeverThrowError("Called `_unsafeUnwrapErr` on an Ok",this,t)},e})(),Err$1=(function(){function e(t){this.error=t}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return err$1(this.error)},e.prototype.mapErr=function(t){return err$1(t(this.error))},e.prototype.andThen=function(t){return err$1(this.error)},e.prototype.orElse=function(t){return t(this.error)},e.prototype.asyncAndThen=function(t){return errAsync$1(this.error)},e.prototype.asyncMap=function(t){return errAsync$1(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype.match=function(t,r){return r(this.error)},e.prototype._unsafeUnwrap=function(t){throw createNeverThrowError("Called `_unsafeUnwrap` on an Err",this,t)},e.prototype._unsafeUnwrapErr=function(t){return this.error},e})();Result.fromThrowable;var ResultAsync$1=(function(){function e(t){this._promise=t}return e.fromSafePromise=function(t){var r=t.then(function(n){return new Ok$1(n)});return new e(r)},e.fromPromise=function(t,r){var n=t.then(function(i){return new Ok$1(i)}).catch(function(i){return new Err$1(r(i))});return new e(n)},e.prototype.map=function(t){var r=this;return new e(this._promise.then(function(n){return __awaiter$2(r,void 0,void 0,function(){var i;return __generator$1(this,function(a){switch(a.label){case 0:return n.isErr()?[2,new Err$1(n.error)]:(i=Ok$1.bind,[4,t(n.value)]);case 1:return[2,new(i.apply(Ok$1,[void 0,a.sent()]))]}})})}))},e.prototype.mapErr=function(t){var r=this;return new e(this._promise.then(function(n){return __awaiter$2(r,void 0,void 0,function(){var i;return __generator$1(this,function(a){switch(a.label){case 0:return n.isOk()?[2,new Ok$1(n.value)]:(i=Err$1.bind,[4,t(n.error)]);case 1:return[2,new(i.apply(Err$1,[void 0,a.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(r){if(r.isErr())return new Err$1(r.error);var n=t(r.value);return n instanceof e?n._promise:n}))},e.prototype.orElse=function(t){var r=this;return new e(this._promise.then(function(n){return __awaiter$2(r,void 0,void 0,function(){return __generator$1(this,function(i){return n.isErr()?[2,t(n.error)]:[2,new Ok$1(n.value)]})})}))},e.prototype.match=function(t,r){return this._promise.then(function(n){return n.match(t,r)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(r){return r.unwrapOr(t)})},e.prototype.then=function(t,r){return this._promise.then(t,r)},e})(),errAsync$1=function(e){return new ResultAsync$1(Promise.resolve(new Err$1(e)))};ResultAsync$1.fromPromise;ResultAsync$1.fromSafePromise;const ALIAS=Symbol.for("yaml.alias"),DOC=Symbol.for("yaml.document"),MAP=Symbol.for("yaml.map"),PAIR=Symbol.for("yaml.pair"),SCALAR$1=Symbol.for("yaml.scalar"),SEQ=Symbol.for("yaml.seq"),NODE_TYPE=Symbol.for("yaml.node.type"),isAlias=e=>!!e&&typeof e=="object"&&e[NODE_TYPE]===ALIAS,isDocument=e=>!!e&&typeof e=="object"&&e[NODE_TYPE]===DOC,isMap=e=>!!e&&typeof e=="object"&&e[NODE_TYPE]===MAP,isPair=e=>!!e&&typeof e=="object"&&e[NODE_TYPE]===PAIR,isScalar$1=e=>!!e&&typeof e=="object"&&e[NODE_TYPE]===SCALAR$1,isSeq=e=>!!e&&typeof e=="object"&&e[NODE_TYPE]===SEQ;function isCollection$1(e){if(e&&typeof e=="object")switch(e[NODE_TYPE]){case MAP:case SEQ:return!0}return!1}function isNode(e){if(e&&typeof e=="object")switch(e[NODE_TYPE]){case ALIAS:case MAP:case SCALAR$1:case SEQ:return!0}return!1}const hasAnchor=e=>(isScalar$1(e)||isCollection$1(e))&&!!e.anchor,BREAK$1=Symbol("break visit"),SKIP$1=Symbol("skip children"),REMOVE$1=Symbol("remove node");function visit$1(e,t){const r=initVisitor(t);isDocument(e)?visit_(null,e.contents,r,Object.freeze([e]))===REMOVE$1&&(e.contents=null):visit_(null,e,r,Object.freeze([]))}visit$1.BREAK=BREAK$1;visit$1.SKIP=SKIP$1;visit$1.REMOVE=REMOVE$1;function visit_(e,t,r,n){const i=callVisitor(e,t,r,n);if(isNode(i)||isPair(i))return replaceNode(e,n,i),visit_(e,i,r,n);if(typeof i!="symbol"){if(isCollection$1(t)){n=Object.freeze(n.concat(t));for(let a=0;a<t.items.length;++a){const u=visit_(a,t.items[a],r,n);if(typeof u=="number")a=u-1;else{if(u===BREAK$1)return BREAK$1;u===REMOVE$1&&(t.items.splice(a,1),a-=1)}}}else if(isPair(t)){n=Object.freeze(n.concat(t));const a=visit_("key",t.key,r,n);if(a===BREAK$1)return BREAK$1;a===REMOVE$1&&(t.key=null);const u=visit_("value",t.value,r,n);if(u===BREAK$1)return BREAK$1;u===REMOVE$1&&(t.value=null)}}return i}async function visitAsync(e,t){const r=initVisitor(t);isDocument(e)?await visitAsync_(null,e.contents,r,Object.freeze([e]))===REMOVE$1&&(e.contents=null):await visitAsync_(null,e,r,Object.freeze([]))}visitAsync.BREAK=BREAK$1;visitAsync.SKIP=SKIP$1;visitAsync.REMOVE=REMOVE$1;async function visitAsync_(e,t,r,n){const i=await callVisitor(e,t,r,n);if(isNode(i)||isPair(i))return replaceNode(e,n,i),visitAsync_(e,i,r,n);if(typeof i!="symbol"){if(isCollection$1(t)){n=Object.freeze(n.concat(t));for(let a=0;a<t.items.length;++a){const u=await visitAsync_(a,t.items[a],r,n);if(typeof u=="number")a=u-1;else{if(u===BREAK$1)return BREAK$1;u===REMOVE$1&&(t.items.splice(a,1),a-=1)}}}else if(isPair(t)){n=Object.freeze(n.concat(t));const a=await visitAsync_("key",t.key,r,n);if(a===BREAK$1)return BREAK$1;a===REMOVE$1&&(t.key=null);const u=await visitAsync_("value",t.value,r,n);if(u===BREAK$1)return BREAK$1;u===REMOVE$1&&(t.value=null)}}return i}function initVisitor(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function callVisitor(e,t,r,n){if(typeof r=="function")return r(e,t,n);if(isMap(t))return r.Map?.(e,t,n);if(isSeq(t))return r.Seq?.(e,t,n);if(isPair(t))return r.Pair?.(e,t,n);if(isScalar$1(t))return r.Scalar?.(e,t,n);if(isAlias(t))return r.Alias?.(e,t,n)}function replaceNode(e,t,r){const n=t[t.length-1];if(isCollection$1(n))n.items[e]=r;else if(isPair(n))e==="key"?n.key=r:n.value=r;else if(isDocument(n))n.contents=r;else{const i=isAlias(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const escapeChars={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},escapeTagName=e=>e.replace(/[!,[\]{}]/g,t=>escapeChars[t]);class Directives{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Directives.defaultYaml,t),this.tags=Object.assign({},Directives.defaultTags,r)}clone(){const t=new Directives(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Directives(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Directives.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Directives.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[a,u]=n;return this.tags[a]=u,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;const[a]=n;if(a==="1.1"||a==="1.2")return this.yaml.version=a,!0;{const u=/^\d+\.\d+$/.test(a);return r(6,`Unsupported YAML version ${a}`,u),!1}}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const u=t.slice(2,-1);return u==="!"||u==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),u)}const[,n,i]=t.match(/^(.*!)([^!]*)$/s);i||r(`The ${t} tag has no suffix`);const a=this.tags[n];if(a)try{return a+decodeURIComponent(i)}catch(u){return r(String(u)),null}return n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+escapeTagName(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let i;if(t&&n.length>0&&isNode(t.contents)){const a={};visit$1(t.contents,(u,d)=>{isNode(d)&&d.tag&&(a[d.tag]=!0)}),i=Object.keys(a)}else i=[];for(const[a,u]of n)a==="!!"&&u==="tag:yaml.org,2002:"||(!t||i.some(d=>d.startsWith(u)))&&r.push(`%TAG ${a} ${u}`);return r.join(`
`)}}Directives.defaultYaml={explicit:!1,version:"1.2"};Directives.defaultTags={"!!":"tag:yaml.org,2002:"};function anchorIsValid(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function anchorNames(e){const t=new Set;return visit$1(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function findNewAnchor(e,t){for(let r=1;;++r){const n=`${e}${r}`;if(!t.has(n))return n}}function createNodeAnchors(e,t){const r=[],n=new Map;let i=null;return{onAnchor:a=>{r.push(a),i??(i=anchorNames(e));const u=findNewAnchor(t,i);return i.add(u),u},setAnchors:()=>{for(const a of r){const u=n.get(a);if(typeof u=="object"&&u.anchor&&(isScalar$1(u.node)||isCollection$1(u.node)))u.node.anchor=u.anchor;else{const d=new Error("Failed to resolve repeated object (this should not happen)");throw d.source=a,d}}},sourceObjects:n}}function applyReviver(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,a=n.length;i<a;++i){const u=n[i],d=applyReviver(e,n,String(i),u);d===void 0?delete n[i]:d!==u&&(n[i]=d)}else if(n instanceof Map)for(const i of Array.from(n.keys())){const a=n.get(i),u=applyReviver(e,n,i,a);u===void 0?n.delete(i):u!==a&&n.set(i,u)}else if(n instanceof Set)for(const i of Array.from(n)){const a=applyReviver(e,n,i,i);a===void 0?n.delete(i):a!==i&&(n.delete(i),n.add(a))}else for(const[i,a]of Object.entries(n)){const u=applyReviver(e,n,i,a);u===void 0?delete n[i]:u!==a&&(n[i]=u)}return e.call(t,r,n)}function toJS(e,t,r){if(Array.isArray(e))return e.map((n,i)=>toJS(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!hasAnchor(e))return e.toJSON(t,r);const n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=a=>{n.res=a,delete r.onCreate};const i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!r?.keep?Number(e):e}class NodeBase{constructor(t){Object.defineProperty(this,NODE_TYPE,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:a}={}){if(!isDocument(t))throw new TypeError("A document argument is required");const u={anchors:new Map,doc:t,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},d=toJS(this,"",u);if(typeof i=="function")for(const{count:m,res:g}of u.anchors.values())i(g,m);return typeof a=="function"?applyReviver(a,{"":d},"",d):d}}class Alias extends NodeBase{constructor(t){super(ALIAS),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,r){let n;r?.aliasResolveCache?n=r.aliasResolveCache:(n=[],visit$1(t,{Node:(a,u)=>{(isAlias(u)||hasAnchor(u))&&n.push(u)}}),r&&(r.aliasResolveCache=n));let i;for(const a of n){if(a===this)break;a.anchor===this.source&&(i=a)}return i}toJSON(t,r){if(!r)return{source:this.source};const{anchors:n,doc:i,maxAliasCount:a}=r,u=this.resolve(i,r);if(!u){const m=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(m)}let d=n.get(u);if(d||(toJS(u,null,r),d=n.get(u)),!d||d.res===void 0){const m="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(m)}if(a>=0&&(d.count+=1,d.aliasCount===0&&(d.aliasCount=getAliasCount(i,u,n)),d.count*d.aliasCount>a)){const m="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(m)}return d.res}toString(t,r,n){const i=`*${this.source}`;if(t){if(anchorIsValid(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(a)}if(t.implicitKey)return`${i} `}return i}}function getAliasCount(e,t,r){if(isAlias(t)){const n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(isCollection$1(t)){let n=0;for(const i of t.items){const a=getAliasCount(e,i,r);a>n&&(n=a)}return n}else if(isPair(t)){const n=getAliasCount(e,t.key,r),i=getAliasCount(e,t.value,r);return Math.max(n,i)}return 1}const isScalarValue=e=>!e||typeof e!="function"&&typeof e!="object";class Scalar extends NodeBase{constructor(t){super(SCALAR$1),this.value=t}toJSON(t,r){return r?.keep?this.value:toJS(this.value,t,r)}toString(){return String(this.value)}}Scalar.BLOCK_FOLDED="BLOCK_FOLDED";Scalar.BLOCK_LITERAL="BLOCK_LITERAL";Scalar.PLAIN="PLAIN";Scalar.QUOTE_DOUBLE="QUOTE_DOUBLE";Scalar.QUOTE_SINGLE="QUOTE_SINGLE";const defaultTagPrefix="tag:yaml.org,2002:";function findTagObject(e,t,r){if(t){const n=r.filter(a=>a.tag===t),i=n.find(a=>!a.format)??n[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return r.find(n=>n.identify?.(e)&&!n.format)}function createNode(e,t,r){if(isDocument(e)&&(e=e.contents),isNode(e))return e;if(isPair(e)){const R=r.schema[MAP].createNode?.(r.schema,null,r);return R.items.push(e),R}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:n,onAnchor:i,onTagObj:a,schema:u,sourceObjects:d}=r;let m;if(n&&e&&typeof e=="object"){if(m=d.get(e),m)return m.anchor??(m.anchor=i(e)),new Alias(m.anchor);m={anchor:null,node:null},d.set(e,m)}t?.startsWith("!!")&&(t=defaultTagPrefix+t.slice(2));let g=findTagObject(e,t,u.tags);if(!g){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const R=new Scalar(e);return m&&(m.node=R),R}g=e instanceof Map?u[MAP]:Symbol.iterator in Object(e)?u[SEQ]:u[MAP]}a&&(a(g),delete r.onTagObj);const x=g?.createNode?g.createNode(r.schema,e,r):typeof g?.nodeClass?.from=="function"?g.nodeClass.from(r.schema,e,r):new Scalar(e);return t?x.tag=t:g.default||(x.tag=g.tag),m&&(m.node=x),x}function collectionFromPath(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){const a=t[i];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){const u=[];u[a]=n,n=u}else n=new Map([[a,n]])}return createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const isEmptyPath=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Collection extends NodeBase{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){const r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>isNode(n)||isPair(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(isEmptyPath(t))this.add(r);else{const[n,...i]=t,a=this.get(n,!0);if(isCollection$1(a))a.addIn(i,r);else if(a===void 0&&this.schema)this.set(n,collectionFromPath(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){const[r,...n]=t;if(n.length===0)return this.delete(r);const i=this.get(r,!0);if(isCollection$1(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){const[n,...i]=t,a=this.get(n,!0);return i.length===0?!r&&isScalar$1(a)?a.value:a:isCollection$1(a)?a.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!isPair(r))return!1;const n=r.value;return n==null||t&&isScalar$1(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){const[r,...n]=t;if(n.length===0)return this.has(r);const i=this.get(r,!0);return isCollection$1(i)?i.hasIn(n):!1}setIn(t,r){const[n,...i]=t;if(i.length===0)this.set(n,r);else{const a=this.get(n,!0);if(isCollection$1(a))a.setIn(i,r);else if(a===void 0&&this.schema)this.set(n,collectionFromPath(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}}const stringifyComment=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function indentComment(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const lineComment=(e,t,r)=>e.endsWith(`
`)?indentComment(r,t):r.includes(`
`)?`
`+indentComment(r,t):(e.endsWith(" ")?"":" ")+r,FOLD_FLOW="flow",FOLD_BLOCK="block",FOLD_QUOTED="quoted";function foldFlowLines(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:a=20,onFold:u,onOverflow:d}={}){if(!i||i<0)return e;i<a&&(a=0);const m=Math.max(1+a,1+i-t.length);if(e.length<=m)return e;const g=[],x={};let R=i-t.length;typeof n=="number"&&(n>i-Math.max(2,a)?g.push(0):R=i-n);let O,q,B=!1,F=-1,D=-1,V=-1;r===FOLD_BLOCK&&(F=consumeMoreIndentedLines(e,F,t.length),F!==-1&&(R=F+m));for(let K;K=e[F+=1];){if(r===FOLD_QUOTED&&K==="\\"){switch(D=F,e[F+1]){case"x":F+=3;break;case"u":F+=5;break;case"U":F+=9;break;default:F+=1}V=F}if(K===`
`)r===FOLD_BLOCK&&(F=consumeMoreIndentedLines(e,F,t.length)),R=F+t.length+m,O=void 0;else{if(K===" "&&q&&q!==" "&&q!==`
`&&q!=="	"){const Q=e[F+1];Q&&Q!==" "&&Q!==`
`&&Q!=="	"&&(O=F)}if(F>=R)if(O)g.push(O),R=O+m,O=void 0;else if(r===FOLD_QUOTED){for(;q===" "||q==="	";)q=K,K=e[F+=1],B=!0;const Q=F>V+1?F-2:D-1;if(x[Q])return e;g.push(Q),x[Q]=!0,R=Q+m,O=void 0}else B=!0}q=K}if(B&&d&&d(),g.length===0)return e;u&&u();let j=e.slice(0,g[0]);for(let K=0;K<g.length;++K){const Q=g[K],z=g[K+1]||e.length;Q===0?j=`
${t}${e.slice(0,z)}`:(r===FOLD_QUOTED&&x[Q]&&(j+=`${e[Q]}\\`),j+=`
${t}${e.slice(Q+1,z)}`)}return j}function consumeMoreIndentedLines(e,t,r){let n=t,i=t+1,a=e[i];for(;a===" "||a==="	";)if(t<i+r)a=e[++t];else{do a=e[++t];while(a&&a!==`
`);n=t,i=t+1,a=e[i]}return n}const getFoldOptions=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),containsDocumentMarker=e=>/^(%|---|\.\.\.)/m.test(e);function lineLengthOverLimit(e,t,r){if(!t||t<0)return!1;const n=t-r,i=e.length;if(i<=n)return!1;for(let a=0,u=0;a<i;++a)if(e[a]===`
`){if(a-u>n)return!0;if(u=a+1,i-u<=n)return!1}return!0}function doubleQuotedString(e,t){const r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;const{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,a=t.indent||(containsDocumentMarker(e)?"  ":"");let u="",d=0;for(let m=0,g=r[m];g;g=r[++m])if(g===" "&&r[m+1]==="\\"&&r[m+2]==="n"&&(u+=r.slice(d,m)+"\\ ",m+=1,d=m,g="\\"),g==="\\")switch(r[m+1]){case"u":{u+=r.slice(d,m);const x=r.substr(m+2,4);switch(x){case"0000":u+="\\0";break;case"0007":u+="\\a";break;case"000b":u+="\\v";break;case"001b":u+="\\e";break;case"0085":u+="\\N";break;case"00a0":u+="\\_";break;case"2028":u+="\\L";break;case"2029":u+="\\P";break;default:x.substr(0,2)==="00"?u+="\\x"+x.substr(2):u+=r.substr(m,6)}m+=5,d=m+1}break;case"n":if(n||r[m+2]==='"'||r.length<i)m+=1;else{for(u+=r.slice(d,m)+`

`;r[m+2]==="\\"&&r[m+3]==="n"&&r[m+4]!=='"';)u+=`
`,m+=2;u+=a,r[m+2]===" "&&(u+="\\"),m+=1,d=m+1}break;default:m+=1}return u=d?u+r.slice(d):r,n?u:foldFlowLines(u,a,FOLD_QUOTED,getFoldOptions(t,!1))}function singleQuotedString(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return doubleQuotedString(e,t);const r=t.indent||(containsDocumentMarker(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:foldFlowLines(n,r,FOLD_FLOW,getFoldOptions(t,!1))}function quotedString(e,t){const{singleQuote:r}=t.options;let n;if(r===!1)n=doubleQuotedString;else{const i=e.includes('"'),a=e.includes("'");i&&!a?n=singleQuotedString:a&&!i?n=doubleQuotedString:n=r?singleQuotedString:doubleQuotedString}return n(e,t)}let blockEndNewlines;try{blockEndNewlines=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{blockEndNewlines=/\n+(?!\n|$)/g}function blockString({comment:e,type:t,value:r},n,i,a){const{blockQuote:u,commentString:d,lineWidth:m}=n.options;if(!u||/\n[\t ]+$/.test(r))return quotedString(r,n);const g=n.indent||(n.forceBlockIndent||containsDocumentMarker(r)?"  ":""),x=u==="literal"?!0:u==="folded"||t===Scalar.BLOCK_FOLDED?!1:t===Scalar.BLOCK_LITERAL?!0:!lineLengthOverLimit(r,m,g.length);if(!r)return x?`|
`:`>
`;let R,O;for(O=r.length;O>0;--O){const z=r[O-1];if(z!==`
`&&z!=="	"&&z!==" ")break}let q=r.substring(O);const B=q.indexOf(`
`);B===-1?R="-":r===q||B!==q.length-1?(R="+",a&&a()):R="",q&&(r=r.slice(0,-q.length),q[q.length-1]===`
`&&(q=q.slice(0,-1)),q=q.replace(blockEndNewlines,`$&${g}`));let F=!1,D,V=-1;for(D=0;D<r.length;++D){const z=r[D];if(z===" ")F=!0;else if(z===`
`)V=D;else break}let j=r.substring(0,V<D?V+1:D);j&&(r=r.substring(j.length),j=j.replace(/\n+/g,`$&${g}`));let Q=(F?g?"2":"1":"")+R;if(e&&(Q+=" "+d(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!x){const z=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${g}`);let G=!1;const re=getFoldOptions(n,!0);u!=="folded"&&t!==Scalar.BLOCK_FOLDED&&(re.onOverflow=()=>{G=!0});const de=foldFlowLines(`${j}${z}${q}`,g,FOLD_BLOCK,re);if(!G)return`>${Q}
${g}${de}`}return r=r.replace(/\n+/g,`$&${g}`),`|${Q}
${g}${j}${r}${q}`}function plainString(e,t,r,n){const{type:i,value:a}=e,{actualString:u,implicitKey:d,indent:m,indentStep:g,inFlow:x}=t;if(d&&a.includes(`
`)||x&&/[[\]{},]/.test(a))return quotedString(a,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return d||x||!a.includes(`
`)?quotedString(a,t):blockString(e,t,r,n);if(!d&&!x&&i!==Scalar.PLAIN&&a.includes(`
`))return blockString(e,t,r,n);if(containsDocumentMarker(a)){if(m==="")return t.forceBlockIndent=!0,blockString(e,t,r,n);if(d&&m===g)return quotedString(a,t)}const R=a.replace(/\n+/g,`$&
${m}`);if(u){const O=F=>F.default&&F.tag!=="tag:yaml.org,2002:str"&&F.test?.test(R),{compat:q,tags:B}=t.doc.schema;if(B.some(O)||q?.some(O))return quotedString(a,t)}return d?R:foldFlowLines(R,m,FOLD_FLOW,getFoldOptions(t,!1))}function stringifyString(e,t,r,n){const{implicitKey:i,inFlow:a}=t,u=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:d}=e;d!==Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(u.value)&&(d=Scalar.QUOTE_DOUBLE);const m=x=>{switch(x){case Scalar.BLOCK_FOLDED:case Scalar.BLOCK_LITERAL:return i||a?quotedString(u.value,t):blockString(u,t,r,n);case Scalar.QUOTE_DOUBLE:return doubleQuotedString(u.value,t);case Scalar.QUOTE_SINGLE:return singleQuotedString(u.value,t);case Scalar.PLAIN:return plainString(u,t,r,n);default:return null}};let g=m(d);if(g===null){const{defaultKeyType:x,defaultStringType:R}=t.options,O=i&&x||R;if(g=m(O),g===null)throw new Error(`Unsupported default string type ${O}`)}return g}function createStringifyContext(e,t){const r=Object.assign({blockQuote:!0,commentString:stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function getTagObject(e,t){if(t.tag){const i=e.filter(a=>a.tag===t.tag);if(i.length>0)return i.find(a=>a.format===t.format)??i[0]}let r,n;if(isScalar$1(t)){n=t.value;let i=e.filter(a=>a.identify?.(n));if(i.length>1){const a=i.filter(u=>u.test);a.length>0&&(i=a)}r=i.find(a=>a.format===t.format)??i.find(a=>!a.format)}else n=t,r=e.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){const i=n?.constructor?.name??(n===null?"null":typeof n);throw new Error(`Tag not resolved for ${i} value`)}return r}function stringifyProps(e,t,{anchors:r,doc:n}){if(!n.directives)return"";const i=[],a=(isScalar$1(e)||isCollection$1(e))&&e.anchor;a&&anchorIsValid(a)&&(r.add(a),i.push(`&${a}`));const u=e.tag??(t.default?null:t.tag);return u&&i.push(n.directives.tagString(u)),i.join(" ")}function stringify$2(e,t,r,n){if(isPair(e))return e.toString(t,r,n);if(isAlias(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const a=isNode(e)?e:t.doc.createNode(e,{onTagObj:m=>i=m});i??(i=getTagObject(t.doc.schema.tags,a));const u=stringifyProps(a,i,t);u.length>0&&(t.indentAtStart=(t.indentAtStart??0)+u.length+1);const d=typeof i.stringify=="function"?i.stringify(a,t,r,n):isScalar$1(a)?stringifyString(a,t,r,n):a.toString(t,r,n);return u?isScalar$1(a)||d[0]==="{"||d[0]==="["?`${u} ${d}`:`${u}
${t.indent}${d}`:d}function stringifyPair({key:e,value:t},r,n,i){const{allNullValues:a,doc:u,indent:d,indentStep:m,options:{commentString:g,indentSeq:x,simpleKeys:R}}=r;let O=isNode(e)&&e.comment||null;if(R){if(O)throw new Error("With simple keys, key nodes cannot have comments");if(isCollection$1(e)||!isNode(e)&&typeof e=="object"){const re="With simple keys, collection cannot be used as a key value";throw new Error(re)}}let q=!R&&(!e||O&&t==null&&!r.inFlow||isCollection$1(e)||(isScalar$1(e)?e.type===Scalar.BLOCK_FOLDED||e.type===Scalar.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!q&&(R||!a),indent:d+m});let B=!1,F=!1,D=stringify$2(e,r,()=>B=!0,()=>F=!0);if(!q&&!r.inFlow&&D.length>1024){if(R)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");q=!0}if(r.inFlow){if(a||t==null)return B&&n&&n(),D===""?"?":q?`? ${D}`:D}else if(a&&!R||t==null&&q)return D=`? ${D}`,O&&!B?D+=lineComment(D,r.indent,g(O)):F&&i&&i(),D;B&&(O=null),q?(O&&(D+=lineComment(D,r.indent,g(O))),D=`? ${D}
${d}:`):(D=`${D}:`,O&&(D+=lineComment(D,r.indent,g(O))));let V,j,K;isNode(t)?(V=!!t.spaceBefore,j=t.commentBefore,K=t.comment):(V=!1,j=null,K=null,t&&typeof t=="object"&&(t=u.createNode(t))),r.implicitKey=!1,!q&&!O&&isScalar$1(t)&&(r.indentAtStart=D.length+1),F=!1,!x&&m.length>=2&&!r.inFlow&&!q&&isSeq(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let Q=!1;const z=stringify$2(t,r,()=>Q=!0,()=>F=!0);let G=" ";if(O||V||j){if(G=V?`
`:"",j){const re=g(j);G+=`
${indentComment(re,r.indent)}`}z===""&&!r.inFlow?G===`
`&&(G=`

`):G+=`
${r.indent}`}else if(!q&&isCollection$1(t)){const re=z[0],de=z.indexOf(`
`),Oe=de!==-1,Ve=r.inFlow??t.flow??t.items.length===0;if(Oe||!Ve){let wt=!1;if(Oe&&(re==="&"||re==="!")){let Mt=z.indexOf(" ");re==="&"&&Mt!==-1&&Mt<de&&z[Mt+1]==="!"&&(Mt=z.indexOf(" ",Mt+1)),(Mt===-1||de<Mt)&&(wt=!0)}wt||(G=`
${r.indent}`)}}else(z===""||z[0]===`
`)&&(G="");return D+=G+z,r.inFlow?Q&&n&&n():K&&!Q?D+=lineComment(D,r.indent,g(K)):F&&i&&i(),D}function warn$1(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const MERGE_KEY="<<",merge={identify:e=>e===MERGE_KEY||typeof e=="symbol"&&e.description===MERGE_KEY,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Scalar(Symbol(MERGE_KEY)),{addToJSMap:addMergeToJSMap}),stringify:()=>MERGE_KEY},isMergeKey=(e,t)=>(merge.identify(t)||isScalar$1(t)&&(!t.type||t.type===Scalar.PLAIN)&&merge.identify(t.value))&&e?.doc.schema.tags.some(r=>r.tag===merge.tag&&r.default);function addMergeToJSMap(e,t,r){if(r=e&&isAlias(r)?r.resolve(e.doc):r,isSeq(r))for(const n of r.items)mergeValue(e,t,n);else if(Array.isArray(r))for(const n of r)mergeValue(e,t,n);else mergeValue(e,t,r)}function mergeValue(e,t,r){const n=e&&isAlias(r)?r.resolve(e.doc):r;if(!isMap(n))throw new Error("Merge sources must be maps or map aliases");const i=n.toJSON(null,e,Map);for(const[a,u]of i)t instanceof Map?t.has(a)||t.set(a,u):t instanceof Set?t.add(a):Object.prototype.hasOwnProperty.call(t,a)||Object.defineProperty(t,a,{value:u,writable:!0,enumerable:!0,configurable:!0});return t}function addPairToJSMap(e,t,{key:r,value:n}){if(isNode(r)&&r.addToJSMap)r.addToJSMap(e,t,n);else if(isMergeKey(e,r))addMergeToJSMap(e,t,n);else{const i=toJS(r,"",e);if(t instanceof Map)t.set(i,toJS(n,i,e));else if(t instanceof Set)t.add(i);else{const a=stringifyKey(r,i,e),u=toJS(n,a,e);a in t?Object.defineProperty(t,a,{value:u,writable:!0,enumerable:!0,configurable:!0}):t[a]=u}}return t}function stringifyKey(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(isNode(e)&&r?.doc){const n=createStringifyContext(r.doc,{});n.anchors=new Set;for(const a of r.anchors.keys())n.anchors.add(a.anchor);n.inFlow=!0,n.inStringifyKey=!0;const i=e.toString(n);if(!r.mapKeyWarned){let a=JSON.stringify(i);a.length>40&&(a=a.substring(0,36)+'..."'),warn$1(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}function createPair(e,t,r){const n=createNode(e,void 0,r),i=createNode(t,void 0,r);return new Pair(n,i)}class Pair{constructor(t,r=null){Object.defineProperty(this,NODE_TYPE,{value:PAIR}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return isNode(r)&&(r=r.clone(t)),isNode(n)&&(n=n.clone(t)),new Pair(r,n)}toJSON(t,r){const n=r?.mapAsMap?new Map:{};return addPairToJSMap(r,n,this)}toString(t,r,n){return t?.doc?stringifyPair(this,t,r,n):JSON.stringify(this)}}function stringifyCollection(e,t,r){return(t.inFlow??e.flow?stringifyFlowCollection:stringifyBlockCollection)(e,t,r)}function stringifyBlockCollection({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:a,onChompKeep:u,onComment:d}){const{indent:m,options:{commentString:g}}=r,x=Object.assign({},r,{indent:a,type:null});let R=!1;const O=[];for(let B=0;B<t.length;++B){const F=t[B];let D=null;if(isNode(F))!R&&F.spaceBefore&&O.push(""),addCommentBefore(r,O,F.commentBefore,R),F.comment&&(D=F.comment);else if(isPair(F)){const j=isNode(F.key)?F.key:null;j&&(!R&&j.spaceBefore&&O.push(""),addCommentBefore(r,O,j.commentBefore,R))}R=!1;let V=stringify$2(F,x,()=>D=null,()=>R=!0);D&&(V+=lineComment(V,a,g(D))),R&&D&&(R=!1),O.push(n+V)}let q;if(O.length===0)q=i.start+i.end;else{q=O[0];for(let B=1;B<O.length;++B){const F=O[B];q+=F?`
${m}${F}`:`
`}}return e?(q+=`
`+indentComment(g(e),m),d&&d()):R&&u&&u(),q}function stringifyFlowCollection({items:e},t,{flowChars:r,itemIndent:n}){const{indent:i,indentStep:a,flowCollectionPadding:u,options:{commentString:d}}=t;n+=a;const m=Object.assign({},t,{indent:n,inFlow:!0,type:null});let g=!1,x=0;const R=[];for(let B=0;B<e.length;++B){const F=e[B];let D=null;if(isNode(F))F.spaceBefore&&R.push(""),addCommentBefore(t,R,F.commentBefore,!1),F.comment&&(D=F.comment);else if(isPair(F)){const j=isNode(F.key)?F.key:null;j&&(j.spaceBefore&&R.push(""),addCommentBefore(t,R,j.commentBefore,!1),j.comment&&(g=!0));const K=isNode(F.value)?F.value:null;K?(K.comment&&(D=K.comment),K.commentBefore&&(g=!0)):F.value==null&&j?.comment&&(D=j.comment)}D&&(g=!0);let V=stringify$2(F,m,()=>D=null);B<e.length-1&&(V+=","),D&&(V+=lineComment(V,n,d(D))),!g&&(R.length>x||V.includes(`
`))&&(g=!0),R.push(V),x=R.length}const{start:O,end:q}=r;if(R.length===0)return O+q;if(!g){const B=R.reduce((F,D)=>F+D.length+2,2);g=t.options.lineWidth>0&&B>t.options.lineWidth}if(g){let B=O;for(const F of R)B+=F?`
${a}${i}${F}`:`
`;return`${B}
${i}${q}`}else return`${O}${u}${R.join(" ")}${u}${q}`}function addCommentBefore({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){const a=indentComment(t(n),e);r.push(a.trimStart())}}function findPair(e,t){const r=isScalar$1(t)?t.value:t;for(const n of e)if(isPair(n)&&(n.key===t||n.key===r||isScalar$1(n.key)&&n.key.value===r))return n}class YAMLMap extends Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(MAP,t),this.items=[]}static from(t,r,n){const{keepUndefined:i,replacer:a}=n,u=new this(t),d=(m,g)=>{if(typeof a=="function")g=a.call(r,m,g);else if(Array.isArray(a)&&!a.includes(m))return;(g!==void 0||i)&&u.items.push(createPair(m,g,n))};if(r instanceof Map)for(const[m,g]of r)d(m,g);else if(r&&typeof r=="object")for(const m of Object.keys(r))d(m,r[m]);return typeof t.sortMapEntries=="function"&&u.items.sort(t.sortMapEntries),u}add(t,r){let n;isPair(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new Pair(t,t?.value):n=new Pair(t.key,t.value);const i=findPair(this.items,n.key),a=this.schema?.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);isScalar$1(i.value)&&isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(a){const u=this.items.findIndex(d=>a(n,d)<0);u===-1?this.items.push(n):this.items.splice(u,0,n)}else this.items.push(n)}delete(t){const r=findPair(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){const i=findPair(this.items,t)?.value;return(!r&&isScalar$1(i)?i.value:i)??void 0}has(t){return!!findPair(this.items,t)}set(t,r){this.add(new Pair(t,r),!0)}toJSON(t,r,n){const i=n?new n:r?.mapAsMap?new Map:{};r?.onCreate&&r.onCreate(i);for(const a of this.items)addPairToJSMap(r,i,a);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(const i of this.items)if(!isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),stringifyCollection(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}}const map$1={collection:"map",default:!0,nodeClass:YAMLMap,tag:"tag:yaml.org,2002:map",resolve(e,t){return isMap(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,r)=>YAMLMap.from(e,t,r)};class YAMLSeq extends Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(SEQ,t),this.items=[]}add(t){this.items.push(t)}delete(t){const r=asItemIndex(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){const n=asItemIndex(t);if(typeof n!="number")return;const i=this.items[n];return!r&&isScalar$1(i)?i.value:i}has(t){const r=asItemIndex(t);return typeof r=="number"&&r<this.items.length}set(t,r){const n=asItemIndex(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[n];isScalar$1(i)&&isScalarValue(r)?i.value=r:this.items[n]=r}toJSON(t,r){const n=[];r?.onCreate&&r.onCreate(n);let i=0;for(const a of this.items)n.push(toJS(a,String(i++),r));return n}toString(t,r,n){return t?stringifyCollection(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){const{replacer:i}=n,a=new this(t);if(r&&Symbol.iterator in Object(r)){let u=0;for(let d of r){if(typeof i=="function"){const m=r instanceof Set?d:String(u++);d=i.call(r,m,d)}a.items.push(createNode(d,void 0,n))}}return a}}function asItemIndex(e){let t=isScalar$1(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const seq={collection:"seq",default:!0,nodeClass:YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(e,t){return isSeq(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,r)=>YAMLSeq.from(e,t,r)},string={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),stringifyString(e,t,r,n)}},nullTag={identify:e=>e==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Scalar(null),stringify:({source:e},t)=>typeof e=="string"&&nullTag.test.test(e)?e:t.options.nullStr},boolTag={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Scalar(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&boolTag.test.test(e)){const n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};function stringifyNumber({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);const i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let a=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let u=a.indexOf(".");u<0&&(u=a.length,a+=".");let d=t-(a.length-u-1);for(;d-- >0;)a+="0"}return a}const floatNaN$1={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp$1={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():stringifyNumber(e)}},float$1={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Scalar(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:stringifyNumber},intIdentify$2=e=>typeof e=="bigint"||Number.isInteger(e),intResolve$1=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function intStringify$1(e,t,r){const{value:n}=e;return intIdentify$2(n)&&n>=0?r+n.toString(t):stringifyNumber(e)}const intOct$1={identify:e=>intIdentify$2(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>intResolve$1(e,2,8,r),stringify:e=>intStringify$1(e,8,"0o")},int$1={identify:intIdentify$2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>intResolve$1(e,0,10,r),stringify:stringifyNumber},intHex$1={identify:e=>intIdentify$2(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>intResolve$1(e,2,16,r),stringify:e=>intStringify$1(e,16,"0x")},schema$2=[map$1,seq,string,nullTag,boolTag,intOct$1,int$1,intHex$1,floatNaN$1,floatExp$1,float$1];function intIdentify$1(e){return typeof e=="bigint"||Number.isInteger(e)}const stringifyJSON=({value:e})=>JSON.stringify(e),jsonScalars=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:stringifyJSON},{identify:e=>e==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:stringifyJSON},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:stringifyJSON},{identify:intIdentify$1,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>intIdentify$1(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:stringifyJSON}],jsonError={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},schema$1=[map$1,seq].concat(jsonScalars,jsonError),binary={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,a){if(!r)return"";const u=r;let d;if(typeof btoa=="function"){let m="";for(let g=0;g<u.length;++g)m+=String.fromCharCode(u[g]);d=btoa(m)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=Scalar.BLOCK_LITERAL),t!==Scalar.QUOTE_DOUBLE){const m=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),g=Math.ceil(d.length/m),x=new Array(g);for(let R=0,O=0;R<g;++R,O+=m)x[R]=d.substr(O,m);d=x.join(t===Scalar.BLOCK_LITERAL?`
`:" ")}return stringifyString({comment:e,type:t,value:d},n,i,a)}};function resolvePairs(e,t){if(isSeq(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!isPair(n)){if(isMap(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");const i=n.items[0]||new Pair(new Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){const a=i.value??i.key;a.comment=a.comment?`${n.comment}
${a.comment}`:n.comment}n=i}e.items[r]=isPair(n)?n:new Pair(n)}}else t("Expected a sequence for this tag");return e}function createPairs(e,t,r){const{replacer:n}=r,i=new YAMLSeq(e);i.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let u of t){typeof n=="function"&&(u=n.call(t,String(a++),u));let d,m;if(Array.isArray(u))if(u.length===2)d=u[0],m=u[1];else throw new TypeError(`Expected [key, value] tuple: ${u}`);else if(u&&u instanceof Object){const g=Object.keys(u);if(g.length===1)d=g[0],m=u[d];else throw new TypeError(`Expected tuple with one key, not ${g.length} keys`)}else d=u;i.items.push(createPair(d,m,r))}return i}const pairs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:resolvePairs,createNode:createPairs};class YAMLOMap extends YAMLSeq{constructor(){super(),this.add=YAMLMap.prototype.add.bind(this),this.delete=YAMLMap.prototype.delete.bind(this),this.get=YAMLMap.prototype.get.bind(this),this.has=YAMLMap.prototype.has.bind(this),this.set=YAMLMap.prototype.set.bind(this),this.tag=YAMLOMap.tag}toJSON(t,r){if(!r)return super.toJSON(t);const n=new Map;r?.onCreate&&r.onCreate(n);for(const i of this.items){let a,u;if(isPair(i)?(a=toJS(i.key,"",r),u=toJS(i.value,a,r)):a=toJS(i,"",r),n.has(a))throw new Error("Ordered maps must not include duplicate keys");n.set(a,u)}return n}static from(t,r,n){const i=createPairs(t,r,n),a=new this;return a.items=i.items,a}}YAMLOMap.tag="tag:yaml.org,2002:omap";const omap={collection:"seq",identify:e=>e instanceof Map,nodeClass:YAMLOMap,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const r=resolvePairs(e,t),n=[];for(const{key:i}of r.items)isScalar$1(i)&&(n.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new YAMLOMap,r)},createNode:(e,t,r)=>YAMLOMap.from(e,t,r)};function boolStringify({value:e,source:t},r){return t&&(e?trueTag:falseTag).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}const trueTag={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Scalar(!0),stringify:boolStringify},falseTag={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Scalar(!1),stringify:boolStringify},floatNaN={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():stringifyNumber(e)}},float={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Scalar(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){const n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:stringifyNumber},intIdentify=e=>typeof e=="bigint"||Number.isInteger(e);function intResolve(e,t,r,{intAsBigInt:n}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const u=BigInt(e);return i==="-"?BigInt(-1)*u:u}const a=parseInt(e,r);return i==="-"?-1*a:a}function intStringify(e,t,r){const{value:n}=e;if(intIdentify(n)){const i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return stringifyNumber(e)}const intBin={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>intResolve(e,2,2,r),stringify:e=>intStringify(e,2,"0b")},intOct={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>intResolve(e,1,8,r),stringify:e=>intStringify(e,8,"0")},int={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>intResolve(e,0,10,r),stringify:stringifyNumber},intHex={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>intResolve(e,2,16,r),stringify:e=>intStringify(e,16,"0x")};class YAMLSet extends YAMLMap{constructor(t){super(t),this.tag=YAMLSet.tag}add(t){let r;isPair(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new Pair(t.key,null):r=new Pair(t,null),findPair(this.items,r.key)||this.items.push(r)}get(t,r){const n=findPair(this.items,t);return!r&&isPair(n)?isScalar$1(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);const n=findPair(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new Pair(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(t,r,n){const{replacer:i}=n,a=new this(t);if(r&&Symbol.iterator in Object(r))for(let u of r)typeof i=="function"&&(u=i.call(r,u,u)),a.items.push(createPair(u,null,n));return a}}YAMLSet.tag="tag:yaml.org,2002:set";const set$2={collection:"map",identify:e=>e instanceof Set,nodeClass:YAMLSet,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>YAMLSet.from(e,t,r),resolve(e,t){if(isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new YAMLSet,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function parseSexagesimal(e,t){const r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=u=>t?BigInt(u):Number(u),a=n.replace(/_/g,"").split(":").reduce((u,d)=>u*i(60)+i(d),i(0));return r==="-"?i(-1)*a:a}function stringifySexagesimal(e){let{value:t}=e,r=u=>u;if(typeof t=="bigint")r=u=>BigInt(u);else if(isNaN(t)||!isFinite(t))return stringifyNumber(e);let n="";t<0&&(n="-",t*=r(-1));const i=r(60),a=[t%i];return t<60?a.unshift(0):(t=(t-a[0])/i,a.unshift(t%i),t>=60&&(t=(t-a[0])/i,a.unshift(t))),n+a.map(u=>String(u).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const intTime={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>parseSexagesimal(e,r),stringify:stringifySexagesimal},floatTime={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>parseSexagesimal(e,!1),stringify:stringifySexagesimal},timestamp={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(timestamp.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,r,n,i,a,u,d]=t.map(Number),m=t[7]?Number((t[7]+"00").substr(1,3)):0;let g=Date.UTC(r,n-1,i,a||0,u||0,d||0,m);const x=t[8];if(x&&x!=="Z"){let R=parseSexagesimal(x,!1);Math.abs(R)<30&&(R*=60),g-=6e4*R}return new Date(g)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},schema=[map$1,seq,string,nullTag,trueTag,falseTag,intBin,intOct,int,intHex,floatNaN,floatExp,float,binary,merge,omap,pairs,set$2,intTime,floatTime,timestamp],schemas=new Map([["core",schema$2],["failsafe",[map$1,seq,string]],["json",schema$1],["yaml11",schema],["yaml-1.1",schema]]),tagsByName={binary,bool:boolTag,float:float$1,floatExp:floatExp$1,floatNaN:floatNaN$1,floatTime,int:int$1,intHex:intHex$1,intOct:intOct$1,intTime,map:map$1,merge,null:nullTag,omap,pairs,seq,set:set$2,timestamp},coreKnownTags={"tag:yaml.org,2002:binary":binary,"tag:yaml.org,2002:merge":merge,"tag:yaml.org,2002:omap":omap,"tag:yaml.org,2002:pairs":pairs,"tag:yaml.org,2002:set":set$2,"tag:yaml.org,2002:timestamp":timestamp};function getTags(e,t,r){const n=schemas.get(t);if(n&&!e)return r&&!n.includes(merge)?n.concat(merge):n.slice();let i=n;if(!i)if(Array.isArray(e))i=[];else{const a=Array.from(schemas.keys()).filter(u=>u!=="yaml11").map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${a} or define customTags array`)}if(Array.isArray(e))for(const a of e)i=i.concat(a);else typeof e=="function"&&(i=e(i.slice()));return r&&(i=i.concat(merge)),i.reduce((a,u)=>{const d=typeof u=="string"?tagsByName[u]:u;if(!d){const m=JSON.stringify(u),g=Object.keys(tagsByName).map(x=>JSON.stringify(x)).join(", ");throw new Error(`Unknown custom tag ${m}; use one of ${g}`)}return a.includes(d)||a.push(d),a},[])}const sortMapEntriesByKey=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Schema{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:a,sortMapEntries:u,toStringDefaults:d}){this.compat=Array.isArray(t)?getTags(t,"compat"):t?getTags(null,t):null,this.name=typeof a=="string"&&a||"core",this.knownTags=i?coreKnownTags:{},this.tags=getTags(r,this.name,n),this.toStringOptions=d??null,Object.defineProperty(this,MAP,{value:map$1}),Object.defineProperty(this,SCALAR$1,{value:string}),Object.defineProperty(this,SEQ,{value:seq}),this.sortMapEntries=typeof u=="function"?u:u===!0?sortMapEntriesByKey:null}clone(){const t=Object.create(Schema.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function stringifyDocument(e,t){const r=[];let n=t.directives===!0;if(t.directives!==!1&&e.directives){const m=e.directives.toString(e);m?(r.push(m),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");const i=createStringifyContext(e,t),{commentString:a}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");const m=a(e.commentBefore);r.unshift(indentComment(m,""))}let u=!1,d=null;if(e.contents){if(isNode(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){const x=a(e.contents.commentBefore);r.push(indentComment(x,""))}i.forceBlockIndent=!!e.comment,d=e.contents.comment}const m=d?void 0:()=>u=!0;let g=stringify$2(e.contents,i,()=>d=null,m);d&&(g+=lineComment(g,"",a(d))),(g[0]==="|"||g[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${g}`:r.push(g)}else r.push(stringify$2(e.contents,i));if(e.directives?.docEnd)if(e.comment){const m=a(e.comment);m.includes(`
`)?(r.push("..."),r.push(indentComment(m,""))):r.push(`... ${m}`)}else r.push("...");else{let m=e.comment;m&&u&&(m=m.replace(/^\n+/,"")),m&&((!u||d)&&r[r.length-1]!==""&&r.push(""),r.push(indentComment(a(m),"")))}return r.join(`
`)+`
`}class Document{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,NODE_TYPE,{value:DOC});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=a;let{version:u}=a;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(u=this.directives.yaml.version)):this.directives=new Directives({version:u}),this.setSchema(u,n),this.contents=t===void 0?null:this.createNode(t,i,n)}clone(){const t=Object.create(Document.prototype,{[NODE_TYPE]:{value:DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){assertCollection(this.contents)&&this.contents.add(t)}addIn(t,r){assertCollection(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){const n=anchorNames(this);t.anchor=!r||n.has(r)?findNewAnchor(r||"a",n):r}return new Alias(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){const D=j=>typeof j=="number"||j instanceof String||j instanceof Number,V=r.filter(D).map(String);V.length>0&&(r=r.concat(V)),i=r}else n===void 0&&r&&(n=r,r=void 0);const{aliasDuplicateObjects:a,anchorPrefix:u,flow:d,keepUndefined:m,onTagObj:g,tag:x}=n??{},{onAnchor:R,setAnchors:O,sourceObjects:q}=createNodeAnchors(this,u||"a"),B={aliasDuplicateObjects:a??!0,keepUndefined:m??!1,onAnchor:R,onTagObj:g,replacer:i,schema:this.schema,sourceObjects:q},F=createNode(t,x,B);return d&&isCollection$1(F)&&(F.flow=!0),O(),F}createPair(t,r,n={}){const i=this.createNode(t,null,n),a=this.createNode(r,null,n);return new Pair(i,a)}delete(t){return assertCollection(this.contents)?this.contents.delete(t):!1}deleteIn(t){return isEmptyPath(t)?this.contents==null?!1:(this.contents=null,!0):assertCollection(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return isCollection$1(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return isEmptyPath(t)?!r&&isScalar$1(this.contents)?this.contents.value:this.contents:isCollection$1(this.contents)?this.contents.getIn(t,r):void 0}has(t){return isCollection$1(this.contents)?this.contents.has(t):!1}hasIn(t){return isEmptyPath(t)?this.contents!==void 0:isCollection$1(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=collectionFromPath(this.schema,[t],r):assertCollection(this.contents)&&this.contents.set(t,r)}setIn(t,r){isEmptyPath(t)?this.contents=r:this.contents==null?this.contents=collectionFromPath(this.schema,Array.from(t),r):assertCollection(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Directives({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Directives({version:t}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new Schema(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:a,reviver:u}={}){const d={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},m=toJS(this.contents,r??"",d);if(typeof a=="function")for(const{count:g,res:x}of d.anchors.values())a(x,g);return typeof u=="function"?applyReviver(u,{"":m},"",m):m}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return stringifyDocument(this,t)}}function assertCollection(e){if(isCollection$1(e))return!0;throw new Error("Expected a YAML collection as document contents")}class YAMLError extends Error{constructor(t,r,n,i){super(),this.name=t,this.code=n,this.message=i,this.pos=r}}class YAMLParseError extends YAMLError{constructor(t,r,n){super("YAMLParseError",t,r,n)}}class YAMLWarning extends YAMLError{constructor(t,r,n){super("YAMLWarning",t,r,n)}}const prettifyError=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(d=>t.linePos(d));const{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let a=i-1,u=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(a>=60&&u.length>80){const d=Math.min(a-39,u.length-79);u=""+u.substring(d),a-=d-1}if(u.length>80&&(u=u.substring(0,79)+""),n>1&&/^ *$/.test(u.substring(0,a))){let d=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);d.length>80&&(d=d.substring(0,79)+`
`),u=d+u}if(/[^ ]/.test(u)){let d=1;const m=r.linePos[1];m&&m.line===n&&m.col>i&&(d=Math.max(1,Math.min(m.col-i,80-a)));const g=" ".repeat(a)+"^".repeat(d);r.message+=`:

${u}
${g}
`}};function resolveProps(e,{flow:t,indicator:r,next:n,offset:i,onError:a,parentIndent:u,startOnNewline:d}){let m=!1,g=d,x=d,R="",O="",q=!1,B=!1,F=null,D=null,V=null,j=null,K=null,Q=null,z=null;for(const de of e)switch(B&&(de.type!=="space"&&de.type!=="newline"&&de.type!=="comma"&&a(de.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),B=!1),F&&(g&&de.type!=="comment"&&de.type!=="newline"&&a(F,"TAB_AS_INDENT","Tabs are not allowed as indentation"),F=null),de.type){case"space":!t&&(r!=="doc-start"||n?.type!=="flow-collection")&&de.source.includes("	")&&(F=de),x=!0;break;case"comment":{x||a(de,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const Oe=de.source.substring(1)||" ";R?R+=O+Oe:R=Oe,O="",g=!1;break}case"newline":g?R?R+=de.source:(!Q||r!=="seq-item-ind")&&(m=!0):O+=de.source,g=!0,q=!0,(D||V)&&(j=de),x=!0;break;case"anchor":D&&a(de,"MULTIPLE_ANCHORS","A node can have at most one anchor"),de.source.endsWith(":")&&a(de.offset+de.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),D=de,z??(z=de.offset),g=!1,x=!1,B=!0;break;case"tag":{V&&a(de,"MULTIPLE_TAGS","A node can have at most one tag"),V=de,z??(z=de.offset),g=!1,x=!1,B=!0;break}case r:(D||V)&&a(de,"BAD_PROP_ORDER",`Anchors and tags must be after the ${de.source} indicator`),Q&&a(de,"UNEXPECTED_TOKEN",`Unexpected ${de.source} in ${t??"collection"}`),Q=de,g=r==="seq-item-ind"||r==="explicit-key-ind",x=!1;break;case"comma":if(t){K&&a(de,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),K=de,g=!1,x=!1;break}default:a(de,"UNEXPECTED_TOKEN",`Unexpected ${de.type} token`),g=!1,x=!1}const G=e[e.length-1],re=G?G.offset+G.source.length:i;return B&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&a(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),F&&(g&&F.indent<=u||n?.type==="block-map"||n?.type==="block-seq")&&a(F,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:K,found:Q,spaceBefore:m,comment:R,hasNewline:q,anchor:D,tag:V,newlineAfterProp:j,end:re,start:z??re}}function containsNewline(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const r of t.start)if(r.type==="newline")return!0;if(t.sep){for(const r of t.sep)if(r.type==="newline")return!0}if(containsNewline(t.key)||containsNewline(t.value))return!0}return!1;default:return!0}}function flowIndentCheck(e,t,r){if(t?.type==="flow-collection"){const n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&containsNewline(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function mapIncludes(e,t,r){const{uniqueKeys:n}=e.options;if(n===!1)return!1;const i=typeof n=="function"?n:(a,u)=>a===u||isScalar$1(a)&&isScalar$1(u)&&a.value===u.value;return t.some(a=>i(a.key,r))}const startColMsg="All mapping items must start at the same column";function resolveBlockMap({composeNode:e,composeEmptyNode:t},r,n,i,a){const u=a?.nodeClass??YAMLMap,d=new u(r.schema);r.atRoot&&(r.atRoot=!1);let m=n.offset,g=null;for(const x of n.items){const{start:R,key:O,sep:q,value:B}=x,F=resolveProps(R,{indicator:"explicit-key-ind",next:O??q?.[0],offset:m,onError:i,parentIndent:n.indent,startOnNewline:!0}),D=!F.found;if(D){if(O&&(O.type==="block-seq"?i(m,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in O&&O.indent!==n.indent&&i(m,"BAD_INDENT",startColMsg)),!F.anchor&&!F.tag&&!q){g=F.end,F.comment&&(d.comment?d.comment+=`
`+F.comment:d.comment=F.comment);continue}(F.newlineAfterProp||containsNewline(O))&&i(O??R[R.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else F.found?.indent!==n.indent&&i(m,"BAD_INDENT",startColMsg);r.atKey=!0;const V=F.end,j=O?e(r,O,F,i):t(r,V,R,null,F,i);r.schema.compat&&flowIndentCheck(n.indent,O,i),r.atKey=!1,mapIncludes(r,d.items,j)&&i(V,"DUPLICATE_KEY","Map keys must be unique");const K=resolveProps(q??[],{indicator:"map-value-ind",next:B,offset:j.range[2],onError:i,parentIndent:n.indent,startOnNewline:!O||O.type==="block-scalar"});if(m=K.end,K.found){D&&(B?.type==="block-map"&&!K.hasNewline&&i(m,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&F.start<K.found.offset-1024&&i(j.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const Q=B?e(r,B,K,i):t(r,m,q,null,K,i);r.schema.compat&&flowIndentCheck(n.indent,B,i),m=Q.range[2];const z=new Pair(j,Q);r.options.keepSourceTokens&&(z.srcToken=x),d.items.push(z)}else{D&&i(j.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),K.comment&&(j.comment?j.comment+=`
`+K.comment:j.comment=K.comment);const Q=new Pair(j);r.options.keepSourceTokens&&(Q.srcToken=x),d.items.push(Q)}}return g&&g<m&&i(g,"IMPOSSIBLE","Map comment with trailing content"),d.range=[n.offset,m,g??m],d}function resolveBlockSeq({composeNode:e,composeEmptyNode:t},r,n,i,a){const u=a?.nodeClass??YAMLSeq,d=new u(r.schema);r.atRoot&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let m=n.offset,g=null;for(const{start:x,value:R}of n.items){const O=resolveProps(x,{indicator:"seq-item-ind",next:R,offset:m,onError:i,parentIndent:n.indent,startOnNewline:!0});if(!O.found)if(O.anchor||O.tag||R)R&&R.type==="block-seq"?i(O.end,"BAD_INDENT","All sequence items must start at the same column"):i(m,"MISSING_CHAR","Sequence item without - indicator");else{g=O.end,O.comment&&(d.comment=O.comment);continue}const q=R?e(r,R,O,i):t(r,O.end,x,null,O,i);r.schema.compat&&flowIndentCheck(n.indent,R,i),m=q.range[2],d.items.push(q)}return d.range=[n.offset,m,g??m],d}function resolveEnd(e,t,r,n){let i="";if(e){let a=!1,u="";for(const d of e){const{source:m,type:g}=d;switch(g){case"space":a=!0;break;case"comment":{r&&!a&&n(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const x=m.substring(1)||" ";i?i+=u+x:i=x,u="";break}case"newline":i&&(u+=m),a=!0;break;default:n(d,"UNEXPECTED_TOKEN",`Unexpected ${g} at node end`)}t+=m.length}}return{comment:i,offset:t}}const blockMsg="Block collections are not allowed within flow collections",isBlock=e=>e&&(e.type==="block-map"||e.type==="block-seq");function resolveFlowCollection({composeNode:e,composeEmptyNode:t},r,n,i,a){const u=n.start.source==="{",d=u?"flow map":"flow sequence",m=a?.nodeClass??(u?YAMLMap:YAMLSeq),g=new m(r.schema);g.flow=!0;const x=r.atRoot;x&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let R=n.offset+n.start.source.length;for(let D=0;D<n.items.length;++D){const V=n.items[D],{start:j,key:K,sep:Q,value:z}=V,G=resolveProps(j,{flow:d,indicator:"explicit-key-ind",next:K??Q?.[0],offset:R,onError:i,parentIndent:n.indent,startOnNewline:!1});if(!G.found){if(!G.anchor&&!G.tag&&!Q&&!z){D===0&&G.comma?i(G.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${d}`):D<n.items.length-1&&i(G.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${d}`),G.comment&&(g.comment?g.comment+=`
`+G.comment:g.comment=G.comment),R=G.end;continue}!u&&r.options.strict&&containsNewline(K)&&i(K,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(D===0)G.comma&&i(G.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${d}`);else if(G.comma||i(G.start,"MISSING_CHAR",`Missing , between ${d} items`),G.comment){let re="";e:for(const de of j)switch(de.type){case"comma":case"space":break;case"comment":re=de.source.substring(1);break e;default:break e}if(re){let de=g.items[g.items.length-1];isPair(de)&&(de=de.value??de.key),de.comment?de.comment+=`
`+re:de.comment=re,G.comment=G.comment.substring(re.length+1)}}if(!u&&!Q&&!G.found){const re=z?e(r,z,G,i):t(r,G.end,Q,null,G,i);g.items.push(re),R=re.range[2],isBlock(z)&&i(re.range,"BLOCK_IN_FLOW",blockMsg)}else{r.atKey=!0;const re=G.end,de=K?e(r,K,G,i):t(r,re,j,null,G,i);isBlock(K)&&i(de.range,"BLOCK_IN_FLOW",blockMsg),r.atKey=!1;const Oe=resolveProps(Q??[],{flow:d,indicator:"map-value-ind",next:z,offset:de.range[2],onError:i,parentIndent:n.indent,startOnNewline:!1});if(Oe.found){if(!u&&!G.found&&r.options.strict){if(Q)for(const Mt of Q){if(Mt===Oe.found)break;if(Mt.type==="newline"){i(Mt,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}G.start<Oe.found.offset-1024&&i(Oe.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else z&&("source"in z&&z.source&&z.source[0]===":"?i(z,"MISSING_CHAR",`Missing space after : in ${d}`):i(Oe.start,"MISSING_CHAR",`Missing , or : between ${d} items`));const Ve=z?e(r,z,Oe,i):Oe.found?t(r,Oe.end,Q,null,Oe,i):null;Ve?isBlock(z)&&i(Ve.range,"BLOCK_IN_FLOW",blockMsg):Oe.comment&&(de.comment?de.comment+=`
`+Oe.comment:de.comment=Oe.comment);const wt=new Pair(de,Ve);if(r.options.keepSourceTokens&&(wt.srcToken=V),u){const Mt=g;mapIncludes(r,Mt.items,de)&&i(re,"DUPLICATE_KEY","Map keys must be unique"),Mt.items.push(wt)}else{const Mt=new YAMLMap(r.schema);Mt.flow=!0,Mt.items.push(wt);const mn=(Ve??de).range;Mt.range=[de.range[0],mn[1],mn[2]],g.items.push(Mt)}R=Ve?Ve.range[2]:Oe.end}}const O=u?"}":"]",[q,...B]=n.end;let F=R;if(q&&q.source===O)F=q.offset+q.source.length;else{const D=d[0].toUpperCase()+d.substring(1),V=x?`${D} must end with a ${O}`:`${D} in block collection must be sufficiently indented and end with a ${O}`;i(R,x?"MISSING_CHAR":"BAD_INDENT",V),q&&q.source.length!==1&&B.unshift(q)}if(B.length>0){const D=resolveEnd(B,F,r.options.strict,i);D.comment&&(g.comment?g.comment+=`
`+D.comment:g.comment=D.comment),g.range=[n.offset,F,D.offset]}else g.range=[n.offset,F,F];return g}function resolveCollection(e,t,r,n,i,a){const u=r.type==="block-map"?resolveBlockMap(e,t,r,n,a):r.type==="block-seq"?resolveBlockSeq(e,t,r,n,a):resolveFlowCollection(e,t,r,n,a),d=u.constructor;return i==="!"||i===d.tagName?(u.tag=d.tagName,u):(i&&(u.tag=i),u)}function composeCollection(e,t,r,n,i){const a=n.tag,u=a?t.directives.tagName(a.source,O=>i(a,"TAG_RESOLVE_FAILED",O)):null;if(r.type==="block-seq"){const{anchor:O,newlineAfterProp:q}=n,B=O&&a?O.offset>a.offset?O:a:O??a;B&&(!q||q.offset<B.offset)&&i(B,"MISSING_CHAR","Missing newline after block sequence props")}const d=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!a||!u||u==="!"||u===YAMLMap.tagName&&d==="map"||u===YAMLSeq.tagName&&d==="seq")return resolveCollection(e,t,r,i,u);let m=t.schema.tags.find(O=>O.tag===u&&O.collection===d);if(!m){const O=t.schema.knownTags[u];if(O&&O.collection===d)t.schema.tags.push(Object.assign({},O,{default:!1})),m=O;else return O?i(a,"BAD_COLLECTION_TYPE",`${O.tag} used for ${d} collection, but expects ${O.collection??"scalar"}`,!0):i(a,"TAG_RESOLVE_FAILED",`Unresolved tag: ${u}`,!0),resolveCollection(e,t,r,i,u)}const g=resolveCollection(e,t,r,i,u,m),x=m.resolve?.(g,O=>i(a,"TAG_RESOLVE_FAILED",O),t.options)??g,R=isNode(x)?x:new Scalar(x);return R.range=g.range,R.tag=u,m?.format&&(R.format=m.format),R}function resolveBlockScalar(e,t,r){const n=t.offset,i=parseBlockScalarHeader(t,e.options.strict,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};const a=i.mode===">"?Scalar.BLOCK_FOLDED:Scalar.BLOCK_LITERAL,u=t.source?splitLines(t.source):[];let d=u.length;for(let F=u.length-1;F>=0;--F){const D=u[F][1];if(D===""||D==="\r")d=F;else break}if(d===0){const F=i.chomp==="+"&&u.length>0?`
`.repeat(Math.max(1,u.length-1)):"";let D=n+i.length;return t.source&&(D+=t.source.length),{value:F,type:a,comment:i.comment,range:[n,D,D]}}let m=t.indent+i.indent,g=t.offset+i.length,x=0;for(let F=0;F<d;++F){const[D,V]=u[F];if(V===""||V==="\r")i.indent===0&&D.length>m&&(m=D.length);else{D.length<m&&r(g+D.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(m=D.length),x=F,m===0&&!e.atRoot&&r(g,"BAD_INDENT","Block scalar values in collections must be indented");break}g+=D.length+V.length+1}for(let F=u.length-1;F>=d;--F)u[F][0].length>m&&(d=F+1);let R="",O="",q=!1;for(let F=0;F<x;++F)R+=u[F][0].slice(m)+`
`;for(let F=x;F<d;++F){let[D,V]=u[F];g+=D.length+V.length+1;const j=V[V.length-1]==="\r";if(j&&(V=V.slice(0,-1)),V&&D.length<m){const Q=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(g-V.length-(j?2:1),"BAD_INDENT",Q),D=""}a===Scalar.BLOCK_LITERAL?(R+=O+D.slice(m)+V,O=`
`):D.length>m||V[0]==="	"?(O===" "?O=`
`:!q&&O===`
`&&(O=`

`),R+=O+D.slice(m)+V,O=`
`,q=!0):V===""?O===`
`?R+=`
`:O=`
`:(R+=O+V,O=" ",q=!1)}switch(i.chomp){case"-":break;case"+":for(let F=d;F<u.length;++F)R+=`
`+u[F][0].slice(m);R[R.length-1]!==`
`&&(R+=`
`);break;default:R+=`
`}const B=n+i.length+t.source.length;return{value:R,type:a,comment:i.comment,range:[n,B,B]}}function parseBlockScalarHeader({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],a=i[0];let u=0,d="",m=-1;for(let O=1;O<i.length;++O){const q=i[O];if(!d&&(q==="-"||q==="+"))d=q;else{const B=Number(q);!u&&B?u=B:m===-1&&(m=e+O)}}m!==-1&&n(m,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let g=!1,x="",R=i.length;for(let O=1;O<t.length;++O){const q=t[O];switch(q.type){case"space":g=!0;case"newline":R+=q.source.length;break;case"comment":r&&!g&&n(q,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),R+=q.source.length,x=q.source.substring(1);break;case"error":n(q,"UNEXPECTED_TOKEN",q.message),R+=q.source.length;break;default:{const B=`Unexpected token in block scalar header: ${q.type}`;n(q,"UNEXPECTED_TOKEN",B);const F=q.source;F&&typeof F=="string"&&(R+=F.length)}}}return{mode:a,indent:u,chomp:d,comment:x,length:R}}function splitLines(e){const t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),a=[n?.[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let u=1;u<t.length;u+=2)a.push([t[u],t[u+1]]);return a}function resolveFlowScalar(e,t,r){const{offset:n,type:i,source:a,end:u}=e;let d,m;const g=(O,q,B)=>r(n+O,q,B);switch(i){case"scalar":d=Scalar.PLAIN,m=plainValue(a,g);break;case"single-quoted-scalar":d=Scalar.QUOTE_SINGLE,m=singleQuotedValue(a,g);break;case"double-quoted-scalar":d=Scalar.QUOTE_DOUBLE,m=doubleQuotedValue(a,g);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+a.length,n+a.length]}}const x=n+a.length,R=resolveEnd(u,x,t,r);return{value:m,type:d,comment:R.comment,range:[n,x,R.offset]}}function plainValue(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),foldLines(e)}function singleQuotedValue(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),foldLines(e.slice(1,-1)).replace(/''/g,"'")}function foldLines(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],a=" ",u=t.lastIndex;for(r.lastIndex=u;n=r.exec(e);)n[1]===""?a===`
`?i+=a:a=`
`:(i+=a+n[1],a=" "),u=r.lastIndex;const d=/[ \t]*(.*)/sy;return d.lastIndex=u,n=d.exec(e),i+a+(n?.[1]??"")}function doubleQuotedValue(e,t){let r="";for(let n=1;n<e.length-1;++n){const i=e[n];if(!(i==="\r"&&e[n+1]===`
`))if(i===`
`){const{fold:a,offset:u}=foldNewline(e,n);r+=a,n=u}else if(i==="\\"){let a=e[++n];const u=escapeCodes[a];if(u)r+=u;else if(a===`
`)for(a=e[n+1];a===" "||a==="	";)a=e[++n+1];else if(a==="\r"&&e[n+1]===`
`)for(a=e[++n+1];a===" "||a==="	";)a=e[++n+1];else if(a==="x"||a==="u"||a==="U"){const d={x:2,u:4,U:8}[a];r+=parseCharCode(e,n+1,d,t),n+=d}else{const d=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${d}`),r+=d}}else if(i===" "||i==="	"){const a=n;let u=e[n+1];for(;u===" "||u==="	";)u=e[++n+1];u!==`
`&&!(u==="\r"&&e[n+2]===`
`)&&(r+=n>a?e.slice(a,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function foldNewline(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}const escapeCodes={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function parseCharCode(e,t,r,n){const i=e.substr(t,r),u=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(u)){const d=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${d}`),d}return String.fromCodePoint(u)}function composeScalar(e,t,r,n){const{value:i,type:a,comment:u,range:d}=t.type==="block-scalar"?resolveBlockScalar(e,t,n):resolveFlowScalar(t,e.options.strict,n),m=r?e.directives.tagName(r.source,R=>n(r,"TAG_RESOLVE_FAILED",R)):null;let g;e.options.stringKeys&&e.atKey?g=e.schema[SCALAR$1]:m?g=findScalarTagByName(e.schema,i,m,r,n):t.type==="scalar"?g=findScalarTagByTest(e,i,t,n):g=e.schema[SCALAR$1];let x;try{const R=g.resolve(i,O=>n(r??t,"TAG_RESOLVE_FAILED",O),e.options);x=isScalar$1(R)?R:new Scalar(R)}catch(R){const O=R instanceof Error?R.message:String(R);n(r??t,"TAG_RESOLVE_FAILED",O),x=new Scalar(i)}return x.range=d,x.source=i,a&&(x.type=a),m&&(x.tag=m),g.format&&(x.format=g.format),u&&(x.comment=u),x}function findScalarTagByName(e,t,r,n,i){if(r==="!")return e[SCALAR$1];const a=[];for(const d of e.tags)if(!d.collection&&d.tag===r)if(d.default&&d.test)a.push(d);else return d;for(const d of a)if(d.test?.test(t))return d;const u=e.knownTags[r];return u&&!u.collection?(e.tags.push(Object.assign({},u,{default:!1,test:void 0})),u):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[SCALAR$1])}function findScalarTagByTest({atKey:e,directives:t,schema:r},n,i,a){const u=r.tags.find(d=>(d.default===!0||e&&d.default==="key")&&d.test?.test(n))||r[SCALAR$1];if(r.compat){const d=r.compat.find(m=>m.default&&m.test?.test(n))??r[SCALAR$1];if(u.tag!==d.tag){const m=t.tagString(u.tag),g=t.tagString(d.tag),x=`Value may be parsed as either ${m} or ${g}`;a(i,"TAG_RESOLVE_FAILED",x,!0)}}return u}function emptyScalarPosition(e,t,r){if(t){r??(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];i?.type==="space";)e+=i.source.length,i=t[++n];break}}return e}const CN={composeNode,composeEmptyNode};function composeNode(e,t,r,n){const i=e.atKey,{spaceBefore:a,comment:u,anchor:d,tag:m}=r;let g,x=!0;switch(t.type){case"alias":g=composeAlias(e,t,n),(d||m)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":g=composeScalar(e,t,m,n),d&&(g.anchor=d.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":g=composeCollection(CN,e,t,r,n),d&&(g.anchor=d.source.substring(1));break;default:{const R=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;n(t,"UNEXPECTED_TOKEN",R),g=composeEmptyNode(e,t.offset,void 0,null,r,n),x=!1}}return d&&g.anchor===""&&n(d,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!isScalar$1(g)||typeof g.value!="string"||g.tag&&g.tag!=="tag:yaml.org,2002:str")&&n(m??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),a&&(g.spaceBefore=!0),u&&(t.type==="scalar"&&t.source===""?g.comment=u:g.commentBefore=u),e.options.keepSourceTokens&&x&&(g.srcToken=t),g}function composeEmptyNode(e,t,r,n,{spaceBefore:i,comment:a,anchor:u,tag:d,end:m},g){const x={type:"scalar",offset:emptyScalarPosition(t,r,n),indent:-1,source:""},R=composeScalar(e,x,d,g);return u&&(R.anchor=u.source.substring(1),R.anchor===""&&g(u,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(R.spaceBefore=!0),a&&(R.comment=a,R.range[2]=m),R}function composeAlias({options:e},{offset:t,source:r,end:n},i){const a=new Alias(r.substring(1));a.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&i(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const u=t+r.length,d=resolveEnd(n,u,e.strict,i);return a.range=[t,u,d.offset],d.comment&&(a.comment=d.comment),a}function composeDoc(e,t,{offset:r,start:n,value:i,end:a},u){const d=Object.assign({_directives:t},e),m=new Document(void 0,d),g={atKey:!1,atRoot:!0,directives:m.directives,options:m.options,schema:m.schema},x=resolveProps(n,{indicator:"doc-start",next:i??a?.[0],offset:r,onError:u,parentIndent:0,startOnNewline:!0});x.found&&(m.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!x.hasNewline&&u(x.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),m.contents=i?composeNode(g,i,x,u):composeEmptyNode(g,x.end,n,null,x,u);const R=m.contents.range[2],O=resolveEnd(a,R,!1,u);return O.comment&&(m.comment=O.comment),m.range=[r,R,O.offset],m}function getErrorPos(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function parsePrelude(e){let t="",r=!1,n=!1;for(let i=0;i<e.length;++i){const a=e[i];switch(a[0]){case"#":t+=(t===""?"":n?`

`:`
`)+(a.substring(1)||" "),r=!0,n=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}class Composer{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,a)=>{const u=getErrorPos(r);a?this.warnings.push(new YAMLWarning(u,n,i)):this.errors.push(new YAMLParseError(u,n,i))},this.directives=new Directives({version:t.version||"1.2"}),this.options=t}decorate(t,r){const{comment:n,afterEmptyLine:i}=parsePrelude(this.prelude);if(n){const a=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(i||t.directives.docStart||!a)t.commentBefore=n;else if(isCollection$1(a)&&!a.flow&&a.items.length>0){let u=a.items[0];isPair(u)&&(u=u.key);const d=u.commentBefore;u.commentBefore=d?`${n}
${d}`:n}else{const u=a.commentBefore;a.commentBefore=u?`${n}
${u}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:parsePrelude(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(const i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{const a=getErrorPos(t);a[0]+=r,this.onError(a,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const r=composeDoc(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new YAMLParseError(getErrorPos(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new YAMLParseError(getErrorPos(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const r=resolveEnd(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new YAMLParseError(getErrorPos(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const n=Object.assign({_directives:this.directives},this.options),i=new Document(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}}function resolveAsScalar(e,t=!0,r){if(e){const n=(i,a,u)=>{const d=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(d,a,u);else throw new YAMLParseError([d,d+1],a,u)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return resolveFlowScalar(e,t,n);case"block-scalar":return resolveBlockScalar({options:{strict:t}},e,n)}}return null}function createScalarToken(e,t){const{implicitKey:r=!1,indent:n,inFlow:i=!1,offset:a=-1,type:u="PLAIN"}=t,d=stringifyString({type:u,value:e},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),m=t.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(d[0]){case"|":case">":{const g=d.indexOf(`
`),x=d.substring(0,g),R=d.substring(g+1)+`
`,O=[{type:"block-scalar-header",offset:a,indent:n,source:x}];return addEndtoBlockProps(O,m)||O.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:a,indent:n,props:O,source:R}}case'"':return{type:"double-quoted-scalar",offset:a,indent:n,source:d,end:m};case"'":return{type:"single-quoted-scalar",offset:a,indent:n,source:d,end:m};default:return{type:"scalar",offset:a,indent:n,source:d,end:m}}}function setScalarValue(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:a=!1,type:u}=r,d="indent"in e?e.indent:null;if(n&&typeof d=="number"&&(d+=2),!u)switch(e.type){case"single-quoted-scalar":u="QUOTE_SINGLE";break;case"double-quoted-scalar":u="QUOTE_DOUBLE";break;case"block-scalar":{const g=e.props[0];if(g.type!=="block-scalar-header")throw new Error("Invalid block scalar header");u=g.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:u="PLAIN"}const m=stringifyString({type:u,value:t},{implicitKey:i||d===null,indent:d!==null&&d>0?" ".repeat(d):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}});switch(m[0]){case"|":case">":setBlockScalarValue(e,m);break;case'"':setFlowScalarValue(e,m,"double-quoted-scalar");break;case"'":setFlowScalarValue(e,m,"single-quoted-scalar");break;default:setFlowScalarValue(e,m,"scalar")}}function setBlockScalarValue(e,t){const r=t.indexOf(`
`),n=t.substring(0,r),i=t.substring(r+1)+`
`;if(e.type==="block-scalar"){const a=e.props[0];if(a.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a.source=n,e.source=i}else{const{offset:a}=e,u="indent"in e?e.indent:-1,d=[{type:"block-scalar-header",offset:a,indent:u,source:n}];addEndtoBlockProps(d,"end"in e?e.end:void 0)||d.push({type:"newline",offset:-1,indent:u,source:`
`});for(const m of Object.keys(e))m!=="type"&&m!=="offset"&&delete e[m];Object.assign(e,{type:"block-scalar",indent:u,props:d,source:i})}}function addEndtoBlockProps(e,t){if(t)for(const r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function setFlowScalarValue(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{const n=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const a of n)a.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{const n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(a=>a.type==="space"||a.type==="comment"||a.type==="newline"):[];for(const a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}const stringify$1=e=>"type"in e?stringifyToken(e):stringifyItem(e);function stringifyToken(e){switch(e.type){case"block-scalar":{let t="";for(const r of e.props)t+=stringifyToken(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(const r of e.items)t+=stringifyItem(r);return t}case"flow-collection":{let t=e.start.source;for(const r of e.items)t+=stringifyItem(r);for(const r of e.end)t+=r.source;return t}case"document":{let t=stringifyItem(e);if(e.end)for(const r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const r of e.end)t+=r.source;return t}}}function stringifyItem({start:e,key:t,sep:r,value:n}){let i="";for(const a of e)i+=a.source;if(t&&(i+=stringifyToken(t)),r)for(const a of r)i+=a.source;return n&&(i+=stringifyToken(n)),i}const BREAK=Symbol("break visit"),SKIP=Symbol("skip children"),REMOVE=Symbol("remove item");function visit(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),_visit(Object.freeze([]),e,t)}visit.BREAK=BREAK;visit.SKIP=SKIP;visit.REMOVE=REMOVE;visit.itemAtPath=(e,t)=>{let r=e;for(const[n,i]of t){const a=r?.[n];if(a&&"items"in a)r=a.items[i];else return}return r};visit.parentCollection=(e,t)=>{const r=visit.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r?.[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function _visit(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(const i of["key","value"]){const a=t[i];if(a&&"items"in a){for(let u=0;u<a.items.length;++u){const d=_visit(Object.freeze(e.concat([[i,u]])),a.items[u],r);if(typeof d=="number")u=d-1;else{if(d===BREAK)return BREAK;d===REMOVE&&(a.items.splice(u,1),u-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}const BOM="\uFEFF",DOCUMENT="",FLOW_END="",SCALAR="",isCollection=e=>!!e&&"items"in e,isScalar=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function prettyToken(e){switch(e){case BOM:return"<BOM>";case DOCUMENT:return"<DOC>";case FLOW_END:return"<FLOW_END>";case SCALAR:return"<SCALAR>";default:return JSON.stringify(e)}}function tokenType(e){switch(e){case BOM:return"byte-order-mark";case DOCUMENT:return"doc-mode";case FLOW_END:return"flow-error-end";case SCALAR:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const cst=Object.freeze(Object.defineProperty({__proto__:null,BOM,DOCUMENT,FLOW_END,SCALAR,createScalarToken,isCollection,isScalar,prettyToken,resolveAsScalar,setScalarValue,stringify:stringify$1,tokenType,visit},Symbol.toStringTag,{value:"Module"}));function isEmpty(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const hexDigits=new Set("0123456789ABCDEFabcdef"),tagChars=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),flowIndicatorChars=new Set(",[]{}"),invalidAnchorChars=new Set(` ,[]{}
\r	`),isNotAnchorChar=e=>!e||invalidAnchorChars.has(e);class Lexer{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){const i=this.buffer[n+t+1];if(i===`
`||!i&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){const n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&isEmpty(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===BOM&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length,n=t.indexOf("#");for(;n!==-1;){const a=t[n-1];if(a===" "||a==="	"){r=n-1;break}else n=t.indexOf("#",n+1)}for(;;){const a=t[r-1];if(a===" "||a==="	")r-=1;else break}const i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const r=this.peek(3);if((r==="---"||r==="...")&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,r==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!isEmpty(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&isEmpty(r)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),t>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(t+r>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&isEmpty(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield FLOW_END,yield*this.parseLineStart();let a=0;for(;i[a]===",";)a+=yield*this.pushCount(1),a+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(a+=yield*this.pushIndicators(),i[a]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-a),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const u=this.charAt(1);if(this.flowKey||isEmpty(u)||u===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let a=0;for(;this.buffer[r-1-a]==="\\";)a+=1;if(a%2===0)break;r=this.buffer.indexOf('"',r+1)}const n=this.buffer.substring(0,r);let i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const a=this.continueScalar(i+1);if(a===-1)break;i=n.indexOf(`
`,a)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>isEmpty(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let a=this.pos;n=this.buffer[a];++a)switch(n){case" ":r+=1;break;case`
`:t=a,r=0;break;case"\r":{const u=this.buffer[a+1];if(!u&&!this.atEnd)return this.setNext("block-scalar");if(u===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const a=this.continueScalar(t+1);if(a===-1)break;t=this.buffer.indexOf(`
`,a)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(n=this.buffer[i];n===" ";)n=this.buffer[++i];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n===`
`;)n=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let a=t-1,u=this.buffer[a];u==="\r"&&(u=this.buffer[--a]);const d=a;for(;u===" ";)u=this.buffer[--a];if(u===`
`&&a>=this.pos&&a+1+r>d)t=a;else break}while(!0);return yield SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){const a=this.buffer[n+1];if(isEmpty(a)||t&&flowIndicatorChars.has(a))break;r=n}else if(isEmpty(i)){let a=this.buffer[n+1];if(i==="\r"&&(a===`
`?(n+=1,i=`
`,a=this.buffer[n+1]):r=n),a==="#"||t&&flowIndicatorChars.has(a))break;if(i===`
`){const u=this.continueScalar(n+1);if(u===-1)break;n=Math.max(n,u-2)}}else{if(t&&flowIndicatorChars.has(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield SCALAR,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){const n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(isNotAnchorChar))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,r=this.charAt(1);if(isEmpty(r)||t&&flowIndicatorChars.has(r))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!isEmpty(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(tagChars.has(r))r=this.buffer[++t];else if(r==="%"&&hexDigits.has(this.buffer[t+1])&&hexDigits.has(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");const i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}}class LineCounter{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){const a=r+n>>1;this.lineStarts[a]<t?r=a+1:n=a}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};const i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}}function includesToken(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function findNonEmptyIndex(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function isFlowToken(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function getPrevProps(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function getFirstKeyStartProps(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function fixFlowSeqItems(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!includesToken(t.start,"explicit-key-ind")&&!includesToken(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,isFlowToken(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Parser{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Lexer,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const r=tokenType(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const r=t??this.stack.pop();if(!r)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield r;else{const n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&fixFlowSeqItems(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{const i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{const i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){const i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&findNonEmptyIndex(i.start)===-1&&(r.indent===0||i.start.every(a=>a.type!=="comment"||a.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{findNonEmptyIndex(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const r=getPrevProps(this.peek(2)),n=getFirstKeyStartProps(r);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const r=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){const n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const n=!this.onKeyLine&&this.indent===t.indent,i=n&&(r.sep||r.explicitKey)&&this.type!=="seq-item-ind";let a=[];if(i&&r.sep&&!r.value){const u=[];for(let d=0;d<r.sep.length;++d){const m=r.sep[d];switch(m.type){case"newline":u.push(d);break;case"space":break;case"comment":m.indent>t.indent&&(u.length=0);break;default:u.length=0}}u.length>=2&&(a=r.sep.splice(u[1]))}switch(this.type){case"anchor":case"tag":i||r.value?(a.push(this.sourceToken),t.items.push({start:a}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!r.explicitKey?(r.start.push(this.sourceToken),r.explicitKey=!0):i||r.value?(a.push(this.sourceToken),t.items.push({start:a,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(r.explicitKey)if(r.sep)if(r.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(includesToken(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]});else if(isFlowToken(r.key)&&!includesToken(r.sep,"newline")){const u=getFirstKeyStartProps(r.start),d=r.key,m=r.sep;m.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:d,sep:m}]})}else a.length>0?r.sep=r.sep.concat(a,this.sourceToken):r.sep.push(this.sourceToken);else if(includesToken(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{const u=getFirstKeyStartProps(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||i?t.items.push({start:a,key:null,sep:[this.sourceToken]}):includesToken(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const u=this.flowScalar(this.type);i||r.value?(t.items.push({start:a,key:u,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(u):(Object.assign(r,{key:u,sep:[]}),this.onKeyLine=!0);return}default:{const u=this.startBlockValue(t);if(u){if(u.type==="block-seq"){if(!r.explicitKey&&r.sep&&!includesToken(r.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else n&&t.items.push({start:a});this.stack.push(u);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const r=t.items[t.items.length-1];switch(this.type){case"newline":if(r.value){const n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=t.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;r.value||includesToken(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>t.indent){const n=this.startBlockValue(t);if(n){this.stack.push(n);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const i=getPrevProps(n),a=getFirstKeyStartProps(i);fixFlowSeqItems(t);const u=t.end.splice(1,t.end.length);u.push(this.sourceToken);const d={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:a,key:t,sep:u}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=d}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const r=getPrevProps(t),n=getFirstKeyStartProps(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const r=getPrevProps(t),n=getFirstKeyStartProps(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function parseOptions(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new LineCounter||null,prettyErrors:t}}function parseAllDocuments(e,t={}){const{lineCounter:r,prettyErrors:n}=parseOptions(t),i=new Parser(r?.addNewLine),a=new Composer(t),u=Array.from(a.compose(i.parse(e)));if(n&&r)for(const d of u)d.errors.forEach(prettifyError(e,r)),d.warnings.forEach(prettifyError(e,r));return u.length>0?u:Object.assign([],{empty:!0},a.streamInfo())}function parseDocument(e,t={}){const{lineCounter:r,prettyErrors:n}=parseOptions(t),i=new Parser(r?.addNewLine),a=new Composer(t);let u=null;for(const d of a.compose(i.parse(e),!0,e.length))if(!u)u=d;else if(u.options.logLevel!=="silent"){u.errors.push(new YAMLParseError(d.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(u.errors.forEach(prettifyError(e,r)),u.warnings.forEach(prettifyError(e,r))),u}function parse(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);const i=parseDocument(e,r);if(!i)return null;if(i.warnings.forEach(a=>warn$1(i.options.logLevel,a)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function stringify(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){const i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=r??t??{};if(!i)return}return isDocument(e)&&!n?e.toString(r):new Document(e,n,r).toString(r)}const YAML=Object.freeze(Object.defineProperty({__proto__:null,Alias,CST:cst,Composer,Document,Lexer,LineCounter,Pair,Parser,Scalar,Schema,YAMLError,YAMLMap,YAMLParseError,YAMLSeq,YAMLWarning,isAlias,isCollection:isCollection$1,isDocument,isMap,isNode,isPair,isScalar:isScalar$1,isSeq,parse,parseAllDocuments,parseDocument,stringify,visit:visit$1,visitAsync},Symbol.toStringTag,{value:"Module"}));var __defProp$1=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(e,t,r)=>t in e?__defProp$1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues$1=(e,t)=>{for(var r in t||(t={}))__hasOwnProp$1.call(t,r)&&__defNormalProp$1(e,r,t[r]);if(__getOwnPropSymbols$1)for(var r of __getOwnPropSymbols$1(t))__propIsEnum$1.call(t,r)&&__defNormalProp$1(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__async=(e,t,r)=>new Promise((n,i)=>{var a=m=>{try{d(r.next(m))}catch(g){i(g)}},u=m=>{try{d(r.throw(m))}catch(g){i(g)}},d=m=>m.done?n(m.value):Promise.resolve(m.value).then(a,u);d((r=r.apply(e,t)).next())}),TaskQueue=class{constructor(e){this.processor=e,this.taskKeyQueue=[],this.taskMap=new Map,this.processing=!1,this.stopped=!1}addTask(e,t,r){if(!this.stopped){if(this.taskMap.has(e))throw new Error(`Task already added for key ${e}`);this.taskKeyQueue.push(e),this.taskMap.set(e,{input:t,onComplete:r}),this.processTasksIfNeeded()}}cancelTask(e){const t=this.taskKeyQueue.indexOf(e);t>=0&&this.taskKeyQueue.splice(t,1),this.taskMap.delete(e)}shutdown(){this.stopped=!0,this.processing=!1,this.taskKeyQueue.length=0,this.taskMap.clear()}processTasksIfNeeded(){!this.stopped&&!this.processing&&(this.processing=!0,setTimeout(()=>{this.processNextTask()}))}processNextTask(){return __async(this,null,function*(){var e,t;const r=this.taskKeyQueue.shift();if(!r)return;const n=this.taskMap.get(r);if(n)this.taskMap.delete(r);else return;let i;try{i=yield this.processor.process(n.input)}catch(a){this.stopped||(this.shutdown(),(e=this.onIdle)==null||e.call(this,a));return}n.onComplete(i),this.taskKeyQueue.length>0?setTimeout(()=>{this.processNextTask()}):(this.processing=!1,this.stopped||(t=this.onIdle)==null||t.call(this))})}},CheckDataCoordinator=class{constructor(e){this.bundleModel=e,this.taskQueue=new TaskQueue({process:t=>__async(this,null,function*(){return{dataset:(yield this.bundleModel.getDatasetsForScenario(t.scenarioSpec,[t.datasetKey])).datasetMap.get(t.datasetKey)}})})}requestDataset(e,t,r,n){const i={scenarioSpec:t,datasetKey:r};this.taskQueue.addTask(e,i,a=>{n(a.dataset)})}cancelRequest(e){this.taskQueue.cancelTask(e)}};function symbolForPredicateOp(e){switch(e){case"gt":return">";case"gte":return">=";case"lt":return"<";case"lte":return"<=";case"eq":return"==";case"approx":return"";default:ms$1(e)}}function buildCheckReport(e,t){const r=[];for(const n of e.groups){const i=[];for(const a of n.tests){let u="passed";const d=[];for(const m of a.scenarios){let g="passed";m.checkScenario.spec===void 0&&(u="error",g="error");const x=[];for(const R of m.datasets){let O="passed";R.checkDataset.datasetKey===void 0&&(u="error",g="error",O="error");const q=[];for(const B of R.predicates){const F=B.checkKey,D=t.get(F);D?(D.status!=="passed"&&(D.status==="error"?(u="error",g="error",O="error"):D.status==="failed"&&u!=="error"&&(u="failed",g="failed",O="failed")),q.push(predicateReport(B,F,D))):q.push(predicateReport(B,F,{status:"passed"}))}x.push({checkDataset:R.checkDataset,status:O,predicates:q})}d.push({checkScenario:m.checkScenario,status:g,datasets:x})}i.push({name:a.name,status:u,scenarios:d})}r.push({name:n.name,tests:i})}return{groups:r}}function predicateReport(e,t,r){if(r.status==="error")return{checkKey:t,result:r,opRefs:new Map,opValues:[]};const n=e.action.predicateSpec,i=new Map,a=[];function u(d){var m,g;const x=symbolForPredicateOp(d),R=n[d];if(R!==void 0){let O,q;if(typeof R=="number")O={kind:"constant",value:R},q=`${x} ${R}`;else{const B=(m=e.dataRefs)==null?void 0:m.get(d);if(!B)return;O={kind:"data",dataRef:B},q=`${x} '${B.dataset.name}'`;const D=(g=B.scenario)==null?void 0:g.spec;if(!D)return;R.scenario==="inherit"?q+=" (w/ same scenario)":D.kind==="all-inputs"&&D.position==="at-default"?q+=" (w/ default scenario)":q+=" (w/ configured scenario)"}if(d==="approx"){const B=n.tolerance||.1;q+=` ${B}`}i.set(d,O),a.push(q)}}return u("gt"),u("gte"),u("lt"),u("lte"),u("eq"),u("approx"),a.length===0&&a.push("INVALID PREDICATE"),{checkKey:t,result:r,opRefs:i,opValues:a,time:n.time,tolerance:n.tolerance}}function scenarioMessage(e,t){const r=e.checkScenario;if(r.spec===void 0)if(r.error)switch(r.error.kind){case"unknown-input-group":return`error: input group ${t(r.error.name)} is unknown`;case"empty-input-group":return`error: input group ${t(r.error.name)} is empty`;default:ms$1(r.error.kind)}else{const a=r.inputDescs.filter(d=>d.inputVar===void 0).map(d=>t(d.name));return`error: unknown ${a.length===1?"input":"inputs"} ${a.join(", ")}`}function n(a){switch(a){case"at-default":return"default";case"at-minimum":return"minimum";case"at-maximum":return"maximum";default:ms$1(a)}}function i(a){let u=t(a.name);return a.position?(u+=` is at ${t(n(a.position))}`,a.value!==void 0&&(u+=` (${a.value})`)):a.value!==void 0&&(u+=` is ${t(a.value.toString())}`),u}if(r.spec.kind==="all-inputs"){const a=r.spec.position;return`when ${t("all inputs")} are at ${t(n(a))}...`}else if(r.inputGroupName){let a="at-default";r.spec.settings[0].kind==="position"&&(a=r.spec.settings[0].position);const u=r.inputGroupName;return`when all inputs in ${t(u)} are at ${t(n(a))}...`}else return`when ${r.inputDescs.map(i).join(" and ")}...`}function datasetMessage(e,t){const r=e.checkDataset;return r.datasetKey===void 0?`error: ${t(r.name)} did not match any datasets`:`then ${t(r.name)}...`}function predicateMessage(e,t){const r=e.result;if(r.status==="error"){if(r.message)return`error: ${e.result.message}`;if(r.errorInfo)switch(r.errorInfo.kind){case"unknown-dataset":return`error: referenced dataset ${t(r.errorInfo.name)} is unknown`;case"unknown-input":return`error: referenced input ${t(r.errorInfo.name)} is unknown`;case"unknown-input-group":return`error: referenced input group ${t(r.errorInfo.name)} is unknown`;case"empty-input-group":return`error: referenced input group ${t(r.errorInfo.name)} is empty`;default:ms$1(r.errorInfo.kind)}else return"unknown error"}let i=`should be ${e.opValues.map(t).join(" and ")}`;if(e.time!==void 0)if(typeof e.time=="number")i+=` in ${t(e.time.toString())}`;else{let a,u,d,m;if(Array.isArray(e.time)){const g=e.time;a=g[0],u=g[1],d=!0,m=!0}else{const g=e.time;g.after_excl!==void 0?(a=g.after_excl,d=!1):g.after_incl!==void 0&&(a=g.after_incl,d=!0),g.before_excl!==void 0?(u=g.before_excl,m=!1):g.before_incl!==void 0&&(u=g.before_incl,m=!0)}if(a!==void 0&&u!==void 0){const R=`${d?"[":"("}${a}, ${u}${m?"]":")"}`;i+=` in ${t(R)}`}else a!==void 0?i+=` ${d?"in/after":"after"} ${t(a.toString())}`:u!==void 0&&(i+=` ${m?"in/before":"before"} ${t(u.toString())}`)}if(e.result.status==="failed"){if(e.result.failValue!==void 0){if(i+=` but got ${t(e.result.failValue.toString())}`,e.result.failRefValue!==void 0){const u=`${symbolForPredicateOp(e.result.failOp)} ${e.result.failRefValue.toString()}`;i+=` (expected ${t(u)})`}}else e.result.message&&(i+=` but got ${t(e.result.message)}`);e.result.failTime!==void 0&&(i+=` in ${t(e.result.failTime.toString())}`)}else e.result.status==="error"&&e.result.message&&(i+=` but got error: ${t(e.result.message)}`);return i}var check_schema_default={$schema:"http://json-schema.org/draft-07/schema#",title:"Model Check Test",type:"array",description:"A group of tests.",items:{$ref:"#/$defs/group"},$defs:{group:{type:"object",additionalProperties:!1,properties:{describe:{type:"string"},tests:{type:"array",items:{$ref:"#/$defs/test"}}},required:["describe","tests"]},test:{type:"object",additionalProperties:!1,properties:{it:{type:"string"},scenarios:{type:"array",items:{$ref:"#/$defs/scenario"},minItems:1},datasets:{type:"array",items:{$ref:"#/$defs/dataset"},minItems:1},predicates:{type:"array",items:{$ref:"#/$defs/predicate"},minItems:1}},required:["it","datasets","predicates"]},scenario:{oneOf:[{$ref:"#/$defs/scenario_with_input_at_position"},{$ref:"#/$defs/scenario_with_input_at_value"},{$ref:"#/$defs/scenario_with_multiple_input_settings"},{$ref:"#/$defs/scenario_with_inputs_in_preset_at_position"},{$ref:"#/$defs/scenario_with_inputs_in_group_at_position"},{$ref:"#/$defs/scenario_preset"},{$ref:"#/$defs/scenario_expand_for_each_input_in_group"}]},scenario_position:{type:"string",enum:["min","max","default"]},scenario_with_input_at_position:{type:"object",additionalProperties:!1,properties:{with:{type:"string"},at:{$ref:"#/$defs/scenario_position"}},required:["with","at"]},scenario_with_input_at_value:{type:"object",additionalProperties:!1,properties:{with:{type:"string"},at:{type:"number"}},required:["with","at"]},scenario_input_at_position:{type:"object",additionalProperties:!1,properties:{input:{type:"string"},at:{$ref:"#/$defs/scenario_position"}},required:["input","at"]},scenario_input_at_value:{type:"object",additionalProperties:!1,properties:{input:{type:"string"},at:{type:"number"}},required:["input","at"]},scenario_input_setting:{oneOf:[{$ref:"#/$defs/scenario_input_at_position"},{$ref:"#/$defs/scenario_input_at_value"}]},scenario_input_setting_array:{type:"array",items:{$ref:"#/$defs/scenario_input_setting"},minItems:1},scenario_with_multiple_input_settings:{type:"object",additionalProperties:!1,properties:{with:{$ref:"#/$defs/scenario_input_setting_array"}},required:["with"]},scenario_with_inputs_in_preset_at_position:{type:"object",additionalProperties:!1,properties:{with_inputs:{type:"string",enum:["all"]},at:{$ref:"#/$defs/scenario_position"}},required:["with_inputs","at"]},scenario_with_inputs_in_group_at_position:{type:"object",additionalProperties:!1,properties:{with_inputs_in:{type:"string"},at:{$ref:"#/$defs/scenario_position"}},required:["with_inputs_in","at"]},scenario_preset:{type:"object",additionalProperties:!1,properties:{preset:{type:"string",enum:["matrix"]}},required:["preset"]},scenario_expand_for_each_input_in_group:{type:"object",additionalProperties:!1,properties:{scenarios_for_each_input_in:{type:"string"},at:{$ref:"#/$defs/scenario_position"}},required:["scenarios_for_each_input_in","at"]},dataset:{oneOf:[{$ref:"#/$defs/dataset_name"},{$ref:"#/$defs/dataset_group"},{$ref:"#/$defs/dataset_matching"}]},dataset_name:{type:"object",additionalProperties:!1,properties:{name:{type:"string"},source:{type:"string"}},required:["name"]},dataset_group:{type:"object",additionalProperties:!1,properties:{group:{type:"string"}},required:["group"]},dataset_matching:{type:"object",additionalProperties:!1,properties:{matching:{type:"object",additionalProperties:!1,properties:{type:{type:"string"}},required:["type"]}},required:["matching"]},predicate:{type:"object",oneOf:[{$ref:"#/$defs/predicate_gt"},{$ref:"#/$defs/predicate_gte"},{$ref:"#/$defs/predicate_lt"},{$ref:"#/$defs/predicate_lte"},{$ref:"#/$defs/predicate_gt_lt"},{$ref:"#/$defs/predicate_gt_lte"},{$ref:"#/$defs/predicate_gte_lt"},{$ref:"#/$defs/predicate_gte_lte"},{$ref:"#/$defs/predicate_eq"},{$ref:"#/$defs/predicate_approx"}]},predicate_gt:{type:"object",additionalProperties:!1,properties:{gt:{$ref:"#/$defs/predicate_ref"},time:{$ref:"#/$defs/predicate_time"}},required:["gt"]},predicate_gte:{type:"object",additionalProperties:!1,properties:{gte:{$ref:"#/$defs/predicate_ref"},time:{$ref:"#/$defs/predicate_time"}},required:["gte"]},predicate_lt:{type:"object",additionalProperties:!1,properties:{lt:{$ref:"#/$defs/predicate_ref"},time:{$ref:"#/$defs/predicate_time"}},required:["lt"]},predicate_lte:{type:"object",additionalProperties:!1,properties:{lte:{$ref:"#/$defs/predicate_ref"},time:{$ref:"#/$defs/predicate_time"}},required:["lte"]},predicate_gt_lt:{type:"object",additionalProperties:!1,properties:{gt:{$ref:"#/$defs/predicate_ref"},lt:{$ref:"#/$defs/predicate_ref"},time:{$ref:"#/$defs/predicate_time"}},required:["gt","lt"]},predicate_gt_lte:{type:"object",additionalProperties:!1,properties:{gt:{$ref:"#/$defs/predicate_ref"},lte:{$ref:"#/$defs/predicate_ref"},time:{$ref:"#/$defs/predicate_time"}},required:["gt","lte"]},predicate_gte_lt:{type:"object",additionalProperties:!1,properties:{gte:{$ref:"#/$defs/predicate_ref"},lt:{$ref:"#/$defs/predicate_ref"},time:{$ref:"#/$defs/predicate_time"}},required:["gte","lt"]},predicate_gte_lte:{type:"object",additionalProperties:!1,properties:{gte:{$ref:"#/$defs/predicate_ref"},lte:{$ref:"#/$defs/predicate_ref"},time:{$ref:"#/$defs/predicate_time"}},required:["gte","lte"]},predicate_eq:{type:"object",additionalProperties:!1,properties:{eq:{$ref:"#/$defs/predicate_ref"},time:{$ref:"#/$defs/predicate_time"}},required:["eq"]},predicate_approx:{type:"object",additionalProperties:!1,properties:{approx:{$ref:"#/$defs/predicate_ref"},tolerance:{type:"number"},time:{$ref:"#/$defs/predicate_time"}},required:["approx"]},predicate_ref:{oneOf:[{$ref:"#/$defs/predicate_ref_constant"},{$ref:"#/$defs/predicate_ref_data"}]},predicate_ref_constant:{type:"number"},predicate_ref_data:{type:"object",additionalProperties:!1,properties:{dataset:{$ref:"#/$defs/predicate_ref_data_dataset"},scenario:{$ref:"#/$defs/predicate_ref_data_scenario"}},required:["dataset"]},predicate_ref_data_dataset:{oneOf:[{$ref:"#/$defs/dataset_name"},{$ref:"#/$defs/predicate_ref_data_dataset_special"}]},predicate_ref_data_dataset_special:{type:"string",enum:["inherit"]},predicate_ref_data_scenario:{oneOf:[{$ref:"#/$defs/scenario_with_input_at_position"},{$ref:"#/$defs/scenario_with_input_at_value"},{$ref:"#/$defs/scenario_with_multiple_input_settings"},{$ref:"#/$defs/scenario_with_inputs_in_preset_at_position"},{$ref:"#/$defs/scenario_with_inputs_in_group_at_position"},{$ref:"#/$defs/predicate_ref_data_scenario_special"}]},predicate_ref_data_scenario_special:{type:"string",enum:["inherit"]},predicate_time:{oneOf:[{$ref:"#/$defs/predicate_time_single"},{$ref:"#/$defs/predicate_time_pair"},{$ref:"#/$defs/predicate_time_gt"},{$ref:"#/$defs/predicate_time_gte"},{$ref:"#/$defs/predicate_time_lt"},{$ref:"#/$defs/predicate_time_lte"},{$ref:"#/$defs/predicate_time_gt_lt"},{$ref:"#/$defs/predicate_time_gt_lte"},{$ref:"#/$defs/predicate_time_gte_lt"},{$ref:"#/$defs/predicate_time_gte_lte"}]},predicate_time_single:{type:"number"},predicate_time_pair:{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},predicate_time_gt:{type:"object",additionalProperties:!1,properties:{after_excl:{type:"number"}},required:["after_excl"]},predicate_time_gte:{type:"object",additionalProperties:!1,properties:{after_incl:{type:"number"}},required:["after_incl"]},predicate_time_lt:{type:"object",additionalProperties:!1,properties:{before_excl:{type:"number"}},required:["before_excl"]},predicate_time_lte:{type:"object",additionalProperties:!1,properties:{before_incl:{type:"number"}},required:["before_incl"]},predicate_time_gt_lt:{type:"object",additionalProperties:!1,properties:{after_excl:{type:"number"},before_excl:{type:"number"}},required:["after_excl","before_excl"]},predicate_time_gt_lte:{type:"object",additionalProperties:!1,properties:{after_excl:{type:"number"},before_incl:{type:"number"}},required:["after_excl","before_incl"]},predicate_time_gte_lt:{type:"object",additionalProperties:!1,properties:{after_incl:{type:"number"},before_excl:{type:"number"}},required:["after_incl","before_excl"]},predicate_time_gte_lte:{type:"object",additionalProperties:!1,properties:{after_incl:{type:"number"},before_incl:{type:"number"}},required:["after_incl","before_incl"]}}};function parseTestYaml(e){const t=[],n=new Ajv2().compile(check_schema_default);for(const a of e){const u=YAML.parse(a);if(n(u))for(const d of u)t.push(d);else{let d="Failed to parse YAML check definitions";for(const m of n.errors||[])m.message&&(d+=`
${m.message}`);return err$1(new Error(d))}}return ok$1({groups:t})}var passed={status:"passed"},gt=(e,t)=>e>t,gte=(e,t)=>e>=t,lt=(e,t)=>e<t,lte=(e,t)=>e<=t,eq=(e,t)=>e===t,approx=e=>(r,n)=>r>=n-e&&r<=n+e;function checkFunc(e){function t(i,a){const u=e[i];u!==void 0&&(typeof u=="number"?r.push((d,m)=>a(d,u)?passed:{status:"failed",failValue:d,failTime:m}):r.push((d,m,g)=>{const x=g?.get(i);if(x===void 0)return{status:"error",message:"unhandled data reference"};const R=x.get(m);return R!==void 0?a(d,R)?passed:{status:"failed",failValue:d,failOp:i,failRefValue:R,failTime:m}:{status:"failed",message:"no reference value",failTime:m}}))}const r=[];if(t("gt",gt),t("gte",gte),t("lt",lt),t("lte",lte),t("eq",eq),e.approx!==void 0){const i=e.tolerance||.1;t("approx",approx(i))}const n=(i,a,u)=>{for(const d of r){const m=d(i,a,u);if(m.status!=="passed")return m}return passed};if(e.time!==void 0&&typeof e.time=="number"){const i=e.time;return(a,u)=>{const d=a.get(i);return d!==void 0?n(d,i,u):{status:"failed",message:"no value",failTime:i}}}else{let i;if(e.time!==void 0)if(Array.isArray(e.time)){const a=e.time;i=u=>u>=a[0]&&u<=a[1]}else{const a=[],u=e.time;u.after_excl!==void 0&&a.push(d=>d>u.after_excl),u.after_incl!==void 0&&a.push(d=>d>=u.after_incl),u.before_excl!==void 0&&a.push(d=>d<u.before_excl),u.before_incl!==void 0&&a.push(d=>d<=u.before_incl),i=d=>{for(const m of a)if(!m(d))return!1;return!0}}else i=()=>!0;return(a,u)=>{for(const[d,m]of a)if(i(d)){const g=n(m,d,u);if(g.status!=="passed")return g}return passed}}}function actionForPredicate(e){return{predicateSpec:e,run:checkFunc(e)}}function cartesianProductOf$1(e){return e.reduce((t,r)=>t.map(n=>r.map(i=>n.concat([i]))).reduce((n,i)=>n.concat(i),[]),[[]])}function expandDatasets(e,t){var r;let n;if(t.name?n=matchByName(e,t.name,t.source):t.group?n=matchByGroup(e,t.group):(r=t.matching)!=null&&r.type&&(n=matchByType(e,t.matching.type)),n.error)return[{name:n.error.name,error:n.error.kind}];const i=n.matches,a=[];for(const u of i)if(u.outputVar)a.push({datasetKey:u.datasetKey,name:u.outputVar.varName});else if(u.implVar){const d=u.implVar;if(d.dimensions.length>0){const m=u.datasetKey,g=[...d.dimensions.map(R=>R.subscripts)],x=cartesianProductOf$1(g);for(const R of x){const O=R.map(B=>`[${B.id}]`).join(""),q=R.map(B=>B.name).join(",");a.push({datasetKey:`${m}${O}`,name:`${d.varName}[${q}]`})}}else a.push({datasetKey:u.datasetKey,name:d.varName})}return a}function matchByName(e,t,r){var n;const i=t.toLowerCase(),a=r?.toLowerCase();for(const[u,d]of e.outputVars)if(((n=d.sourceName)==null?void 0:n.toLowerCase())===a&&d.varName.toLowerCase()===i)return{matches:[{datasetKey:u,outputVar:d}]};for(const[u,d]of e.implVars)if(d.varName.toLowerCase()===i)return{matches:[{datasetKey:u,implVar:d}]};return{matches:[],error:{kind:"no-matches-for-dataset",name:t}}}function matchByGroup(e,t){let r,n;if(e.datasetGroups){const a=t.toLowerCase();for(const[u,d]of e.datasetGroups)if(u.toLowerCase()===a){r=u,n=d;break}}if(r===void 0)return{matches:[],error:{kind:"no-matches-for-group",name:t}};const i=[];for(const a of n){const u=e.outputVars.get(a);if(u){i.push({datasetKey:a,outputVar:u});continue}const d=e.implVars.get(a);if(d){i.push({datasetKey:a,implVar:d});continue}return{matches:[],error:{kind:"no-matches-for-dataset",name:a}}}return i.length===0?{matches:[],error:{kind:"no-matches-for-group",name:r}}:{matches:i}}function matchByType(e,t){const r=[];for(const[n,i]of e.implVars)i.varType===t&&r.push({datasetKey:n,implVar:i});return r.length===0?{matches:[],error:{kind:"no-matches-for-type",name:t}}:{matches:r}}function positionSetting(e,t){return{kind:"position",inputVarId:e,position:t}}function valueSetting(e,t){return{kind:"value",inputVarId:e,value:t}}function inputSettingsSpec(e){return{kind:"input-settings",uid:`inputs_${e.map(n=>{switch(n.kind){case"position":return`${n.inputVarId}_at_${keyForInputPosition(n.position)}`;case"value":return`${n.inputVarId}_at_${n.value}`;default:assertNeverExports$1.assertNever(n)}}).sort().join("_")}`,settings:e}}function inputAtPositionSpec(e,t){return inputSettingsSpec([positionSetting(e,t)])}function allInputsAtPositionSpec(e){return{kind:"all-inputs",uid:`all_inputs_at_${keyForInputPosition(e)}`,position:e}}function keyForInputPosition(e){switch(e){case"at-default":return"default";case"at-minimum":return"min";case"at-maximum":return"max";default:assertNeverExports$1.assertNever(e)}}function expandScenarios(e,t,r){if(t.length===0)return checkScenariosFromSpec(e,{with_inputs:"all",at:"default"},r);const n=[];for(const i of t)n.push(...checkScenariosFromSpec(e,i,r));return n}function inputPosition(e){switch(e){case"default":return"at-default";case"min":return"at-minimum";case"max":return"at-maximum";default:return}}function inputValueAtPosition(e,t){switch(t){case"at-default":return e.defaultValue;case"at-minimum":return e.minValue;case"at-maximum":return e.maxValue;default:ms$1(t)}}function inputDescAtPosition(e,t){return{name:e.varName,inputVar:e,position:t,value:inputValueAtPosition(e,t)}}function inputDescAtValue(e,t){return{name:e.varName,inputVar:e,value:t}}function inputDescForVar(e,t){if(typeof t=="number")return inputDescAtValue(e,t);{const r=inputPosition(t);return inputDescAtPosition(e,r)}}function inputDescForName(e,t,r){const n=t.toLowerCase(),i=[...e.inputVars.values()].find(a=>a.varName.toLowerCase()===n);return i?inputDescForVar(i,r):{name:t}}function groupForName(e,t){if(e.inputGroups){const r=t.toLowerCase();for(const[n,i]of e.inputGroups)if(n.toLowerCase()===r)return[n,i]}}function errorScenarioForInputGroup(e,t){return{inputDescs:[],error:{kind:e,name:t}}}function checkScenarioWithAllInputsAtPosition(e){return{spec:allInputsAtPositionSpec(e),inputDescs:[]}}function checkScenarioWithInputAtPosition(e,t){const r=e.varId;return{spec:inputAtPositionSpec(r,t),inputDescs:[inputDescAtPosition(e,t)]}}function checkScenarioForInputDescs(e,t){let r;if(t.every(n=>n.inputVar!==void 0)){const n=t.map(i=>{const a=i.inputVar.varId;return i.position?positionSetting(a,i.position):valueSetting(a,i.value)});r=inputSettingsSpec(n)}else r=void 0;return{spec:r,inputGroupName:e,inputDescs:t}}function checkScenarioForInputSpecs(e,t){const r=t.map(n=>inputDescForName(e,n.input,n.at));return checkScenarioForInputDescs(void 0,r)}function checkScenarioMatrix(e,t){const r=[];if(r.push(checkScenarioWithAllInputsAtPosition("at-default")),!t){r.push(checkScenarioWithAllInputsAtPosition("at-minimum")),r.push(checkScenarioWithAllInputsAtPosition("at-maximum"));for(const n of e.inputVars.values())r.push(checkScenarioWithInputAtPosition(n,"at-minimum")),r.push(checkScenarioWithInputAtPosition(n,"at-maximum"))}return r}function checkScenarioWithAllInputsInGroupAtPosition(e,t,r){const n=groupForName(e,t);if(n===void 0)return errorScenarioForInputGroup("unknown-input-group",t);const[i,a]=n;if(a.length===0)return errorScenarioForInputGroup("empty-input-group",i);const u=[];for(const d of a)u.push(inputDescForVar(d,r));return checkScenarioForInputDescs(i,u)}function checkScenariosForEachInputInGroup(e,t,r){const n=groupForName(e,t);if(n===void 0)return[errorScenarioForInputGroup("unknown-input-group",t)];const[i,a]=n;if(a.length===0)return[errorScenarioForInputGroup("empty-input-group",i)];const u=[];for(const d of a){const m=inputDescForVar(d,r);u.push(checkScenarioForInputDescs(void 0,[m]))}return u}function checkScenariosFromSpec(e,t,r){if(t.preset==="matrix")return checkScenarioMatrix(e,r);if(t.scenarios_for_each_input_in!==void 0){const n=t.scenarios_for_each_input_in,i=t.at;return checkScenariosForEachInputInGroup(e,n,i)}if(t.with!==void 0)if(Array.isArray(t.with)){const n=t.with;return[checkScenarioForInputSpecs(e,n)]}else{const n={input:t.with,at:t.at};return[checkScenarioForInputSpecs(e,[n])]}if(t.with_inputs==="all"){const n=inputPosition(t.at);return[checkScenarioWithAllInputsAtPosition(n)]}if(t.with_inputs_in!==void 0){const n=t.with_inputs_in,i=t.at;return[checkScenarioWithAllInputsInGroupAtPosition(e,n,i)]}throw new Error(`Unhandled scenario spec: ${JSON.stringify(t)}`)}var CheckPlanner=class{constructor(e){this.modelSpec=e,this.groups=[],this.tasks=new Map,this.dataRefs=new Map,this.checkKey=1}addAllChecks(e,t){for(const r of e.groups){const n=r.describe,i=[];for(const a of r.tests){const u=a.it,d=expandScenarios(this.modelSpec,a.scenarios||[],t),m=[];for(const R of a.datasets)m.push(...expandDatasets(this.modelSpec,R));const g=[];for(const R of a.predicates)g.push(actionForPredicate(R));const x=[];for(const R of d){if(R.spec===void 0){x.push({checkScenario:R,datasets:[]});continue}const O=[];for(const q of m){if(q.datasetKey===void 0){O.push({checkDataset:q,predicates:[]});continue}const B=[];for(const F of g){const D=this.addDataRefs(F.predicateSpec,R,q),V=this.checkKey++;B.push({checkKey:V,action:F,dataRefs:D}),this.tasks.set(V,{scenario:R,dataset:q,action:F,dataRefs:D})}O.push({checkDataset:q,predicates:B})}x.push({checkScenario:R,datasets:O})}i.push({name:u,scenarios:x})}this.groups.push({name:n,tests:i})}}buildPlan(){return{groups:this.groups,tasks:this.tasks,dataRefs:this.dataRefs}}addDataRefs(e,t,r){let n;const i=a=>{const u=e[a];if(u===void 0||typeof u=="number")return;let d;if(typeof u.dataset=="string")switch(u.dataset){case"inherit":d=r;break;default:ms$1(u.dataset)}else{const R={name:u.dataset.name},O=expandDatasets(this.modelSpec,R);O.length===1?d=O[0]:d={name:u.dataset.name}}let m;if(typeof u.scenario=="string")switch(u.scenario){case"inherit":m=t;break;default:ms$1(u.scenario)}else{const R=u.scenario?[u.scenario]:[],O=expandScenarios(this.modelSpec,R,!0);O.length===1&&(m=O[0]),m===void 0&&(m={inputDescs:[]})}let g;m.spec&&d.datasetKey&&(g=`${m.spec.uid}::${d.datasetKey}`);const x={key:g,dataset:d,scenario:m};g&&this.dataRefs.set(g,x),n===void 0&&(n=new Map),n.set(a,x)};return i("gt"),i("gte"),i("lt"),i("lte"),i("eq"),i("approx"),n}};function checkReportFromSummary(e,t){const r=parseTestYaml(e.tests);if(r.isErr())return;const n=r.value,i=new CheckPlanner(e.bundle.model.modelSpec);i.addAllChecks(n,!1);const a=i.buildPlan(),u=new Map;for(const d of t.predicateSummaries)u.set(d.checkKey,d.result);return buildCheckReport(a,u)}var ComparisonDataCoordinator=class{constructor(e,t){this.bundleModelL=e,this.bundleModelR=t,this.taskQueue=new TaskQueue({process:r=>__async(this,null,function*(){switch(r.kind){case"dataset":return this.processDatasetRequest(r);case"graph-data":return this.processGraphDataRequest(r);default:assertNeverExports$1.assertNever(r)}})})}processDatasetRequest(e){return __async(this,null,function*(){function t(i,a){return __async(this,null,function*(){if(a)return i.getDatasetsForScenario(a,e.datasetKeys)})}const[r,n]=yield Promise.all([t(this.bundleModelL,e.scenarioSpecL),t(this.bundleModelR,e.scenarioSpecR)]);return{kind:"dataset",datasetMapL:r?.datasetMap,datasetMapR:n?.datasetMap}})}processGraphDataRequest(e){return __async(this,null,function*(){function t(i,a){return __async(this,null,function*(){if(a)return i.getGraphDataForScenario(a,e.graphId)})}const[r,n]=yield Promise.all([t(this.bundleModelL,e.scenarioSpecL),t(this.bundleModelR,e.scenarioSpecR)]);return{kind:"graph-data",graphDataL:r,graphDataR:n}})}requestDatasetMaps(e,t,r,n,i){const a={kind:"dataset",scenarioSpecL:t,scenarioSpecR:r,datasetKeys:n};this.taskQueue.addTask(e,a,u=>{u.kind==="dataset"&&i(u.datasetMapL,u.datasetMapR)})}requestGraphData(e,t,r,n,i){const a={kind:"graph-data",scenarioSpecL:t,scenarioSpecR:r,graphId:n};this.taskQueue.addTask(e,a,u=>{u.kind==="graph-data"&&i(u.graphDataL,u.graphDataR)})}cancelRequest(e){this.taskQueue.cancelTask(e)}};function diffDatasets(e,t){let r=Number.MAX_VALUE,n=Number.MIN_VALUE,i=Number.MAX_VALUE,a=Number.MIN_VALUE,u=Number.MAX_VALUE,d=Number.MIN_VALUE,m=Number.MAX_VALUE,g=-1,x,R=0,O=0;if(e&&t){const j=new Set([...e.keys(),...t.keys()]);for(const K of j){const Q=e.get(K);Q!==void 0&&(Q<r&&(r=Q),Q>n&&(n=Q),Q<u&&(u=Q),Q>d&&(d=Q));const z=t.get(K);if(z!==void 0&&(z<i&&(i=z),z>a&&(a=z),z<u&&(u=z),z>d&&(d=z)),Q===void 0||z===void 0)continue;const G=Math.abs(z-Q);G<m&&(m=G),G>g&&(g=G,x={time:K,valueL:Q,valueR:z}),R++,O+=G}}function q(j){return j*100}let B,F,D;if(r===n&&i===a){const j=q(n!==0?Math.abs((a-n)/n):1);B=j,F=j,D=j}else{const j=d-u;B=q(j>0?m/j:0),F=q(j>0?g/j:0);const K=O/R;D=q(j>0?K/j:0)}let V;return e&&t?V="both":e?V="left-only":t?V="right-only":V="neither",{validity:V,minValue:u,maxValue:d,avgDiff:D,minDiff:B,maxDiff:F,maxDiffPoint:x}}function diffGraphs(e,t,r,n){let i;e&&t?i="both":e?i="left-only":t?i="right-only":i="neither";const a=[];if(e?.metadata&&t?.metadata){const d=new Set;for(const m of e.metadata.keys())d.add(m);for(const m of t.metadata.keys())d.add(m);for(const m of d){const g=e.metadata.get(m),x=t.metadata.get(m);g!==x&&a.push({key:m,valueL:g,valueR:x})}}const u=[];if(e&&t){const d=new Set;for(const m of e.datasets)d.add(m.datasetKey);for(const m of t.datasets)d.add(m.datasetKey);for(const m of d){const g=n.find(R=>R.d===m&&R.s===r),x=g?.md;u.push({datasetKey:m,maxDiff:x})}}return{inclusion:i,metadataReports:a,datasetReports:u}}function comparisonSummaryFromReport(e){const t=[];for(const r of e.testReports)r.diffReport.validity==="both"&&r.diffReport.maxDiff>0&&t.push({s:r.scenarioKey,d:r.datasetKey,md:r.diffReport.maxDiff});return{testSummaries:t,perfReportL:e.perfReportL,perfReportR:e.perfReportR}}function restoreFromTerseSummaries(e,t){const r=new Map;for(const i of t){const a=`${i.s}::${i.d}`;r.set(a,i)}const n=[];for(const i of e.scenarios.getAllScenarios()){const a=e.datasets.getDatasetKeysForScenario(i);for(const u of a){const d=`${i.key}::${u}`,m=r.get(d),g=m?.md||0;n.push({s:i.key,d:u,md:g})}}return n}function getBucketIndex(e,t){if(e===0)return 0;for(let r=0;r<t.length;r++)if(e<t[r])return r+1;return t.length+1}function getScoresForTestSummaries(e,t){const r=Array(t.length+2).fill(0),n=Array(t.length+2).fill(0);let i=0;for(const u of e){const d=getBucketIndex(u.md,t);r[d]++,n[d]+=u.md,i++}let a;return i>0?a=r.map(u=>u/i*100):a=[],{totalDiffCount:i,totalMaxDiffByBucket:n,diffCountByBucket:r,diffPercentByBucket:a}}function categorizeComparisonTestSummaries(e,t){const r=restoreFromTerseSummaries(e,t),n=groupComparisonTestSummaries(r,"by-scenario"),i=categorizeComparisonGroups(e,[...n.values()]),a=groupComparisonTestSummaries(r,"by-dataset"),u=categorizeComparisonGroups(e,[...a.values()]);return{allTestSummaries:r,byScenario:i,byDataset:u}}function groupComparisonTestSummaries(e,t){const r=new Map;for(const n of e){let i;switch(t){case"by-dataset":i=n.d;break;case"by-scenario":i=n.s;break;default:assertNeverExports$1.assertNever(t)}const a=r.get(i);a?a.testSummaries.push(n):r.set(i,{kind:t,key:i,testSummaries:[n]})}return r}function categorizeComparisonGroups(e,t){const r=new Map,n=[],i=[],a=[];let u=[];const d=[];function m(g,x,R,O){let q;R&&O&&(q=getScoresForTestSummaries(g.testSummaries,e.thresholds));const B={root:x,group:g,scores:q};r.set(g.key,B),R&&O?q.totalDiffCount!==q.diffCountByBucket[0]?u.push(B):d.push(B):R?i.push(B):O?a.push(B):n.push(B)}for(const g of t.values())switch(g.kind){case"by-dataset":{const x=e.datasets.getDataset(g.key),R=x?.outputVarL!==void 0,O=x?.outputVarR!==void 0;m(g,x,R,O);break}case"by-scenario":{const x=e.scenarios.getScenario(g.key),R=x?.specL!==void 0,O=x?.specR!==void 0;m(g,x,R,O);break}default:assertNeverExports$1.assertNever(g.kind)}return u.length>1&&(u[0].group.kind==="by-dataset"?u=sortDatasetGroupSummaries(u):u[0].group.kind==="by-scenario"&&(u=sortScenarioGroupSummaries(u))),{allGroupSummaries:r,withErrors:n,onlyInLeft:i,onlyInRight:a,withDiffs:u,withoutDiffs:d}}function sortDatasetGroupSummaries(e){return e.sort((t,r)=>{var n,i;const a=compareScores(t.scores,r.scores);if(a!==0)return-a;{const u=t.root.outputVarL,d=r.root.outputVarR,m=((n=u.sourceName)==null?void 0:n.toLowerCase())||"",g=((i=d.sourceName)==null?void 0:i.toLowerCase())||"";if(m!==g)return m.localeCompare(g);{const x=u.varName.toLowerCase(),R=d.varName.toLowerCase();return x.localeCompare(R)}}})}function sortScenarioGroupSummaries(e){return e.sort((t,r)=>{var n,i;const a=compareScores(t.scores,r.scores);if(a!==0)return-a;{const u=t.root,d=r.root,m=u.title.toLowerCase(),g=d.title.toLowerCase();if(m!==g)return m.localeCompare(g);{const x=((n=u.subtitle)==null?void 0:n.toLowerCase())||"",R=((i=d.subtitle)==null?void 0:i.toLowerCase())||"";return x.localeCompare(R)}}})}function compareScores(e,t){if(e.totalMaxDiffByBucket.length!==t.totalMaxDiffByBucket.length)return 0;const r=e.totalMaxDiffByBucket.length;for(let n=r-1;n>=0;n--){const i=e.totalMaxDiffByBucket[n],a=t.totalMaxDiffByBucket[n];if(i>a)return 1;if(i<a)return-1}return 0}var comparison_schema_default={$schema:"http://json-schema.org/draft-07/schema#",title:"Model Comparison Test",type:"array",description:"A group of model comparison scenarios and views.",items:{$ref:"#/$defs/top_level_array_item"},$defs:{top_level_array_item:{oneOf:[{$ref:"#/$defs/scenario_array_item"},{$ref:"#/$defs/scenario_group_array_item"},{$ref:"#/$defs/graph_group_array_item"},{$ref:"#/$defs/view_group_array_item"}]},dataset:{type:"object",additionalProperties:!1,properties:{name:{type:"string"},source:{type:"string"}},required:["name"]},scenario_array_item:{type:"object",additionalProperties:!1,properties:{scenario:{$ref:"#/$defs/scenario"}},required:["scenario"]},scenario:{oneOf:[{$ref:"#/$defs/scenario_with_input_at_position"},{$ref:"#/$defs/scenario_with_input_at_value"},{$ref:"#/$defs/scenario_with_multiple_input_settings"},{$ref:"#/$defs/scenario_with_inputs_in_preset_at_position"},{$ref:"#/$defs/scenario_preset"}]},scenario_position:{type:"string",enum:["min","max","default"]},scenario_with_input_at_position:{type:"object",additionalProperties:!1,properties:{id:{type:"string"},title:{type:"string"},subtitle:{type:"string"},with:{type:"string"},at:{$ref:"#/$defs/scenario_position"}},required:["with","at"]},scenario_with_input_at_value:{type:"object",additionalProperties:!1,properties:{id:{type:"string"},title:{type:"string"},subtitle:{type:"string"},with:{type:"string"},at:{type:"number"}},required:["with","at"]},scenario_input_at_position:{type:"object",additionalProperties:!1,properties:{input:{type:"string"},at:{$ref:"#/$defs/scenario_position"}},required:["input","at"]},scenario_input_at_value:{type:"object",additionalProperties:!1,properties:{input:{type:"string"},at:{type:"number"}},required:["input","at"]},scenario_input_setting:{oneOf:[{$ref:"#/$defs/scenario_input_at_position"},{$ref:"#/$defs/scenario_input_at_value"}]},scenario_input_setting_array:{type:"array",items:{$ref:"#/$defs/scenario_input_setting"},minItems:1},scenario_with_multiple_input_settings:{type:"object",additionalProperties:!1,properties:{id:{type:"string"},title:{type:"string"},subtitle:{type:"string"},with:{$ref:"#/$defs/scenario_input_setting_array"}},required:["with"]},scenario_with_inputs_in_preset_at_position:{type:"object",additionalProperties:!1,properties:{id:{type:"string"},title:{type:"string"},subtitle:{type:"string"},with_inputs:{type:"string",enum:["all"]},at:{$ref:"#/$defs/scenario_position"}},required:["with_inputs","at"]},scenario_preset:{type:"object",additionalProperties:!1,properties:{preset:{type:"string",enum:["matrix"]}},required:["preset"]},scenario_group_array_item:{type:"object",additionalProperties:!1,properties:{scenario_group:{$ref:"#/$defs/scenario_group"}},required:["scenario_group"]},scenario_group:{type:"object",additionalProperties:!1,properties:{id:{type:"string"},title:{type:"string"},scenarios:{type:"array",items:{$ref:"#/$defs/scenario_group_scenarios_array_item"},minItems:1}},required:["title","scenarios"]},scenario_group_scenarios_array_item:{oneOf:[{$ref:"#/$defs/scenario_array_item"},{$ref:"#/$defs/scenario_ref_array_item"}]},scenario_ref_id:{type:"string"},scenario_ref_object:{type:"object",additionalProperties:!1,properties:{id:{type:"string"},title:{type:"string"},subtitle:{type:"string"}},required:["id"]},scenario_ref:{oneOf:[{$ref:"#/$defs/scenario_ref_id"},{$ref:"#/$defs/scenario_ref_object"}]},scenario_ref_array_item:{type:"object",additionalProperties:!1,properties:{scenario_ref:{$ref:"#/$defs/scenario_ref"}},required:["scenario_ref"]},scenario_group_ref:{type:"object",additionalProperties:!1,properties:{scenario_group_ref:{type:"string"}},required:["scenario_group_ref"]},graphs_preset:{type:"string",enum:["all"]},graphs_array:{type:"array",items:{type:"string"},minItems:1},graph_group_ref:{type:"object",additionalProperties:!1,properties:{graph_group_ref:{type:"string"}},required:["graph_group_ref"]},graph_group_array_item:{type:"object",additionalProperties:!1,properties:{graph_group:{$ref:"#/$defs/graph_group"}},required:["graph_group"]},graph_group:{type:"object",additionalProperties:!1,properties:{id:{type:"string"},graphs:{$ref:"#/$defs/graphs_array"}},required:["id","graphs"]},view:{oneOf:[{$ref:"#/$defs/view_with_scenario"},{$ref:"#/$defs/view_with_rows"}]},view_with_scenario:{type:"object",additionalProperties:!1,properties:{title:{type:"string"},subtitle:{type:"string"},scenario_ref:{type:"string"},graphs:{$ref:"#/$defs/view_graphs"},graph_order:{$ref:"#/$defs/view_graph_order"}},required:["scenario_ref"]},view_with_rows:{type:"object",additionalProperties:!1,properties:{title:{type:"string"},subtitle:{type:"string"},rows:{$ref:"#/$defs/view_rows_array"}},required:["title","rows"]},view_rows_array:{type:"array",items:{$ref:"#/$defs/view_rows_array_item"},minItems:1},view_rows_array_item:{type:"object",additionalProperties:!1,properties:{row:{$ref:"#/$defs/view_row"}}},view_row:{type:"object",additionalProperties:!1,properties:{title:{type:"string"},subtitle:{type:"string"},boxes:{$ref:"#/$defs/view_boxes_array"}},required:["title","boxes"]},view_boxes_array:{type:"array",items:{$ref:"#/$defs/view_boxes_array_item"},minItems:1},view_boxes_array_item:{type:"object",additionalProperties:!1,properties:{box:{$ref:"#/$defs/view_box"}}},view_box:{type:"object",additionalProperties:!1,properties:{title:{type:"string"},subtitle:{type:"string"},dataset:{$ref:"#/$defs/dataset"},scenario_ref:{$ref:"#/$defs/scenario_ref_id"}},required:["title","dataset","scenario_ref"]},view_graphs:{oneOf:[{$ref:"#/$defs/graphs_preset"},{$ref:"#/$defs/graphs_array"},{$ref:"#/$defs/graph_group_ref"}]},view_graph_order:{type:"string",enum:["default","grouped-by-diffs"]},view_group_array_item:{type:"object",additionalProperties:!1,properties:{view_group:{$ref:"#/$defs/view_group"}},required:["view_group"]},view_group:{oneOf:[{$ref:"#/$defs/view_group_with_views_array"},{$ref:"#/$defs/view_group_shorthand_with_scenarios_array"}]},view_group_with_views_array:{type:"object",additionalProperties:!1,properties:{title:{type:"string"},views:{type:"array",items:{$ref:"#/$defs/view_group_views_array_item"},minItems:1}},required:["title","views"]},view_group_views_array_item:{type:"object",additionalProperties:!1,properties:{view:{$ref:"#/$defs/view"}}},view_group_shorthand_with_scenarios_array:{type:"object",additionalProperties:!1,properties:{title:{type:"string"},scenarios:{type:"array",items:{$ref:"#/$defs/view_group_scenarios_array_item"},minItems:1},graphs:{$ref:"#/$defs/view_graphs"}},required:["title","scenarios","graphs"]},view_group_scenarios_array_item:{oneOf:[{$ref:"#/$defs/scenario_ref_array_item"},{$ref:"#/$defs/scenario_group_ref"}]}}};function parseComparisonSpecs(e){const t=[],r=[],n=[],i=[],u=new Ajv2().compile(comparison_schema_default);let d;switch(e.kind){case"json":d=JSON.parse(e.content);break;case"yaml":d=YAML.parse(e.content);break;default:ms$1(e.kind)}if(u(d))for(const m of d)"scenario"in m?t.push(scenarioSpecFromParsed(m.scenario)):"scenario_group"in m?r.push(scenarioGroupSpecFromParsed(m.scenario_group)):"graph_group"in m?n.push(graphGroupSpecFromParsed(m.graph_group)):"view_group"in m&&i.push(viewGroupSpecFromParsed(m.view_group));else{let m="Failed to parse YAML comparison definitions";for(const g of u.errors||[])g.message&&(m+=`
${g.message}`);return err$1(new Error(m))}return ok$1({scenarios:t,scenarioGroups:r,graphGroups:n,viewGroups:i})}function datasetSpecFromParsed(e){return{kind:"dataset",name:e.name,source:e.source}}function scenarioSpecFromParsed(e){if(e.preset==="matrix")return{kind:"scenario-matrix"};if(e.with!==void 0){let t;return Array.isArray(e.with)?t=e.with.map(inputSpecFromParsed):t=[inputSpecFromParsed({input:e.with,at:e.at})],{kind:"scenario-with-inputs",id:e.id,title:e.title,subtitle:e.subtitle,inputs:t}}if(e.with_inputs==="all")return{kind:"scenario-with-all-inputs",id:e.id,title:e.title,subtitle:e.subtitle,position:e.at};throw new Error(`Unable to convert parsed scenario: ${JSON.stringify(e)}`)}function inputSpecFromParsed(e){if(typeof e.at=="number"){const t=e.at;return{kind:"input-at-value",inputName:e.input,value:t}}else return{kind:"input-at-position",inputName:e.input,position:e.at}}function scenarioGroupSpecFromParsed(e){const t=e.scenarios.map(r=>"scenario_ref"in r?scenarioRefSpecFromParsed(r):scenarioSpecFromParsed(r.scenario));return{kind:"scenario-group",id:e.id,title:e.title,scenarios:t}}function scenarioRefSpecFromParsed(e){return typeof e.scenario_ref=="string"?{kind:"scenario-ref",scenarioId:e.scenario_ref}:{kind:"scenario-ref",scenarioId:e.scenario_ref.id,title:e.scenario_ref.title,subtitle:e.scenario_ref.subtitle}}function scenarioGroupRefSpecFromParsed(e){return{kind:"scenario-group-ref",groupId:e.scenario_group_ref}}function graphGroupSpecFromParsed(e){return{kind:"graph-group",id:e.id,graphIds:e.graphs}}function viewSpecFromParsed(e){let t,r;e.scenario_ref!==void 0?t=e.scenario_ref:e.rows!==void 0&&(r=e.rows.map(i=>viewRowSpecFromParsed(i.row)));let n;return e.graphs!==void 0&&(n=viewGraphsSpecFromParsed(e.graphs)),{kind:"view",title:e.title,subtitle:e.subtitle,scenarioId:t,rows:r,graphs:n,graphOrder:e.graph_order}}function viewRowSpecFromParsed(e){return{kind:"view-row",title:e.title,subtitle:e.subtitle,boxes:e.boxes.map(t=>viewBoxSpecFromParsed(t.box))}}function viewBoxSpecFromParsed(e){return{kind:"view-box",title:e.title,subtitle:e.subtitle,dataset:datasetSpecFromParsed(e.dataset),scenarioId:e.scenario_ref}}function viewGraphsSpecFromParsed(e){if(e==="all")return{kind:"graphs-preset",preset:"all"};if(Array.isArray(e))return{kind:"graphs-array",graphIds:e};if("graph_group_ref"in e)return{kind:"graph-group-ref",groupId:e.graph_group_ref};throw new Error("Invalid graphs spec in comparison view")}function viewGroupSpecFromParsed(e){if(e.views!==void 0)return{kind:"view-group-with-views",title:e.title,views:e.views.map(t=>viewSpecFromParsed(t.view))};if(e.scenarios!==void 0){const t=e.scenarios.map(r=>{if("scenario_ref"in r)return scenarioRefSpecFromParsed(r);if("scenario_group_ref"in r)return scenarioGroupRefSpecFromParsed(r);throw new Error("Invalid view group")});return{kind:"view-group-with-scenarios",title:e.title,scenarios:t,graphs:viewGraphsSpecFromParsed(e.graphs)}}else throw new Error("Invalid view group")}var ModelInputs=class{constructor(e){this.modelSpec=e,this.inputsByLookupName=new Map,this.inputIdAliases=new Set;for(const t of e.inputVars.values()){const r=t.varName.toLowerCase();if(this.inputsByLookupName.set(r,t),t.inputId){const n=`id ${t.inputId}`;this.inputIdAliases.add(n);const i=n.toLowerCase();this.inputsByLookupName.set(i,t)}}if(e.inputAliases)for(const[t,r]of e.inputAliases.entries()){const n=t.toLowerCase();if(this.inputsByLookupName.has(n)){console.warn(`WARNING: Input variable already defined with a name that collides with alias '${t}', skipping`);continue}const i=e.inputVars.get(r);if(i===void 0){console.warn(`WARNING: No input variable found for '${r}' associated with alias '${t}', skipping`);continue}this.inputsByLookupName.set(n,i)}}getAllInputIdAliases(){return[...this.inputIdAliases]}getInputVarForName(e){return this.inputsByLookupName.get(e.toLowerCase())}getInputVarForVarId(e){return this.modelSpec.inputVars.get(e)}};function scenarioSpecsFromSettings(e){switch(e.kind){case"all-inputs-settings":{const t=allInputsAtPositionSpec(e.position);return[t,t]}case"input-settings":{const t=scenarioSpecFromInputs(e.inputs,"left"),r=scenarioSpecFromInputs(e.inputs,"right");return[t,r]}default:assertNeverExports$1.assertNever(e)}}function scenarioSpecFromInputs(e,t){const r=[];for(const n of e){const i=t==="left"?n.stateL:n.stateR;if(i.inputVar===void 0)return;r.push(inputSettingFromResolvedInputState(i))}return inputSettingsSpec(r)}function inputSettingFromResolvedInputState(e){const t=e.inputVar.varId;return e.position?positionSetting(t,e.position):valueSetting(t,e.value)}function resolveComparisonSpecs(e,t,r){let n=1;const i=()=>`${n++}`,a=new ModelInputs(e),u=new ModelInputs(t),d=new ModelOutputs(e,t),m=new ResolvedScenarios;for(const q of r.scenarios||[])m.add(resolveScenariosFromSpec(a,u,q,i));const g=[];for(const q of r.scenarioGroups||[]){const B=[];for(const F of q.scenarios)if(F.kind==="scenario-ref")B.push(F);else{const D=resolveScenariosFromSpec(a,u,F,i);m.add(D),B.push(...D)}g.push({spec:q,scenarios:B})}const x=new ResolvedScenarioGroups;for(const q of g){const B=[];for(const F of q.scenarios)if(F.kind==="scenario-ref"){const D=m.getScenarioForId(F.scenarioId);if(D){const V=__spreadValues$1({},D);F.title&&(V.title=F.title),F.subtitle&&(V.subtitle=F.subtitle),B.push(V)}else B.push({kind:"unresolved-scenario-ref",scenarioId:F.scenarioId})}else B.push(F);x.add({kind:"scenario-group",id:q.spec.id,title:q.spec.title,scenarios:B})}const R=new ResolvedGraphGroups;for(const q of r.graphGroups||[])R.add(q);const O=[];for(const q of r.viewGroups||[]){const B=resolveViewGroupFromSpec(e,t,d,m,x,R,q);O.push(B)}return{scenarios:m.getAll(),scenarioGroups:x.getAll(),viewGroups:O}}var ModelOutputs=class{constructor(e,t){this.modelSpecL=e,this.modelSpecR=t}getDatasetForName(e,t){function r(i){for(const a of i.outputVars.values())if(a.varName===e&&a.sourceName===t)return a}const n=r(this.modelSpecR);if(n){const i=n.datasetKey,a=this.modelSpecL.outputVars.get(i);return{kind:"dataset",key:i,outputVarL:a,outputVarR:n}}else return}},ResolvedScenarios=class{constructor(){this.resolvedScenarios=[],this.resolvedScenariosById=new Map}add(e){for(const t of e)if(this.resolvedScenarios.push(t),t.id!==void 0){if(this.resolvedScenariosById.has(t.id))throw new Error(`Multiple scenarios defined with the same id (${t.id})`);this.resolvedScenariosById.set(t.id,t)}}getAll(){return this.resolvedScenarios}getScenarioForId(e){return this.resolvedScenariosById.get(e)}};function resolveScenariosFromSpec(e,t,r,n){switch(r.kind){case"scenario-matrix":return resolveScenarioMatrix(e,t,n);case"scenario-with-all-inputs":{const i=inputPosition2(r.position);return[resolveScenarioWithAllInputsAtPosition(n(),r.id,r.title,r.subtitle,i)]}case"scenario-with-inputs":return[resolveScenarioForInputSpecs(e,t,n(),r.id,r.title,r.subtitle,r.inputs)];case"scenario-with-distinct-inputs":return[resolveScenarioForDistinctInputSpecs(e,t,n(),r.id,r.title,r.subtitle,r.inputsL,r.inputsR)];case"scenario-with-setting-group":return[resolveScenarioForSettingGroup(e,t,n(),r.id,r.title,r.subtitle,r.settingGroupId)];default:assertNeverExports$1.assertNever(r)}}function resolveScenarioMatrix(e,t,r){const n=[];n.push(resolveScenarioWithAllInputsAtPosition(r(),void 0,void 0,void 0,"at-default"));const i=new Set;e.getAllInputIdAliases().forEach(a=>i.add(a)),t.getAllInputIdAliases().forEach(a=>i.add(a));for(const a of i){const u={kind:"input-at-position",inputName:a,position:"min"},d={kind:"input-at-position",inputName:a,position:"max"};n.push(resolveScenarioForInputSpecs(e,t,r(),void 0,void 0,void 0,[u])),n.push(resolveScenarioForInputSpecs(e,t,r(),void 0,void 0,void 0,[d]))}return n}function resolveScenarioWithAllInputsAtPosition(e,t,r,n,i){const a={kind:"all-inputs-settings",position:i},[u,d]=scenarioSpecsFromSettings(a);return{kind:"scenario",key:e,id:t,title:r,subtitle:n,settings:a,specL:u,specR:d}}function resolveScenarioForInputSpecs(e,t,r,n,i,a,u){const m={kind:"input-settings",inputs:u.map(R=>{switch(R.kind){case"input-at-position":return resolveInputForName(e,t,R.inputName,R.position);case"input-at-value":return resolveInputForName(e,t,R.inputName,R.value);default:assertNeverExports$1.assertNever(R)}})},[g,x]=scenarioSpecsFromSettings(m);return{kind:"scenario",key:r,id:n,title:i,subtitle:a,settings:m,specL:g,specR:x}}function resolveScenarioForDistinctInputSpecs(e,t,r,n,i,a,u,d){const m=[],g=[],x=[];function R(B,F,D){let V;switch(D.kind){case"input-at-position":V=resolveInputForNameInModel(F,D.inputName,D.position);break;case"input-at-value":V=resolveInputForNameInModel(F,D.inputName,D.value);break;default:assertNeverExports$1.assertNever(D)}if(V.error!==void 0)m.push({requestedName:D.inputName,stateL:B==="left"?V:{},stateR:B==="right"?V:{}});else{const j=inputSettingFromResolvedInputState(V);B==="left"?g.push(j):x.push(j)}}u.forEach(B=>R("left",e,B)),d.forEach(B=>R("right",t,B));let O,q;return m.length===0&&(O=inputSettingsSpec(g),q=inputSettingsSpec(x)),{kind:"scenario",key:r,id:n,title:i,subtitle:a,settings:{kind:"input-settings",inputs:m},specL:O,specR:q}}function resolveScenarioForSettingGroup(e,t,r,n,i,a,u){var d,m;function g(z,G){const re=z.getInputVarForVarId(G);return re!==void 0?re.varName:G}function x(z){switch(z){case"at-minimum":return"min";case"at-maximum":return"max";case"at-default":return"default";default:throw new Error(`Unknown input position: ${z}`)}}function R(z,G){switch(G.kind){case"position":return{kind:"input-at-position",inputName:g(z,G.inputVarId),position:x(G.position)};case"value":return{kind:"input-at-value",inputName:g(z,G.inputVarId),value:G.value};default:throw new Error(`Unknown input setting kind: ${G}`)}}function O(z,G){return G.map(re=>R(z,re))}const q=((d=e.modelSpec.inputSettingGroups)==null?void 0:d.get(u))||[],B=((m=t.modelSpec.inputSettingGroups)==null?void 0:m.get(u))||[],F=O(e,q),D=O(t,B),V=resolveScenarioForDistinctInputSpecs(e,t,r,n,i,a,F,D);function j(z){if(z.kind==="input-settings")return z.settings.map(re=>{switch(re.kind){case"position":return`${re.inputVarId}=${re.position}`;case"value":return`${re.inputVarId}=${re.value}`;default:throw new Error(`Unexpected input setting kind: ${re}`)}}).sort().join("__");throw new Error(`Unexpected scenario spec kind: ${z.kind}`)}function K(z,G){return j(z)===j(G)}function Q(z){return z.length===0?{error:{kind:"unknown-input-setting-group"}}:{}}if(q.length===0||B.length===0){if(V.settings.kind==="input-settings"){const z={requestedName:u,stateL:Q(q),stateR:Q(B)};V.settings.inputs.unshift(z)}q.length===0&&(V.specL=void 0),B.length===0&&(V.specR=void 0)}return V.settings.kind==="input-settings"&&V.specL&&V.specR&&!K(V.specL,V.specR)&&(V.settings.settingsDiffer=!0),V}function resolveInputForName(e,t,r,n){return{requestedName:r,stateL:resolveInputForNameInModel(e,r,n),stateR:resolveInputForNameInModel(t,r,n)}}function resolveInputForNameInModel(e,t,r){const n=e.getInputVarForName(t);return n?resolveInputVar(n,r):{error:{kind:"unknown-input"}}}function resolveInputVar(e,t){if(typeof t=="number")return resolveInputVarAtValue(e,t);{const r=inputPosition2(t);return resolveInputVarAtPosition(e,r)}}function resolveInputVarAtPosition(e,t){return{inputVar:e,position:t,value:inputValueAtPosition2(e,t)}}function resolveInputVarAtValue(e,t){return t>=e.minValue&&t<=e.maxValue?{inputVar:e,value:t}:{error:{kind:"invalid-value"}}}function inputPosition2(e){switch(e){case"default":return"at-default";case"min":return"at-minimum";case"max":return"at-maximum";default:return}}function inputValueAtPosition2(e,t){switch(t){case"at-default":return e.defaultValue;case"at-minimum":return e.minValue;case"at-maximum":return e.maxValue;default:assertNeverExports$1.assertNever(t)}}var ResolvedScenarioGroups=class{constructor(){this.resolvedGroups=[],this.resolvedGroupsById=new Map}add(e){if(this.resolvedGroups.push(e),e.id!==void 0){if(this.resolvedGroupsById.has(e.id))throw new Error(`Multiple scenario groups defined with the same id (${e.id})`);this.resolvedGroupsById.set(e.id,e)}}getAll(){return this.resolvedGroups}getGroupForId(e){return this.resolvedGroupsById.get(e)}},ResolvedGraphGroups=class{constructor(){this.resolvedGroupsById=new Map}add(e){if(this.resolvedGroupsById.has(e.id))throw new Error(`Multiple graph groups defined with the same id (${e.id})`);this.resolvedGroupsById.set(e.id,e)}getGroupForId(e){return this.resolvedGroupsById.get(e)}};function resolveGraphsFromSpec(e,t,r,n){switch(n.kind){case"graphs-preset":switch(n.preset){case"all":{const i=new Set,a=u=>{if(u.graphSpecs)for(const d of u.graphSpecs)i.add(d.id)};return a(e),a(t),[...i]}default:assertNeverExports$1.assertNever(n.preset)}case"graphs-array":return n.graphIds;case"graph-group-ref":{const i=r.getGroupForId(n.groupId);if(i===void 0)throw new Error(`No graph group found for id ${n.groupId}`);return i.graphIds}default:assertNeverExports$1.assertNever(n)}}function resolveViewForScenarioId(e,t,r,n,i,a){const u=e.getScenarioForId(n);return u?resolveViewForScenario(t,r,u,i,a):unresolvedViewForScenarioId(t,r,n)}function resolveViewForScenarioRefSpec(e,t,r,n){const i=e.getScenarioForId(t.scenarioId);return i?resolveViewForScenario(t.title,t.subtitle,i,r,n):unresolvedViewForScenarioId(void 0,void 0,t.scenarioId)}function resolveViewForScenario(e,t,r,n,i){return e===void 0&&(e=r.title,e===void 0&&(e="Untitled view"),t===void 0&&(t=r.subtitle)),{kind:"view",title:e,subtitle:t,scenario:r,graphIds:n,graphOrder:i}}function resolveViewBoxForSpec(e,t,r){const n=e.getDatasetForName(r.dataset.name,r.dataset.source);if(n===void 0)return{kind:"unresolved-view-box",datasetName:r.dataset.name,datasetSource:r.dataset.source};const i=t.getScenarioForId(r.scenarioId);return i===void 0?{kind:"unresolved-view-box",scenarioId:r.scenarioId}:{kind:"view-box",title:r.title,subtitle:r.subtitle,dataset:n,scenario:i}}function resolveViewRowForSpec(e,t,r){const n=[];for(const i of r.boxes){const a=resolveViewBoxForSpec(e,t,i);if(a.kind==="view-box")n.push(a);else return a}return{kind:"view-row",title:r.title,subtitle:r.subtitle,boxes:n}}function resolveViewWithRowSpecs(e,t,r,n,i){const a=[];for(const u of i){const d=resolveViewRowForSpec(e,t,u);if(d.kind==="view-row")a.push(d);else return unresolvedViewForScenarioId(r,n,d.scenarioId,d.datasetName,d.datasetSource)}return r===void 0&&(r="Untitled view"),{kind:"view",title:r,subtitle:n,rows:a,graphIds:[],graphOrder:"default"}}function unresolvedViewForScenarioId(e,t,r,n,i){return{kind:"unresolved-view",title:e,subtitle:t,scenarioId:r,datasetName:n,datasetSource:i}}function unresolvedViewForScenarioGroupId(e,t,r){return{kind:"unresolved-view",title:e,subtitle:t,scenarioGroupId:r}}function resolveViewGroupFromSpec(e,t,r,n,i,a,u){let d;switch(u.kind){case"view-group-with-views":{d=u.views.map(m=>{if(m.scenarioId){let g;return m.graphs?g=resolveGraphsFromSpec(e,t,a,m.graphs):g=[],resolveViewForScenarioId(n,m.title,m.subtitle,m.scenarioId,g,m.graphOrder||"default")}else return resolveViewWithRowSpecs(r,n,m.title,m.subtitle,m.rows)});break}case"view-group-with-scenarios":{const m=resolveGraphsFromSpec(e,t,a,u.graphs),g=u.graphOrder||"default";d=[];for(const x of u.scenarios)switch(x.kind){case"scenario-ref":d.push(resolveViewForScenarioRefSpec(n,x,m,g));break;case"scenario-group-ref":{const R=i.getGroupForId(x.groupId);if(R)for(const O of R.scenarios)switch(O.kind){case"unresolved-scenario-ref":d.push(unresolvedViewForScenarioId(void 0,void 0,O.scenarioId));break;case"scenario":d.push(resolveViewForScenario(void 0,void 0,O,m,g));break;default:assertNeverExports$1.assertNever(O)}else d.push(unresolvedViewForScenarioGroupId(void 0,void 0,x.groupId));break}default:assertNeverExports$1.assertNever(x)}break}default:assertNeverExports$1.assertNever(u)}return{kind:"view-group",title:u.title,views:d}}function resolveComparisonSpecsFromSources(e,t,r){const n={scenarios:[],scenarioGroups:[],graphGroups:[],viewGroups:[]};for(const i of r){let a;if("kind"in i){const u=parseComparisonSpecs(i);if(u.isOk())a=u.value;else{const d=i.filename?` in ${i.filename}`:"";console.error(`ERROR: Failed to parse comparison spec${d}, skipping`);continue}}else a=i;n.scenarios.push(...a.scenarios||[]),n.scenarioGroups.push(...a.scenarioGroups||[]),n.graphGroups.push(...a.graphGroups||[]),n.viewGroups.push(...a.viewGroups||[])}return resolveComparisonSpecs(e,t,n)}function getComparisonDatasets(e,t,r){return new ComparisonDatasetsImpl(e,t,r)}var ComparisonDatasetsImpl=class{constructor(e,t,r){this.modelSpecL=e,this.modelSpecR=t,this.datasetOptions=r;const n=r?.renamedDatasetKeys,i=new Map;n?.forEach((g,x)=>{i.set(g,x)});function a(g){return i.get(g)||g}const u=new Set,d=new Set;function m(g,x){g.forEach((R,O)=>{const q=x?a(O):O;u.add(q),R.sourceName===void 0&&d.add(q)})}m(e.outputVars,!1),m(t.outputVars,!0),this.allOutputVarKeys=Array.from(u),this.modelOutputVarKeys=Array.from(d),this.allDatasets=new Map;for(const g of this.allOutputVarKeys){const x=n?.get(g)||g,R=e.outputVars.get(g),O=t.outputVars.get(x);this.allDatasets.set(g,{kind:"dataset",key:g,outputVarL:R,outputVarR:O})}}getAllDatasets(){return this.allDatasets.values()}getDataset(e){return this.allDatasets.get(e)}getDatasetKeysForScenario(e){var t;return((t=this.datasetOptions)==null?void 0:t.datasetKeysForScenario)!==void 0?this.datasetOptions.datasetKeysForScenario(this.allOutputVarKeys,e):e.settings.kind==="all-inputs-settings"&&e.settings.position==="at-default"?this.allOutputVarKeys:this.modelOutputVarKeys}getReferencePlotsForDataset(e,t){var r;if(((r=this.datasetOptions)==null?void 0:r.referencePlotsForDataset)!==void 0){const n=this.getDataset(e);if(n!==void 0)return this.datasetOptions.referencePlotsForDataset(n,t)}return[]}getContextGraphIdsForDataset(e,t){var r;const n=this.getDataset(e);return n===void 0?[]:((r=this.datasetOptions)==null?void 0:r.contextGraphIdsForDataset)!==void 0?this.datasetOptions.contextGraphIdsForDataset(n,t):getContextGraphIdsForDataset(this.modelSpecL,this.modelSpecR,n)}};function getContextGraphIdsForDataset(e,t,r){const n=new Set;function i(a,u){for(const d of a.graphSpecs||[])for(const m of d.datasets)if(m.datasetKey===u?.datasetKey){n.add(d.id);break}}return i(e,r.outputVarL),i(t,r.outputVarR),[...n]}function getComparisonScenarios(e){return new ComparisonScenariosImpl(e)}var ComparisonScenariosImpl=class{constructor(e){this.scenarioDefs=new Map;for(const t of e)this.scenarioDefs.set(t.key,t)}getAllScenarios(){return this.scenarioDefs.values()}getScenario(e){return this.scenarioDefs.get(e)}};function synchronizedBundleModel(e){const t=new PromiseQueue;return{modelSpec:e.modelSpec,getDatasetsForScenario:(r,n)=>t.add(()=>e.getDatasetsForScenario(r,n)),getGraphDataForScenario:(r,n)=>t.add(()=>e.getGraphDataForScenario(r,n)),getGraphLinksForScenario:e.getGraphLinksForScenario.bind(e)}}var PromiseQueue=class{constructor(){this.tasks=[],this.runningCount=0}add(e){return new Promise((t,r)=>{const n=()=>__async(this,null,function*(){this.runningCount++;const i=e();try{const a=yield i;t(a)}catch(a){r(a)}finally{this.runningCount--,this.runNext()}});this.runningCount<1?n():this.tasks.push(n)})}runNext(){if(this.tasks.length>0){const e=this.tasks.shift();e&&e()}}};function createConfig(e){return __async(this,null,function*(){var t;const r=yield loadSynchronized(e.current);let n,i;if(e.comparison===void 0)n=r;else{const u=yield loadSynchronized(e.comparison.baseline),d=(t=e.comparison.datasets)==null?void 0:t.renamedDatasetKeys,m=new Map;d?.forEach((D,V)=>{m.set(D,V)});const g=D=>d?.get(D)||D,x=D=>m.get(D)||D,R=r.model,O={modelSpec:R.modelSpec,getDatasetsForScenario:(D,V)=>__async(this,null,function*(){const j=V.map(g),K=yield R.getDatasetsForScenario(D,j),Q=K.datasetMap,z=new Map;for(const[G,re]of Q.entries()){const de=x(G);z.set(de,re)}return{datasetMap:z,modelRunTime:K.modelRunTime}}),getGraphDataForScenario:R.getGraphDataForScenario.bind(R),getGraphLinksForScenario:R.getGraphLinksForScenario.bind(R)};n=__spreadProps(__spreadValues$1({},r),{model:O});const q=u.model.modelSpec,B=n.model.modelSpec,F=resolveComparisonSpecsFromSources(q,B,e.comparison.specs);i={bundleL:u,bundleR:n,thresholds:e.comparison.thresholds,scenarios:getComparisonScenarios(F.scenarios),datasets:getComparisonDatasets(q,B,e.comparison.datasets),viewGroups:F.viewGroups,reportOptions:e.comparison.report}}return{check:{bundle:n,tests:e.check.tests},comparison:i}})}function loadSynchronized(e){return __async(this,null,function*(){const t=yield e.bundle.initModel(),r=synchronizedBundleModel(t);return{name:e.name,version:e.bundle.version,model:r}})}var PerfStats=class{constructor(){this.times=[]}addRun(e){this.times.push(e)}toReport(){if(this.times.length===0)return{minTime:0,maxTime:0,avgTime:0,allTimes:[]};const e=Math.min(...this.times),t=Math.max(...this.times),r=this.times.sort(),n=Math.floor(r.length/4),i=n+Math.ceil(r.length/2),a=r.slice(n,i),d=a.reduce((m,g)=>m+g,0)/a.length;return{minTime:e,maxTime:t,avgTime:d,allTimes:r}}},warmupCount=5,runCount=100,PerfRunner=class{constructor(e,t,r="serial"){this.bundleModelL=e,this.bundleModelR=t,this.mode=r;const n=allInputsAtPositionSpec("at-default");this.taskQueue=new TaskQueue({process:i=>__async(this,null,function*(){switch(i.kind){case"left":return{runTimeL:(yield e.getDatasetsForScenario(n,[])).modelRunTime};case"right":return{runTimeR:(yield t.getDatasetsForScenario(n,[])).modelRunTime};case"both":{const[a,u]=yield Promise.all([e.getDatasetsForScenario(n,[]),t.getDatasetsForScenario(n,[])]);return{runTimeL:a.modelRunTime,runTimeR:u.modelRunTime}}default:assertNeverExports$1.assertNever(i.kind)}})})}start(){const e=new PerfStats,t=new PerfStats;this.taskQueue.onIdle=a=>{var u;a?this.onError(a):(u=this.onComplete)==null||u.call(this,e.toReport(),t.toReport())};const r=this.taskQueue;function n(a,u,d){const m=`${u?"warmup-":""}${d}-${a}`,g={kind:d};r.addTask(m,g,x=>{!u&&x.runTimeL!==void 0&&e.addRun(x.runTimeL),!u&&x.runTimeR!==void 0&&t.addRun(x.runTimeR)})}function i(a){for(let u=0;u<warmupCount;u++)n(u,!0,a);for(let u=0;u<runCount;u++)n(u,!1,a)}this.mode==="parallel"?i("both"):(i("left"),i("right"))}},DataPlanner=class{constructor(e){this.batchSize=e,this.taskSetsLR=new Map,this.taskSetsL=new Map,this.taskSetsR=new Map,this.complete=!1}addRequest(e,t,r,n){if(e===void 0&&t===void 0){console.warn("WARNING: Both scenario specs are undefined for DataPlanner request, skipping");return}let i,a;e&&t?(i=this.taskSetsLR,a=scenarioPairUid(e,t)):t?(i=this.taskSetsR,a=t.uid):(i=this.taskSetsL,a=e.uid);let u=i.get(a);u||(u=new DataTaskSet(e,t),i.set(a,u)),u.addTask({datasetKey:r,dataAction:n})}buildPlan(){if(this.complete)throw new Error("DataPlanner.buildPlan() can only be called once");this.complete=!0;const e=new Map,t=new Map;for(const u of this.taskSetsLR.keys()){const[d,m]=u.split("::");e.has(d)||e.set(d,u),t.has(m)||t.set(m,u)}function r(u,d,m){for(const[g,x]of d.entries()){const R=m.get(g);R&&(u.get(R).merge(x),d.delete(g))}}r(this.taskSetsLR,this.taskSetsL,e),r(this.taskSetsLR,this.taskSetsR,t);const n=[],i=this.batchSize;function a(u){for(const d of u)n.push(...d.buildRequests(i))}return a(this.taskSetsLR.values()),a(this.taskSetsL.values()),a(this.taskSetsR.values()),{requests:n}}},DataTaskSet=class{constructor(e,t){this.scenarioSpecL=e,this.scenarioSpecR=t,this.modelTasks=new Map,this.modelImplTasks=new Map}addTask(e){let t;e.datasetKey.startsWith("ModelImpl")?t=this.modelImplTasks:t=this.modelTasks;let r=t.get(e.datasetKey);r||(r=[],t.set(e.datasetKey,r)),r.push(e)}merge(e){for(const t of e.modelTasks.values())for(const r of t)this.addTask(r);for(const t of e.modelImplTasks.values())for(const r of t)this.addTask(r)}buildRequests(e){const t=[];if(this.modelTasks.size>0){const r=[];this.modelTasks.forEach(n=>r.push(...n)),t.push({scenarioSpecL:this.scenarioSpecL,scenarioSpecR:this.scenarioSpecR,dataTasks:r})}if(this.modelImplTasks.size>0){const r=[...this.modelImplTasks.keys()];for(let n=0;n<r.length;n+=e){const i=r.slice(n,n+e),a=[];for(const u of i)a.push(...this.modelImplTasks.get(u));t.push({scenarioSpecL:this.scenarioSpecL,scenarioSpecR:this.scenarioSpecR,dataTasks:a})}}return t}};function scenarioPairUid(e,t){const r=e?.uid||"",n=t?.uid||"";return`${r}::${n}`}function runChecks(e,t,r,n,i){const a=e.bundle.model.modelSpec,u=new CheckPlanner(a);u.addAllChecks(t,i);const d=u.buildPlan(),m=new Map;for(const[x,R]of d.dataRefs.entries())n.addRequest(void 0,R.scenario.spec,R.dataset.datasetKey,O=>{const q=O.datasetR;q&&m.set(x,q)});const g=new Map;for(const[x,R]of d.tasks.entries())r.addRequest(void 0,R.scenario.spec,R.dataset.datasetKey,O=>{const q=O.datasetR,B=runCheck(R,q,m);g.set(x,B)});return()=>buildCheckReport(d,g)}function runCheck(e,t,r){if(t===void 0)return{status:"error",message:"no data available"};let n;if(e.dataRefs){n=new Map;for(const[i,a]of e.dataRefs.entries()){const u=r?.get(a.key);if(u===void 0){if(a.dataset.datasetKey===void 0)return{status:"error",errorInfo:{kind:"unknown-dataset",name:a.dataset.name}};if(a.scenario.spec===void 0){if(a.scenario.error)return{status:"error",errorInfo:{kind:a.scenario.error.kind,name:a.scenario.error.name}};{let d;return a.scenario.inputDescs.length>0?d=a.scenario.inputDescs[0].name:d="unknown",{status:"error",errorInfo:{kind:"unknown-input",name:d}}}}else return{status:"error",message:"unresolved data reference"}}n.set(i,u)}}return e.action.run(t,n)}function runComparisons(e,t){const r=[];for(const n of e.scenarios.getAllScenarios()){const i=e.datasets.getDatasetKeysForScenario(n);for(const a of i)t.addRequest(n.specL,n.specR,a,u=>{const d=diffDatasets(u.datasetL,u.datasetR);r.push({scenarioKey:n.key,datasetKey:a,diffReport:d})})}return()=>r}var SuiteRunner=class{constructor(e,t){this.config=e,this.callbacks=t,this.perfStatsL=new PerfStats,this.perfStatsR=new PerfStats,this.stopped=!1,this.taskQueue=new TaskQueue({process:r=>this.processRequest(r)})}cancel(){this.stopped||(this.stopped=!0,this.taskQueue.shutdown())}start(e){var t,r,n,i,a,u,d,m;(r=(t=this.callbacks).onProgress)==null||r.call(t,0);const g=this.config.check.bundle.model.modelSpec,x=new DataPlanner(g.outputVars.size),R=new DataPlanner(g.outputVars.size),O=parseTestYaml(this.config.check.tests);if(O.isErr()){(i=(n=this.callbacks).onError)==null||i.call(n,O.error);return}const q=O.value,B=e?.simplifyScenarios===!0,F=runChecks(this.config.check,q,x,R,B);let D;this.config.comparison&&(D=runComparisons(this.config.comparison,x)),this.taskQueue.onIdle=re=>{var de,Oe,Ve,wt;if(!this.stopped)if(re)(Oe=(de=this.callbacks).onError)==null||Oe.call(de,re);else{const Mt=F();let mn;this.config.comparison&&(mn={testReports:D(),perfReportL:this.perfStatsL.toReport(),perfReportR:this.perfStatsR.toReport()}),(wt=(Ve=this.callbacks).onComplete)==null||wt.call(Ve,{checkReport:Mt,comparisonReport:mn})}};const V=R.buildPlan(),j=x.buildPlan(),K=[...V.requests,...j.requests],Q=K.length;if(Q===0){let re;this.config.comparison&&(re={testReports:[],perfReportL:this.perfStatsL.toReport(),perfReportR:this.perfStatsR.toReport()}),this.cancel(),(u=(a=this.callbacks).onProgress)==null||u.call(a,1),(m=(d=this.callbacks).onComplete)==null||m.call(d,{checkReport:{groups:[]},comparisonReport:re});return}let z=0,G=1;for(const re of K)this.taskQueue.addTask(`data${G++}`,re,()=>{var de,Oe;z++,(Oe=(de=this.callbacks).onProgress)==null||Oe.call(de,z/Q)})}processRequest(e){return __async(this,null,function*(){var t,r;const n=new Set;for(const O of e.dataTasks)n.add(O.datasetKey);const i=[...n];function a(O,q){return __async(this,null,function*(){if(O&&q)return O.getDatasetsForScenario(q,i)})}const u=(t=this.config.comparison)==null?void 0:t.bundleL.model,d=((r=this.config.comparison)==null?void 0:r.bundleR.model)||this.config.check.bundle.model,[m,g]=yield Promise.all([a(u,e.scenarioSpecL),a(d,e.scenarioSpecR)]);m?.modelRunTime&&this.perfStatsL.addRun(m?.modelRunTime),g?.modelRunTime&&this.perfStatsR.addRun(g?.modelRunTime);const x=m?.datasetMap,R=g?.datasetMap;for(const O of e.dataTasks){const q=x?.get(O.datasetKey),B=R?.get(O.datasetKey);O.dataAction({datasetL:q,datasetR:B})}})}};function runSuite(e,t,r){const n=new SuiteRunner(e,t);return n.start(r),()=>{n.cancel()}}var fontfaceobserver_standalone={exports:{}},hasRequiredFontfaceobserver_standalone;function requireFontfaceobserver_standalone(){return hasRequiredFontfaceobserver_standalone||(hasRequiredFontfaceobserver_standalone=1,(function(e){(function(){function t(F,D){document.addEventListener?F.addEventListener("scroll",D,!1):F.attachEvent("scroll",D)}function r(F){document.body?F():document.addEventListener?document.addEventListener("DOMContentLoaded",function D(){document.removeEventListener("DOMContentLoaded",D),F()}):document.attachEvent("onreadystatechange",function D(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",D),F())})}function n(F){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(F)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(F,D){F.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+D+";"}function a(F){var D=F.g.offsetWidth,V=D+100;return F.j.style.width=V+"px",F.i.scrollLeft=V,F.h.scrollLeft=F.h.scrollWidth+100,F.l!==D?(F.l=D,!0):!1}function u(F,D){function V(){var K=j;a(K)&&K.g.parentNode!==null&&D(K.l)}var j=F;t(F.h,V),t(F.i,V),a(F)}function d(F,D,V){D=D||{},V=V||window,this.family=F,this.style=D.style||"normal",this.weight=D.weight||"normal",this.stretch=D.stretch||"normal",this.context=V}var m=null,g=null,x=null,R=null;function O(F){return g===null&&(q(F)&&/Apple/.test(window.navigator.vendor)?(F=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),g=!!F&&603>parseInt(F[1],10)):g=!1),g}function q(F){return R===null&&(R=!!F.document.fonts),R}function B(F,D){var V=F.style,j=F.weight;if(x===null){var K=document.createElement("div");try{K.style.font="condensed 100px sans-serif"}catch{}x=K.style.font!==""}return[V,j,x?F.stretch:"","100px",D].join(" ")}d.prototype.load=function(F,D){var V=this,j=F||"BESbswy",K=0,Q=D||3e3,z=new Date().getTime();return new Promise(function(G,re){if(q(V.context)&&!O(V.context)){var de=new Promise(function(Ve,wt){function Mt(){new Date().getTime()-z>=Q?wt(Error(""+Q+"ms timeout exceeded")):V.context.document.fonts.load(B(V,'"'+V.family+'"'),j).then(function(mn){1<=mn.length?Ve():setTimeout(Mt,25)},wt)}Mt()}),Oe=new Promise(function(Ve,wt){K=setTimeout(function(){wt(Error(""+Q+"ms timeout exceeded"))},Q)});Promise.race([Oe,de]).then(function(){clearTimeout(K),G(V)},re)}else r(function(){function Ve(){var ct;(ct=$n!=-1&&Rn!=-1||$n!=-1&&wn!=-1||Rn!=-1&&wn!=-1)&&((ct=$n!=Rn&&$n!=wn&&Rn!=wn)||(m===null&&(ct=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),m=!!ct&&(536>parseInt(ct[1],10)||parseInt(ct[1],10)===536&&11>=parseInt(ct[2],10))),ct=m&&($n==gn&&Rn==gn&&wn==gn||$n==Sn&&Rn==Sn&&wn==Sn||$n==Je&&Rn==Je&&wn==Je)),ct=!ct),ct&&(Le.parentNode!==null&&Le.parentNode.removeChild(Le),clearTimeout(K),G(V))}function wt(){if(new Date().getTime()-z>=Q)Le.parentNode!==null&&Le.parentNode.removeChild(Le),re(Error(""+Q+"ms timeout exceeded"));else{var ct=V.context.document.hidden;(ct===!0||ct===void 0)&&($n=Mt.g.offsetWidth,Rn=mn.g.offsetWidth,wn=bn.g.offsetWidth,Ve()),K=setTimeout(wt,50)}}var Mt=new n(j),mn=new n(j),bn=new n(j),$n=-1,Rn=-1,wn=-1,gn=-1,Sn=-1,Je=-1,Le=document.createElement("div");Le.dir="ltr",i(Mt,B(V,"sans-serif")),i(mn,B(V,"serif")),i(bn,B(V,"monospace")),Le.appendChild(Mt.g),Le.appendChild(mn.g),Le.appendChild(bn.g),V.context.document.body.appendChild(Le),gn=Mt.g.offsetWidth,Sn=mn.g.offsetWidth,Je=bn.g.offsetWidth,wt(),u(Mt,function(ct){$n=ct,Ve()}),i(Mt,B(V,'"'+V.family+'",sans-serif')),u(mn,function(ct){Rn=ct,Ve()}),i(mn,B(V,'"'+V.family+'",serif')),u(bn,function(ct){wn=ct,Ve()}),i(bn,B(V,'"'+V.family+'",monospace'))})})},e.exports=d})()})(fontfaceobserver_standalone)),fontfaceobserver_standalone.exports}var fontfaceobserver_standaloneExports=requireFontfaceobserver_standalone();const In=getDefaultExportFromCjs$1(fontfaceobserver_standaloneExports);function copyTextToClipboard(e,{target:t=document.body}={}){if(typeof e!="string")throw new TypeError(`Expected parameter \`text\` to be a \`string\`, got \`${typeof e}\`.`);const r=document.createElement("textarea"),n=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.all="unset",r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.width="2em",r.style.height="2em",r.style.padding="0",r.style.border="none",r.style.outline="none",r.style.boxShadow="none",r.style.background="transparent",r.style.fontSize="12pt",r.style.whiteSpace="pre";const i=document.getSelection(),a=i.rangeCount>0&&i.getRangeAt(0);t.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let u=!1;try{u=document.execCommand("copy")}catch{}return r.remove(),a&&(i.removeAllRanges(),i.addRange(a)),n&&n.focus(),u}var Chart$1={exports:{}};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(e){hookCallback=e}function isArray(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function isObject(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function isObjectEmpty(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(hasOwnProp(e,t))return!1;return!0}function isUndefined(e){return e===void 0}function isNumber(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function isDate(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function map(e,t){var r=[],n,i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function extend(e,t){for(var r in t)hasOwnProp(t,r)&&(e[r]=t[r]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,r,n){return createLocalOrUTC(e,t,r,n,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(e){return e._pf==null&&(e._pf=defaultParsingFlags()),e._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function isValid(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=getParsingFlags(e),r=some.call(t.parsedDateParts,function(i){return i!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function createInvalid(e){var t=createUTC(NaN);return e!=null?extend(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(e,t){var r,n,i,a=momentProperties.length;if(isUndefined(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined(t._i)||(e._i=t._i),isUndefined(t._f)||(e._f=t._f),isUndefined(t._l)||(e._l=t._l),isUndefined(t._strict)||(e._strict=t._strict),isUndefined(t._tzm)||(e._tzm=t._tzm),isUndefined(t._isUTC)||(e._isUTC=t._isUTC),isUndefined(t._offset)||(e._offset=t._offset),isUndefined(t._pf)||(e._pf=getParsingFlags(t)),isUndefined(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)n=momentProperties[r],i=t[n],isUndefined(i)||(e[n]=i);return e}function Moment(e){copyConfig(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(e){return e instanceof Moment||e!=null&&e._isAMomentObject!=null}function warn(e){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var r=!0;return extend(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,e),r){var n=[],i,a,u,d=arguments.length;for(a=0;a<d;a++){if(i="",typeof arguments[a]=="object"){i+=`
[`+a+"] ";for(u in arguments[0])hasOwnProp(arguments[0],u)&&(i+=u+": "+arguments[0][u]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}warn(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var deprecations={};function deprecateSimple(e,t){hooks.deprecationHandler!=null&&hooks.deprecationHandler(e,t),deprecations[e]||(warn(t),deprecations[e]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function set(e){var t,r;for(r in e)hasOwnProp(e,r)&&(t=e[r],isFunction(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var r=extend({},e),n;for(n in t)hasOwnProp(t,n)&&(isObject(e[n])&&isObject(t[n])?(r[n]={},extend(r[n],e[n]),extend(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)hasOwnProp(e,n)&&!hasOwnProp(t,n)&&isObject(e[n])&&(r[n]=extend({},r[n]));return r}function Locale(e){e!=null&&this.set(e)}var keys;Object.keys?keys=Object.keys:keys=function(e){var t,r=[];for(t in e)hasOwnProp(e,t)&&r.push(t);return r};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return isFunction(n)?n.call(t,r):n}function zeroFill(e,t,r){var n=""+Math.abs(e),i=t-n.length,a=e>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(e,t,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),e&&(formatTokenFunctions[e]=i),t&&(formatTokenFunctions[t[0]]=function(){return zeroFill(i.apply(this,arguments),t[1],t[2])}),r&&(formatTokenFunctions[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t=e.match(formattingTokens),r,n;for(r=0,n=t.length;r<n;r++)formatTokenFunctions[t[r]]?t[r]=formatTokenFunctions[t[r]]:t[r]=removeFormattingTokens(t[r]);return function(i){var a="",u;for(u=0;u<n;u++)a+=isFunction(t[u])?t[u].call(i,e):t[u];return a}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),formatFunctions[t]=formatFunctions[t]||makeFormatFunction(t),formatFunctions[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){var r=5;function n(i){return t.longDateFormat(i)||i}for(localFormattingTokens.lastIndex=0;r>=0&&localFormattingTokens.test(e);)e=e.replace(localFormattingTokens,n),localFormattingTokens.lastIndex=0,r-=1;return e}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(formattingTokens).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(e){return this._ordinal.replace("%d",e)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(e,t,r,n){var i=this._relativeTime[r];return isFunction(i)?i(e,t,r,n):i.replace(/%d/i,e)}function pastFuture(e,t){var r=this._relativeTime[e>0?"future":"past"];return isFunction(r)?r(t):r.replace(/%s/i,t)}var aliases={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function normalizeUnits(e){return typeof e=="string"?aliases[e]||aliases[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t={},r,n;for(n in e)hasOwnProp(e,n)&&(r=normalizeUnits(n),r&&(t[r]=e[n]));return t}var priorities={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function getPrioritizedUnits(e){var t=[],r;for(r in e)hasOwnProp(e,r)&&t.push({unit:r,priority:priorities[r]});return t.sort(function(n,i){return n.priority-i.priority}),t}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,match1to2NoLeadingZero=/^[1-9]\d?/,match1to2HasZero=/^([1-9]\d|\d)/,regexes;regexes={};function addRegexToken(e,t,r){regexes[e]=isFunction(t)?t:function(n,i){return n&&r?r:t}}function getParseRegexForToken(e,t){return hasOwnProp(regexes,e)?regexes[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,i,a){return r||n||i||a}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function toInt(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=absFloor(t)),r}var tokens={};function addParseToken(e,t){var r,n=t,i;for(typeof e=="string"&&(e=[e]),isNumber(t)&&(n=function(a,u){u[t]=toInt(a)}),i=e.length,r=0;r<i;r++)tokens[e[r]]=n}function addWeekParseToken(e,t){addParseToken(e,function(r,n,i,a){i._w=i._w||{},t(r,i._w,i,a)})}function addTimeToArrayFromToken(e,t,r){t!=null&&hasOwnProp(tokens,e)&&tokens[e](t,r._a,r,e)}function isLeapYear(e){return e%4===0&&e%100!==0||e%400===0}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?zeroFill(e,4):"+"+e});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(e,t){t[YEAR]=e.length===2?hooks.parseTwoDigitYear(e):toInt(e)});addParseToken("YY",function(e,t){t[YEAR]=hooks.parseTwoDigitYear(e)});addParseToken("Y",function(e,t){t[YEAR]=parseInt(e,10)});function daysInYear(e){return isLeapYear(e)?366:365}hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(e,t){return function(r){return r!=null?(set$1(this,e,r),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function set$1(e,t,r){var n,i,a,u,d;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,u=e.month(),d=e.date(),d=d===29&&u===1&&!isLeapYear(a)?28:d,i?n.setUTCFullYear(a,u,d):n.setFullYear(a,u,d)}}function stringGet(e){return e=normalizeUnits(e),isFunction(this[e])?this[e]():this}function stringSet(e,t){if(typeof e=="object"){e=normalizeObjectUnits(e);var r=getPrioritizedUnits(e),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(e=normalizeUnits(e),isFunction(this[e]))return this[e](t);return this}function mod(e,t){return(e%t+t)%t}var indexOf;Array.prototype.indexOf?indexOf=Array.prototype.indexOf:indexOf=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function daysInMonth(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=mod(t,12);return e+=(t-r)/12,r===1?isLeapYear(e)?29:28:31-r%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)});addRegexToken("M",match1to2,match1to2NoLeadingZero);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)});addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)});addParseToken(["M","MM"],function(e,t){t[MONTH]=toInt(e)-1});addParseToken(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);i!=null?t[MONTH]=i:getParsingFlags(r).invalidMonth=e});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(e,t){return e?isArray(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(t)?"format":"standalone"][e.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(e,t){return e?isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(t)?"format":"standalone"][e.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(e,t,r){var n,i,a,u=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=createUTC([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?t==="MMM"?(i=indexOf.call(this._shortMonthsParse,u),i!==-1?i:null):(i=indexOf.call(this._longMonthsParse,u),i!==-1?i:null):t==="MMM"?(i=indexOf.call(this._shortMonthsParse,u),i!==-1?i:(i=indexOf.call(this._longMonthsParse,u),i!==-1?i:null)):(i=indexOf.call(this._longMonthsParse,u),i!==-1?i:(i=indexOf.call(this._shortMonthsParse,u),i!==-1?i:null))}function localeMonthsParse(e,t,r){var n,i,a;if(this._monthsParseExact)return handleStrictParse.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=createUTC([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function setMonth(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=toInt(t);else if(t=e.localeData().monthsParse(t),!isNumber(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,daysInMonth(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function getSetMonth(e){return e!=null?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function e(m,g){return g.length-m.length}var t=[],r=[],n=[],i,a,u,d;for(i=0;i<12;i++)a=createUTC([2e3,i]),u=regexEscape(this.monthsShort(a,"")),d=regexEscape(this.months(a,"")),t.push(u),r.push(d),n.push(d),n.push(u);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function createDate(e,t,r,n,i,a,u){var d;return e<100&&e>=0?(d=new Date(e+400,t,r,n,i,a,u),isFinite(d.getFullYear())&&d.setFullYear(e)):d=new Date(e,t,r,n,i,a,u),d}function createUTCDate(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function firstWeekOffset(e,t,r){var n=7+t-r,i=(7+createUTCDate(e,0,n).getUTCDay()-t)%7;return-i+n-1}function dayOfYearFromWeeks(e,t,r,n,i){var a=(7+r-n)%7,u=firstWeekOffset(e,n,i),d=1+7*(t-1)+a+u,m,g;return d<=0?(m=e-1,g=daysInYear(m)+d):d>daysInYear(e)?(m=e+1,g=d-daysInYear(e)):(m=e,g=d),{year:m,dayOfYear:g}}function weekOfYear(e,t,r){var n=firstWeekOffset(e.year(),t,r),i=Math.floor((e.dayOfYear()-n-1)/7)+1,a,u;return i<1?(u=e.year()-1,a=i+weeksInYear(u,t,r)):i>weeksInYear(e.year(),t,r)?(a=i-weeksInYear(e.year(),t,r),u=e.year()+1):(u=e.year(),a=i),{week:a,year:u}}function weeksInYear(e,t,r){var n=firstWeekOffset(e,t,r),i=firstWeekOffset(e+1,t,r);return(daysInYear(e)-n+i)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addRegexToken("w",match1to2,match1to2NoLeadingZero);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2,match1to2NoLeadingZero);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=toInt(e)});function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)});addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)});addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)});addWeekParseToken(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);i!=null?t.d=i:getParsingFlags(r).invalidWeekday=e});addWeekParseToken(["d","e","E"],function(e,t,r,n){t[n]=toInt(e)});function parseWeekday(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function parseIsoWeekday(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function shiftWeekdays(e,t){return e.slice(t,7).concat(e.slice(0,t))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(e,t){var r=isArray(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?shiftWeekdays(r,this._week.dow):e?r[e.day()]:r}function localeWeekdaysShort(e){return e===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function localeWeekdaysMin(e){return e===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse$1(e,t,r){var n,i,a,u=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=createUTC([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?t==="dddd"?(i=indexOf.call(this._weekdaysParse,u),i!==-1?i:null):t==="ddd"?(i=indexOf.call(this._shortWeekdaysParse,u),i!==-1?i:null):(i=indexOf.call(this._minWeekdaysParse,u),i!==-1?i:null):t==="dddd"?(i=indexOf.call(this._weekdaysParse,u),i!==-1||(i=indexOf.call(this._shortWeekdaysParse,u),i!==-1)?i:(i=indexOf.call(this._minWeekdaysParse,u),i!==-1?i:null)):t==="ddd"?(i=indexOf.call(this._shortWeekdaysParse,u),i!==-1||(i=indexOf.call(this._weekdaysParse,u),i!==-1)?i:(i=indexOf.call(this._minWeekdaysParse,u),i!==-1?i:null)):(i=indexOf.call(this._minWeekdaysParse,u),i!==-1||(i=indexOf.call(this._weekdaysParse,u),i!==-1)?i:(i=indexOf.call(this._shortWeekdaysParse,u),i!==-1?i:null))}function localeWeekdaysParse(e,t,r){var n,i,a;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=createUTC([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function getSetDayOfWeek(e){if(!this.isValid())return e!=null?this:NaN;var t=get(this,"Day");return e!=null?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=parseIsoWeekday(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function e(x,R){return R.length-x.length}var t=[],r=[],n=[],i=[],a,u,d,m,g;for(a=0;a<7;a++)u=createUTC([2e3,1]).day(a),d=regexEscape(this.weekdaysMin(u,"")),m=regexEscape(this.weekdaysShort(u,"")),g=regexEscape(this.weekdays(u,"")),t.push(d),r.push(m),n.push(g),i.push(d),i.push(m),i.push(g);t.sort(e),r.sort(e),n.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}meridiem("a",!0);meridiem("A",!1);function matchMeridiem(e,t){return t._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2,match1to2HasZero);addRegexToken("h",match1to2,match1to2NoLeadingZero);addRegexToken("k",match1to2,match1to2NoLeadingZero);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(e,t,r){var n=toInt(e);t[HOUR]=n===24?0:n});addParseToken(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});addParseToken(["h","hh"],function(e,t,r){t[HOUR]=toInt(e),getParsingFlags(r).bigHour=!0});addParseToken("hmm",function(e,t,r){var n=e.length-2;t[HOUR]=toInt(e.substr(0,n)),t[MINUTE]=toInt(e.substr(n)),getParsingFlags(r).bigHour=!0});addParseToken("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[HOUR]=toInt(e.substr(0,n)),t[MINUTE]=toInt(e.substr(n,2)),t[SECOND]=toInt(e.substr(i)),getParsingFlags(r).bigHour=!0});addParseToken("Hmm",function(e,t,r){var n=e.length-2;t[HOUR]=toInt(e.substr(0,n)),t[MINUTE]=toInt(e.substr(n))});addParseToken("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[HOUR]=toInt(e.substr(0,n)),t[MINUTE]=toInt(e.substr(n,2)),t[SECOND]=toInt(e.substr(i))});function localeIsPM(e){return(e+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function normalizeLocale(e){return e&&e.toLowerCase().replace("_","-")}function chooseLocale(e){for(var t=0,r,n,i,a;t<e.length;){for(a=normalizeLocale(e[t]).split("-"),r=a.length,n=normalizeLocale(e[t+1]),n=n?n.split("-"):null;r>0;){if(i=loadLocale(a.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&commonPrefix(a,n)>=r-1)break;r--}t++}return globalLocale}function isLocaleNameSane(e){return!!(e&&e.match("^[^/\\\\]*$"))}function loadLocale(e){var t=null,r;if(locales[e]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(e))try{t=globalLocale._abbr,r=require,r("./locale/"+e),getSetGlobalLocale(t)}catch{locales[e]=null}return locales[e]}function getSetGlobalLocale(e,t){var r;return e&&(isUndefined(t)?r=getLocale(e):r=defineLocale(e,t),r?globalLocale=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(e,t){if(t!==null){var r,n=baseConfig;if(t.abbr=e,locales[e]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=locales[e]._config;else if(t.parentLocale!=null)if(locales[t.parentLocale]!=null)n=locales[t.parentLocale]._config;else if(r=loadLocale(t.parentLocale),r!=null)n=r._config;else return localeFamilies[t.parentLocale]||(localeFamilies[t.parentLocale]=[]),localeFamilies[t.parentLocale].push({name:e,config:t}),null;return locales[e]=new Locale(mergeConfigs(n,t)),localeFamilies[e]&&localeFamilies[e].forEach(function(i){defineLocale(i.name,i.config)}),getSetGlobalLocale(e),locales[e]}else return delete locales[e],null}function updateLocale(e,t){if(t!=null){var r,n,i=baseConfig;locales[e]!=null&&locales[e].parentLocale!=null?locales[e].set(mergeConfigs(locales[e]._config,t)):(n=loadLocale(e),n!=null&&(i=n._config),t=mergeConfigs(i,t),n==null&&(t.abbr=e),r=new Locale(t),r.parentLocale=locales[e],locales[e]=r),getSetGlobalLocale(e)}else locales[e]!=null&&(locales[e].parentLocale!=null?(locales[e]=locales[e].parentLocale,e===getSetGlobalLocale()&&getSetGlobalLocale(e)):locales[e]!=null&&delete locales[e]);return locales[e]}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return globalLocale;if(!isArray(e)){if(t=loadLocale(e),t)return t;e=[e]}return chooseLocale(e)}function listLocales(){return keys(locales)}function checkOverflow(e){var t,r=e._a;return r&&getParsingFlags(e).overflow===-2&&(t=r[MONTH]<0||r[MONTH]>11?MONTH:r[DATE]<1||r[DATE]>daysInMonth(r[YEAR],r[MONTH])?DATE:r[HOUR]<0||r[HOUR]>24||r[HOUR]===24&&(r[MINUTE]!==0||r[SECOND]!==0||r[MILLISECOND]!==0)?HOUR:r[MINUTE]<0||r[MINUTE]>59?MINUTE:r[SECOND]<0||r[SECOND]>59?SECOND:r[MILLISECOND]<0||r[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(e)._overflowDayOfYear&&(t<YEAR||t>DATE)&&(t=DATE),getParsingFlags(e)._overflowWeeks&&t===-1&&(t=WEEK),getParsingFlags(e)._overflowWeekday&&t===-1&&(t=WEEKDAY),getParsingFlags(e).overflow=t),e}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromISO(e){var t,r,n=e._i,i=extendedIsoRegex.exec(n)||basicIsoRegex.exec(n),a,u,d,m,g=isoDates.length,x=isoTimes.length;if(i){for(getParsingFlags(e).iso=!0,t=0,r=g;t<r;t++)if(isoDates[t][1].exec(i[1])){u=isoDates[t][0],a=isoDates[t][2]!==!1;break}if(u==null){e._isValid=!1;return}if(i[3]){for(t=0,r=x;t<r;t++)if(isoTimes[t][1].exec(i[3])){d=(i[2]||" ")+isoTimes[t][0];break}if(d==null){e._isValid=!1;return}}if(!a&&d!=null){e._isValid=!1;return}if(i[4])if(tzRegex.exec(i[4]))m="Z";else{e._isValid=!1;return}e._f=u+(d||"")+(m||""),configFromStringAndFormat(e)}else e._isValid=!1}function extractFromRFC2822Strings(e,t,r,n,i,a){var u=[untruncateYear(e),defaultLocaleMonthsShort.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&u.push(parseInt(a,10)),u}function untruncateYear(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function preprocessRFC2822(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(e,t,r){if(e){var n=defaultLocaleWeekdaysShort.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(n!==i)return getParsingFlags(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function calculateOffset(e,t,r){if(e)return obsOffsets[e];if(t)return 0;var n=parseInt(r,10),i=n%100,a=(n-i)/100;return a*60+i}function configFromRFC2822(e){var t=rfc2822.exec(preprocessRFC2822(e._i)),r;if(t){if(r=extractFromRFC2822Strings(t[4],t[3],t[2],t[5],t[6],t[7]),!checkWeekday(t[1],r,e))return;e._a=r,e._tzm=calculateOffset(t[8],t[9],t[10]),e._d=createUTCDate.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),getParsingFlags(e).rfc2822=!0}else e._isValid=!1}function configFromString(e){var t=aspNetJsonRegex.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(configFromISO(e),e._isValid===!1)delete e._isValid;else return;if(configFromRFC2822(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:hooks.createFromInputFallback(e)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function defaults(e,t,r){return e??t??r}function currentDateArray(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,r,n=[],i,a,u;if(!e._d){for(i=currentDateArray(e),e._w&&e._a[DATE]==null&&e._a[MONTH]==null&&dayOfYearFromWeekInfo(e),e._dayOfYear!=null&&(u=defaults(e._a[YEAR],i[YEAR]),(e._dayOfYear>daysInYear(u)||e._dayOfYear===0)&&(getParsingFlags(e)._overflowDayOfYear=!0),r=createUTCDate(u,0,e._dayOfYear),e._a[MONTH]=r.getUTCMonth(),e._a[DATE]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=i[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[HOUR]===24&&e._a[MINUTE]===0&&e._a[SECOND]===0&&e._a[MILLISECOND]===0&&(e._nextDay=!0,e._a[HOUR]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[HOUR]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(getParsingFlags(e).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(e){var t,r,n,i,a,u,d,m,g;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,u=4,r=defaults(t.GG,e._a[YEAR],weekOfYear(createLocal(),1,4).year),n=defaults(t.W,1),i=defaults(t.E,1),(i<1||i>7)&&(m=!0)):(a=e._locale._week.dow,u=e._locale._week.doy,g=weekOfYear(createLocal(),a,u),r=defaults(t.gg,e._a[YEAR],g.year),n=defaults(t.w,g.week),t.d!=null?(i=t.d,(i<0||i>6)&&(m=!0)):t.e!=null?(i=t.e+a,(t.e<0||t.e>6)&&(m=!0)):i=a),n<1||n>weeksInYear(r,a,u)?getParsingFlags(e)._overflowWeeks=!0:m!=null?getParsingFlags(e)._overflowWeekday=!0:(d=dayOfYearFromWeeks(r,n,i,a,u),e._a[YEAR]=d.year,e._dayOfYear=d.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(e){if(e._f===hooks.ISO_8601){configFromISO(e);return}if(e._f===hooks.RFC_2822){configFromRFC2822(e);return}e._a=[],getParsingFlags(e).empty=!0;var t=""+e._i,r,n,i,a,u,d=t.length,m=0,g,x;for(i=expandFormat(e._f,e._locale).match(formattingTokens)||[],x=i.length,r=0;r<x;r++)a=i[r],n=(t.match(getParseRegexForToken(a,e))||[])[0],n&&(u=t.substr(0,t.indexOf(n)),u.length>0&&getParsingFlags(e).unusedInput.push(u),t=t.slice(t.indexOf(n)+n.length),m+=n.length),formatTokenFunctions[a]?(n?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(a),addTimeToArrayFromToken(a,n,e)):e._strict&&!n&&getParsingFlags(e).unusedTokens.push(a);getParsingFlags(e).charsLeftOver=d-m,t.length>0&&getParsingFlags(e).unusedInput.push(t),e._a[HOUR]<=12&&getParsingFlags(e).bigHour===!0&&e._a[HOUR]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[HOUR]=meridiemFixWrap(e._locale,e._a[HOUR],e._meridiem),g=getParsingFlags(e).era,g!==null&&(e._a[YEAR]=e._locale.erasConvertYear(g,e._a[YEAR])),configFromArray(e),checkOverflow(e)}function meridiemFixWrap(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function configFromStringAndArray(e){var t,r,n,i,a,u,d=!1,m=e._f.length;if(m===0){getParsingFlags(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<m;i++)a=0,u=!1,t=copyConfig({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],configFromStringAndFormat(t),isValid(t)&&(u=!0),a+=getParsingFlags(t).charsLeftOver,a+=getParsingFlags(t).unusedTokens.length*10,getParsingFlags(t).score=a,d?a<n&&(n=a,r=t):(n==null||a<n||u)&&(n=a,r=t,u&&(d=!0));extend(e,r||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i),r=t.day===void 0?t.date:t.day;e._a=map([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,r=e._f;return e._locale=e._locale||getLocale(e._l),t===null||r===void 0&&t===""?createInvalid({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isDate(t)?e._d=t:isArray(r)?configFromStringAndArray(e):r?configFromStringAndFormat(e):configFromInput(e),isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;isUndefined(t)?e._d=new Date(hooks.now()):isDate(t)?e._d=new Date(t.valueOf()):typeof t=="string"?configFromString(e):isArray(t)?(e._a=map(t.slice(0),function(r){return parseInt(r,10)}),configFromArray(e)):isObject(t)?configFromObject(e):isNumber(t)?e._d=new Date(t):hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,r,n,i){var a={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(isObject(e)&&isObjectEmpty(e)||isArray(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=e,a._f=t,a._strict=n,createFromConfig(a)}function createLocal(e,t,r,n){return createLocalOrUTC(e,t,r,n,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()});function pickBy(e,t){var r,n;if(t.length===1&&isArray(t[0])&&(t=t[0]),!t.length)return createLocal();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function min(){var e=[].slice.call(arguments,0);return pickBy("isBefore",e)}function max(){var e=[].slice.call(arguments,0);return pickBy("isAfter",e)}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(e){var t,r=!1,n,i=ordering.length;for(t in e)if(hasOwnProp(e,t)&&!(indexOf.call(ordering,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<i;++n)if(e[ordering[n]]){if(r)return!1;parseFloat(e[ordering[n]])!==toInt(e[ordering[n]])&&(r=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(e){var t=normalizeObjectUnits(e),r=t.year||0,n=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,u=t.day||0,d=t.hour||0,m=t.minute||0,g=t.second||0,x=t.millisecond||0;this._isValid=isDurationValid(t),this._milliseconds=+x+g*1e3+m*6e4+d*1e3*60*60,this._days=+u+a*7,this._months=+i+n*3+r*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function compareArrays(e,t,r){var n=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0,u;for(u=0;u<n;u++)toInt(e[u])!==toInt(t[u])&&a++;return a+i}function offset(e,t){addFormatToken(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+zeroFill(~~(r/60),2)+t+zeroFill(~~r%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=offsetFromString(matchShortOffset,e)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(e,t){var r=(t||"").match(e),n,i,a;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(chunkOffset)||["-",0,0],a=+(i[1]*60)+toInt(i[2]),a===0?0:i[0]==="+"?a:-a)}function cloneWithOffset(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(isMoment(e)||isDate(e)?e.valueOf():createLocal(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),hooks.updateOffset(r,!1),r):createLocal(e).local()}function getDateOffset(e){return-Math.round(e._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(e,t,r){var n=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=offsetFromString(matchShortOffset,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=getDateOffset(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:getDateOffset(this)}function getSetZone(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=offsetFromString(matchOffset,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(e){return this.isValid()?(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var e={},t;return copyConfig(e,this),e=prepareConfig(e),e._a?(t=e._isUTC?createUTC(e._a):createLocal(e._a),this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(e,t){var r=e,n=null,i,a,u;return isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:isNumber(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=aspNetRegex.exec(e))?(i=n[1]==="-"?-1:1,r={y:0,d:toInt(n[DATE])*i,h:toInt(n[HOUR])*i,m:toInt(n[MINUTE])*i,s:toInt(n[SECOND])*i,ms:toInt(absRound(n[MILLISECOND]*1e3))*i}):(n=isoRegex.exec(e))?(i=n[1]==="-"?-1:1,r={y:parseIso(n[2],i),M:parseIso(n[3],i),w:parseIso(n[4],i),d:parseIso(n[5],i),h:parseIso(n[6],i),m:parseIso(n[7],i),s:parseIso(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(u=momentsDifference(createLocal(r.from),createLocal(r.to)),r={},r.ms=u.milliseconds,r.M=u.months),a=new Duration(r),isDuration(e)&&hasOwnProp(e,"_locale")&&(a._locale=e._locale),isDuration(e)&&hasOwnProp(e,"_isValid")&&(a._isValid=e._isValid),a}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function positiveMomentsDifference(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function momentsDifference(e,t){var r;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?r=positiveMomentsDifference(e,t):(r=positiveMomentsDifference(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function createAdder(e,t){return function(r,n){var i,a;return n!==null&&!isNaN(+n)&&(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),i=createDuration(r,n),addSubtract(this,i,e),this}}function addSubtract(e,t,r,n){var i=t._milliseconds,a=absRound(t._days),u=absRound(t._months);e.isValid()&&(n=n??!0,u&&setMonth(e,get(e,"Month")+u*r),a&&set$1(e,"Date",get(e,"Date")+a*r),i&&e._d.setTime(e._d.valueOf()+i*r),n&&hooks.updateOffset(e,a||u))}var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString(e){return typeof e=="string"||e instanceof String}function isMomentInput(e){return isMoment(e)||isDate(e)||isString(e)||isNumber(e)||isNumberOrStringArray(e)||isMomentInputObject(e)||e===null||e===void 0}function isMomentInputObject(e){var t=isObject(e)&&!isObjectEmpty(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,u=n.length;for(i=0;i<u;i+=1)a=n[i],r=r||hasOwnProp(e,a);return t&&r}function isNumberOrStringArray(e){var t=isArray(e),r=!1;return t&&(r=e.filter(function(n){return!isNumber(n)&&isString(e)}).length===0),t&&r}function isCalendarSpec(e){var t=isObject(e)&&!isObjectEmpty(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],r=r||hasOwnProp(e,a);return t&&r}function getCalendarFormat(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function calendar$1(e,t){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(e=arguments[0],t=void 0):isCalendarSpec(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||createLocal(),n=cloneWithOffset(r,this).startOf("day"),i=hooks.calendarFormat(this,n)||"sameElse",a=t&&(isFunction(t[i])?t[i].call(this,r):t[i]);return this.format(a||this.localeData().calendar(i,this,createLocal(r)))}function clone(){return new Moment(this)}function isAfter(e,t){var r=isMoment(e)?e:createLocal(e);return this.isValid()&&r.isValid()?(t=normalizeUnits(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function isBefore(e,t){var r=isMoment(e)?e:createLocal(e);return this.isValid()&&r.isValid()?(t=normalizeUnits(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function isBetween(e,t,r,n){var i=isMoment(e)?e:createLocal(e),a=isMoment(t)?t:createLocal(t);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function isSame(e,t){var r=isMoment(e)?e:createLocal(e),n;return this.isValid()&&r.isValid()?(t=normalizeUnits(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,r){var n,i,a;if(!this.isValid())return NaN;if(n=cloneWithOffset(e,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,t=normalizeUnits(t),t){case"year":a=monthDiff(this,n)/12;break;case"month":a=monthDiff(this,n);break;case"quarter":a=monthDiff(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:absFloor(a)}function monthDiff(e,t){if(e.date()<t.date())return-monthDiff(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),i,a;return t-n<0?(i=e.clone().add(r-1,"months"),a=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),a=(t-n)/(i-n)),-(r+a)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?formatMoment(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(r,"Z")):formatMoment(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,i,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(r+n+i+a)}function format(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(createLocal(),e)}function to$1(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;return e===void 0?this._locale._abbr:(t=getLocale(e),t!=null&&(this._locale=t),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(e,t){return(e%t+t)%t}function localStartOfDate(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-MS_PER_400_YEARS:new Date(e,t,r).valueOf()}function utcStartOfDate(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-MS_PER_400_YEARS:Date.UTC(e,t,r)}function startOf(e){var t,r;if(e=normalizeUnits(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?utcStartOfDate:localStartOfDate,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":t=this._d.valueOf(),t-=mod$1(t,MS_PER_MINUTE);break;case"second":t=this._d.valueOf(),t-=mod$1(t,MS_PER_SECOND);break}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function endOf(e){var t,r;if(e=normalizeUnits(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?utcStartOfDate:localStartOfDate,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=MS_PER_HOUR-mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":t=this._d.valueOf(),t+=MS_PER_MINUTE-mod$1(t,MS_PER_MINUTE)-1;break;case"second":t=this._d.valueOf(),t+=MS_PER_SECOND-mod$1(t,MS_PER_SECOND)-1;break}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?getParsingFlags(r).era=i:getParsingFlags(r).invalidEra=e});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[YEAR]=r._locale.eraYearOrdinalParse(e,i):t[YEAR]=parseInt(e,10)});function localeEras(e,t){var r,n,i,a=this._eras||getLocale("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":i=hooks(a[r].since).startOf("day"),a[r].since=i.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=hooks(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf();break}}return a}function localeErasParse(e,t,r){var n,i,a=this.eras(),u,d,m;for(e=e.toUpperCase(),n=0,i=a.length;n<i;++n)if(u=a[n].name.toUpperCase(),d=a[n].abbr.toUpperCase(),m=a[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(d===e)return a[n];break;case"NNNN":if(u===e)return a[n];break;case"NNNNN":if(m===e)return a[n];break}else if([u,d,m].indexOf(e)>=0)return a[n]}function localeErasConvertYear(e,t){var r=e.since<=e.until?1:-1;return t===void 0?hooks(e.since).year():hooks(e.since).year()+(t-e.offset)*r}function getEraName(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function getEraNarrow(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function getEraAbbr(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function getEraYear(){var e,t,r,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return(this.year()-hooks(i[e].since).year())*r+i[e].offset;return this.year()}function erasNameRegex(e){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),e?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(e){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),e?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(e){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),e?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(e,t){return t.erasAbbrRegex(e)}function matchEraName(e,t){return t.erasNameRegex(e)}function matchEraNarrow(e,t){return t.erasNarrowRegex(e)}function matchEraYearOrdinal(e,t){return t._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var e=[],t=[],r=[],n=[],i,a,u,d,m,g=this.eras();for(i=0,a=g.length;i<a;++i)u=regexEscape(g[i].name),d=regexEscape(g[i].abbr),m=regexEscape(g[i].narrow),t.push(u),e.push(d),r.push(m),n.push(u),n.push(d),n.push(m);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=toInt(e)});addWeekParseToken(["gg","GG"],function(e,t,r,n){t[n]=hooks.parseTwoDigitYear(e)});function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getWeeksInWeekYear(){var e=this.localeData()._week;return weeksInYear(this.weekYear(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,r,n,i){var a;return e==null?weekOfYear(this,n,i).year:(a=weeksInYear(e,n,i),t>a&&(t=a),setWeekAll.call(this,e,t,r,n,i))}function setWeekAll(e,t,r,n,i){var a=dayOfYearFromWeeks(e,t,r,n,i),u=createUTCDate(a.year,0,a.dayOfYear);return this.year(u.getUTCFullYear()),this.month(u.getUTCMonth()),this.date(u.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addRegexToken("Q",match1);addParseToken("Q",function(e,t){t[MONTH]=(toInt(e)-1)*3});function getSetQuarter(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addRegexToken("D",match1to2,match1to2NoLeadingZero);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(e,t){t[DATE]=toInt(e.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(e,t,r){r._dayOfYear=toInt(e)});function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}addFormatToken("m",["mm",2],0,"minute");addRegexToken("m",match1to2,match1to2HasZero);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addRegexToken("s",match1to2,match1to2HasZero);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(e,t){t[MILLISECOND]=toInt(("0."+e)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format;proto.from=from;proto.fromNow=fromNow;proto.to=to$1;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(e){return createLocal(e*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(e){return e}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1(e,t,r,n){var i=getLocale(),a=createUTC().set(n,t);return i[r](a,e)}function listMonthsImpl(e,t,r){if(isNumber(e)&&(t=e,e=void 0),e=e||"",t!=null)return get$1(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=get$1(e,n,r,"month");return i}function listWeekdaysImpl(e,t,r,n){typeof e=="boolean"?(isNumber(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,isNumber(t)&&(r=t,t=void 0),t=t||"");var i=getLocale(),a=e?i._week.dow:0,u,d=[];if(r!=null)return get$1(t,(r+a)%7,n,"day");for(u=0;u<7;u++)d[u]=get$1(t,(u+a)%7,n,"day");return d}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,r){return listWeekdaysImpl(e,t,r,"weekdays")}function listWeekdaysShort(e,t,r){return listWeekdaysImpl(e,t,r,"weekdaysShort")}function listWeekdaysMin(e,t,r){return listWeekdaysImpl(e,t,r,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=toInt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var e=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),e.milliseconds=mathAbs(e.milliseconds),e.seconds=mathAbs(e.seconds),e.minutes=mathAbs(e.minutes),e.hours=mathAbs(e.hours),e.months=mathAbs(e.months),e.years=mathAbs(e.years),this}function addSubtract$1(e,t,r,n){var i=createDuration(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function bubble(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,i,a,u,d,m;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=absCeil(monthsToDays(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,i=absFloor(e/1e3),n.seconds=i%60,a=absFloor(i/60),n.minutes=a%60,u=absFloor(a/60),n.hours=u%24,t+=absFloor(u/24),m=absFloor(daysToMonths(t)),r+=m,t-=absCeil(monthsToDays(m)),d=absFloor(r/12),r%=12,n.days=t,n.months=r,n.years=d,this}function daysToMonths(e){return e*4800/146097}function monthsToDays(e){return e*146097/4800}function as$1(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=normalizeUnits(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+daysToMonths(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function makeAs(e){return function(){return this.as(e)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y"),valueOf$1=asMilliseconds;function clone$1(){return createDuration(this)}function get$2(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN}function makeGetter(e){return function(){return this.isValid()?this._data[e]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function relativeTime$1(e,t,r,n){var i=createDuration(e).abs(),a=round(i.as("s")),u=round(i.as("m")),d=round(i.as("h")),m=round(i.as("d")),g=round(i.as("M")),x=round(i.as("w")),R=round(i.as("y")),O=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||u<=1&&["m"]||u<r.m&&["mm",u]||d<=1&&["h"]||d<r.h&&["hh",d]||m<=1&&["d"]||m<r.d&&["dd",m];return r.w!=null&&(O=O||x<=1&&["w"]||x<r.w&&["ww",x]),O=O||g<=1&&["M"]||g<r.M&&["MM",g]||R<=1&&["y"]||["yy",R],O[2]=t,O[3]=+e>0,O[4]=n,substituteTimeAgo.apply(null,O)}function getSetRelativeTimeRounding(e){return e===void 0?round:typeof e=="function"?(round=e,!0):!1}function getSetRelativeTimeThreshold(e,t){return thresholds[e]===void 0?!1:t===void 0?thresholds[e]:(thresholds[e]=t,e==="s"&&(thresholds.ss=t-1),!0)}function humanize(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=thresholds,i,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},thresholds,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),i=this.localeData(),a=relativeTime$1(this,!r,n,i),r&&(a=i.pastFuture(+this,a)),i.postformat(a)}var abs$1=Math.abs;function sign(e){return(e>0)-(e<0)||+e}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var e=abs$1(this._milliseconds)/1e3,t=abs$1(this._days),r=abs$1(this._months),n,i,a,u,d=this.asSeconds(),m,g,x,R;return d?(n=absFloor(e/60),i=absFloor(n/60),e%=60,n%=60,a=absFloor(r/12),r%=12,u=e?e.toFixed(3).replace(/\.?0+$/,""):"",m=d<0?"-":"",g=sign(this._months)!==sign(d)?"-":"",x=sign(this._days)!==sign(d)?"-":"",R=sign(this._milliseconds)!==sign(d)?"-":"",m+"P"+(a?g+a+"Y":"")+(r?g+r+"M":"")+(t?x+t+"D":"")+(i||n||e?"T":"")+(i?R+i+"H":"")+(n?R+n+"M":"")+(e?R+u+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1;proto$2.subtract=subtract$1;proto$2.as=as$1;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});addParseToken("x",function(e,t,r){r._d=new Date(toInt(e))});//! moment.js
hooks.version="2.30.1";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const moment=Object.freeze(Object.defineProperty({__proto__:null,default:hooks},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(moment);/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */var Chart=Chart$1.exports,hasRequiredChart;function requireChart(){return hasRequiredChart||(hasRequiredChart=1,(function(e,t){(function(r,n){e.exports=n((function(){try{return require$$0}catch{}})())})(Chart,(function(r){r=r&&r.hasOwnProperty("default")?r.default:r;function n(s,o){return o={exports:{}},s(o,o.exports),o.exports}function i(s){return s&&s.default||s}var a={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},u=n(function(s){var o={};for(var l in a)a.hasOwnProperty(l)&&(o[a[l]]=l);var c=s.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var p in c)if(c.hasOwnProperty(p)){if(!("channels"in c[p]))throw new Error("missing channels property: "+p);if(!("labels"in c[p]))throw new Error("missing channel labels property: "+p);if(c[p].labels.length!==c[p].channels)throw new Error("channel and label counts mismatch: "+p);var y=c[p].channels,M=c[p].labels;delete c[p].channels,delete c[p].labels,Object.defineProperty(c[p],"channels",{value:y}),Object.defineProperty(c[p],"labels",{value:M})}c.rgb.hsl=function(I){var U=I[0]/255,Z=I[1]/255,ee=I[2]/255,ye=Math.min(U,Z,ee),Ce=Math.max(U,Z,ee),De=Ce-ye,Be,ot,_n;return Ce===ye?Be=0:U===Ce?Be=(Z-ee)/De:Z===Ce?Be=2+(ee-U)/De:ee===Ce&&(Be=4+(U-Z)/De),Be=Math.min(Be*60,360),Be<0&&(Be+=360),_n=(ye+Ce)/2,Ce===ye?ot=0:_n<=.5?ot=De/(Ce+ye):ot=De/(2-Ce-ye),[Be,ot*100,_n*100]},c.rgb.hsv=function(I){var U,Z,ee,ye,Ce,De=I[0]/255,Be=I[1]/255,ot=I[2]/255,_n=Math.max(De,Be,ot),Cn=_n-Math.min(De,Be,ot),rs=function(ai){return(_n-ai)/6/Cn+1/2};return Cn===0?ye=Ce=0:(Ce=Cn/_n,U=rs(De),Z=rs(Be),ee=rs(ot),De===_n?ye=ee-Z:Be===_n?ye=1/3+U-ee:ot===_n&&(ye=2/3+Z-U),ye<0?ye+=1:ye>1&&(ye-=1)),[ye*360,Ce*100,_n*100]},c.rgb.hwb=function(I){var U=I[0],Z=I[1],ee=I[2],ye=c.rgb.hsl(I)[0],Ce=1/255*Math.min(U,Math.min(Z,ee));return ee=1-1/255*Math.max(U,Math.max(Z,ee)),[ye,Ce*100,ee*100]},c.rgb.cmyk=function(I){var U=I[0]/255,Z=I[1]/255,ee=I[2]/255,ye,Ce,De,Be;return Be=Math.min(1-U,1-Z,1-ee),ye=(1-U-Be)/(1-Be)||0,Ce=(1-Z-Be)/(1-Be)||0,De=(1-ee-Be)/(1-Be)||0,[ye*100,Ce*100,De*100,Be*100]};function L(I,U){return Math.pow(I[0]-U[0],2)+Math.pow(I[1]-U[1],2)+Math.pow(I[2]-U[2],2)}c.rgb.keyword=function(I){var U=o[I];if(U)return U;var Z=1/0,ee;for(var ye in a)if(a.hasOwnProperty(ye)){var Ce=a[ye],De=L(I,Ce);De<Z&&(Z=De,ee=ye)}return ee},c.keyword.rgb=function(I){return a[I]},c.rgb.xyz=function(I){var U=I[0]/255,Z=I[1]/255,ee=I[2]/255;U=U>.04045?Math.pow((U+.055)/1.055,2.4):U/12.92,Z=Z>.04045?Math.pow((Z+.055)/1.055,2.4):Z/12.92,ee=ee>.04045?Math.pow((ee+.055)/1.055,2.4):ee/12.92;var ye=U*.4124+Z*.3576+ee*.1805,Ce=U*.2126+Z*.7152+ee*.0722,De=U*.0193+Z*.1192+ee*.9505;return[ye*100,Ce*100,De*100]},c.rgb.lab=function(I){var U=c.rgb.xyz(I),Z=U[0],ee=U[1],ye=U[2],Ce,De,Be;return Z/=95.047,ee/=100,ye/=108.883,Z=Z>.008856?Math.pow(Z,1/3):7.787*Z+16/116,ee=ee>.008856?Math.pow(ee,1/3):7.787*ee+16/116,ye=ye>.008856?Math.pow(ye,1/3):7.787*ye+16/116,Ce=116*ee-16,De=500*(Z-ee),Be=200*(ee-ye),[Ce,De,Be]},c.hsl.rgb=function(I){var U=I[0]/360,Z=I[1]/100,ee=I[2]/100,ye,Ce,De,Be,ot;if(Z===0)return ot=ee*255,[ot,ot,ot];ee<.5?Ce=ee*(1+Z):Ce=ee+Z-ee*Z,ye=2*ee-Ce,Be=[0,0,0];for(var _n=0;_n<3;_n++)De=U+1/3*-(_n-1),De<0&&De++,De>1&&De--,6*De<1?ot=ye+(Ce-ye)*6*De:2*De<1?ot=Ce:3*De<2?ot=ye+(Ce-ye)*(2/3-De)*6:ot=ye,Be[_n]=ot*255;return Be},c.hsl.hsv=function(I){var U=I[0],Z=I[1]/100,ee=I[2]/100,ye=Z,Ce=Math.max(ee,.01),De,Be;return ee*=2,Z*=ee<=1?ee:2-ee,ye*=Ce<=1?Ce:2-Ce,Be=(ee+Z)/2,De=ee===0?2*ye/(Ce+ye):2*Z/(ee+Z),[U,De*100,Be*100]},c.hsv.rgb=function(I){var U=I[0]/60,Z=I[1]/100,ee=I[2]/100,ye=Math.floor(U)%6,Ce=U-Math.floor(U),De=255*ee*(1-Z),Be=255*ee*(1-Z*Ce),ot=255*ee*(1-Z*(1-Ce));switch(ee*=255,ye){case 0:return[ee,ot,De];case 1:return[Be,ee,De];case 2:return[De,ee,ot];case 3:return[De,Be,ee];case 4:return[ot,De,ee];case 5:return[ee,De,Be]}},c.hsv.hsl=function(I){var U=I[0],Z=I[1]/100,ee=I[2]/100,ye=Math.max(ee,.01),Ce,De,Be;return Be=(2-Z)*ee,Ce=(2-Z)*ye,De=Z*ye,De/=Ce<=1?Ce:2-Ce,De=De||0,Be/=2,[U,De*100,Be*100]},c.hwb.rgb=function(I){var U=I[0]/360,Z=I[1]/100,ee=I[2]/100,ye=Z+ee,Ce,De,Be,ot;ye>1&&(Z/=ye,ee/=ye),Ce=Math.floor(6*U),De=1-ee,Be=6*U-Ce,(Ce&1)!==0&&(Be=1-Be),ot=Z+Be*(De-Z);var _n,Cn,rs;switch(Ce){default:case 6:case 0:_n=De,Cn=ot,rs=Z;break;case 1:_n=ot,Cn=De,rs=Z;break;case 2:_n=Z,Cn=De,rs=ot;break;case 3:_n=Z,Cn=ot,rs=De;break;case 4:_n=ot,Cn=Z,rs=De;break;case 5:_n=De,Cn=Z,rs=ot;break}return[_n*255,Cn*255,rs*255]},c.cmyk.rgb=function(I){var U=I[0]/100,Z=I[1]/100,ee=I[2]/100,ye=I[3]/100,Ce,De,Be;return Ce=1-Math.min(1,U*(1-ye)+ye),De=1-Math.min(1,Z*(1-ye)+ye),Be=1-Math.min(1,ee*(1-ye)+ye),[Ce*255,De*255,Be*255]},c.xyz.rgb=function(I){var U=I[0]/100,Z=I[1]/100,ee=I[2]/100,ye,Ce,De;return ye=U*3.2406+Z*-1.5372+ee*-.4986,Ce=U*-.9689+Z*1.8758+ee*.0415,De=U*.0557+Z*-.204+ee*1.057,ye=ye>.0031308?1.055*Math.pow(ye,1/2.4)-.055:ye*12.92,Ce=Ce>.0031308?1.055*Math.pow(Ce,1/2.4)-.055:Ce*12.92,De=De>.0031308?1.055*Math.pow(De,1/2.4)-.055:De*12.92,ye=Math.min(Math.max(0,ye),1),Ce=Math.min(Math.max(0,Ce),1),De=Math.min(Math.max(0,De),1),[ye*255,Ce*255,De*255]},c.xyz.lab=function(I){var U=I[0],Z=I[1],ee=I[2],ye,Ce,De;return U/=95.047,Z/=100,ee/=108.883,U=U>.008856?Math.pow(U,1/3):7.787*U+16/116,Z=Z>.008856?Math.pow(Z,1/3):7.787*Z+16/116,ee=ee>.008856?Math.pow(ee,1/3):7.787*ee+16/116,ye=116*Z-16,Ce=500*(U-Z),De=200*(Z-ee),[ye,Ce,De]},c.lab.xyz=function(I){var U=I[0],Z=I[1],ee=I[2],ye,Ce,De;Ce=(U+16)/116,ye=Z/500+Ce,De=Ce-ee/200;var Be=Math.pow(Ce,3),ot=Math.pow(ye,3),_n=Math.pow(De,3);return Ce=Be>.008856?Be:(Ce-16/116)/7.787,ye=ot>.008856?ot:(ye-16/116)/7.787,De=_n>.008856?_n:(De-16/116)/7.787,ye*=95.047,Ce*=100,De*=108.883,[ye,Ce,De]},c.lab.lch=function(I){var U=I[0],Z=I[1],ee=I[2],ye,Ce,De;return ye=Math.atan2(ee,Z),Ce=ye*360/2/Math.PI,Ce<0&&(Ce+=360),De=Math.sqrt(Z*Z+ee*ee),[U,De,Ce]},c.lch.lab=function(I){var U=I[0],Z=I[1],ee=I[2],ye,Ce,De;return De=ee/360*2*Math.PI,ye=Z*Math.cos(De),Ce=Z*Math.sin(De),[U,ye,Ce]},c.rgb.ansi16=function(I){var U=I[0],Z=I[1],ee=I[2],ye=1 in arguments?arguments[1]:c.rgb.hsv(I)[2];if(ye=Math.round(ye/50),ye===0)return 30;var Ce=30+(Math.round(ee/255)<<2|Math.round(Z/255)<<1|Math.round(U/255));return ye===2&&(Ce+=60),Ce},c.hsv.ansi16=function(I){return c.rgb.ansi16(c.hsv.rgb(I),I[2])},c.rgb.ansi256=function(I){var U=I[0],Z=I[1],ee=I[2];if(U===Z&&Z===ee)return U<8?16:U>248?231:Math.round((U-8)/247*24)+232;var ye=16+36*Math.round(U/255*5)+6*Math.round(Z/255*5)+Math.round(ee/255*5);return ye},c.ansi16.rgb=function(I){var U=I%10;if(U===0||U===7)return I>50&&(U+=3.5),U=U/10.5*255,[U,U,U];var Z=(~~(I>50)+1)*.5,ee=(U&1)*Z*255,ye=(U>>1&1)*Z*255,Ce=(U>>2&1)*Z*255;return[ee,ye,Ce]},c.ansi256.rgb=function(I){if(I>=232){var U=(I-232)*10+8;return[U,U,U]}I-=16;var Z,ee=Math.floor(I/36)/5*255,ye=Math.floor((Z=I%36)/6)/5*255,Ce=Z%6/5*255;return[ee,ye,Ce]},c.rgb.hex=function(I){var U=((Math.round(I[0])&255)<<16)+((Math.round(I[1])&255)<<8)+(Math.round(I[2])&255),Z=U.toString(16).toUpperCase();return"000000".substring(Z.length)+Z},c.hex.rgb=function(I){var U=I.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!U)return[0,0,0];var Z=U[0];U[0].length===3&&(Z=Z.split("").map(function(Be){return Be+Be}).join(""));var ee=parseInt(Z,16),ye=ee>>16&255,Ce=ee>>8&255,De=ee&255;return[ye,Ce,De]},c.rgb.hcg=function(I){var U=I[0]/255,Z=I[1]/255,ee=I[2]/255,ye=Math.max(Math.max(U,Z),ee),Ce=Math.min(Math.min(U,Z),ee),De=ye-Ce,Be,ot;return De<1?Be=Ce/(1-De):Be=0,De<=0?ot=0:ye===U?ot=(Z-ee)/De%6:ye===Z?ot=2+(ee-U)/De:ot=4+(U-Z)/De+4,ot/=6,ot%=1,[ot*360,De*100,Be*100]},c.hsl.hcg=function(I){var U=I[1]/100,Z=I[2]/100,ee=1,ye=0;return Z<.5?ee=2*U*Z:ee=2*U*(1-Z),ee<1&&(ye=(Z-.5*ee)/(1-ee)),[I[0],ee*100,ye*100]},c.hsv.hcg=function(I){var U=I[1]/100,Z=I[2]/100,ee=U*Z,ye=0;return ee<1&&(ye=(Z-ee)/(1-ee)),[I[0],ee*100,ye*100]},c.hcg.rgb=function(I){var U=I[0]/360,Z=I[1]/100,ee=I[2]/100;if(Z===0)return[ee*255,ee*255,ee*255];var ye=[0,0,0],Ce=U%1*6,De=Ce%1,Be=1-De,ot=0;switch(Math.floor(Ce)){case 0:ye[0]=1,ye[1]=De,ye[2]=0;break;case 1:ye[0]=Be,ye[1]=1,ye[2]=0;break;case 2:ye[0]=0,ye[1]=1,ye[2]=De;break;case 3:ye[0]=0,ye[1]=Be,ye[2]=1;break;case 4:ye[0]=De,ye[1]=0,ye[2]=1;break;default:ye[0]=1,ye[1]=0,ye[2]=Be}return ot=(1-Z)*ee,[(Z*ye[0]+ot)*255,(Z*ye[1]+ot)*255,(Z*ye[2]+ot)*255]},c.hcg.hsv=function(I){var U=I[1]/100,Z=I[2]/100,ee=U+Z*(1-U),ye=0;return ee>0&&(ye=U/ee),[I[0],ye*100,ee*100]},c.hcg.hsl=function(I){var U=I[1]/100,Z=I[2]/100,ee=Z*(1-U)+.5*U,ye=0;return ee>0&&ee<.5?ye=U/(2*ee):ee>=.5&&ee<1&&(ye=U/(2*(1-ee))),[I[0],ye*100,ee*100]},c.hcg.hwb=function(I){var U=I[1]/100,Z=I[2]/100,ee=U+Z*(1-U);return[I[0],(ee-U)*100,(1-ee)*100]},c.hwb.hcg=function(I){var U=I[1]/100,Z=I[2]/100,ee=1-Z,ye=ee-U,Ce=0;return ye<1&&(Ce=(ee-ye)/(1-ye)),[I[0],ye*100,Ce*100]},c.apple.rgb=function(I){return[I[0]/65535*255,I[1]/65535*255,I[2]/65535*255]},c.rgb.apple=function(I){return[I[0]/255*65535,I[1]/255*65535,I[2]/255*65535]},c.gray.rgb=function(I){return[I[0]/100*255,I[0]/100*255,I[0]/100*255]},c.gray.hsl=c.gray.hsv=function(I){return[0,0,I[0]]},c.gray.hwb=function(I){return[0,100,I[0]]},c.gray.cmyk=function(I){return[0,0,0,I[0]]},c.gray.lab=function(I){return[I[0],0,0]},c.gray.hex=function(I){var U=Math.round(I[0]/100*255)&255,Z=(U<<16)+(U<<8)+U,ee=Z.toString(16).toUpperCase();return"000000".substring(ee.length)+ee},c.rgb.gray=function(I){var U=(I[0]+I[1]+I[2])/3;return[U/255*100]}});u.rgb,u.hsl,u.hsv,u.hwb,u.cmyk,u.xyz,u.lab,u.lch,u.hex,u.keyword,u.ansi16,u.ansi256,u.hcg,u.apple,u.gray;function d(){for(var s={},o=Object.keys(u),l=o.length,c=0;c<l;c++)s[o[c]]={distance:-1,parent:null};return s}function m(s){var o=d(),l=[s];for(o[s].distance=0;l.length;)for(var c=l.pop(),p=Object.keys(u[c]),y=p.length,M=0;M<y;M++){var L=p[M],I=o[L];I.distance===-1&&(I.distance=o[c].distance+1,I.parent=c,l.unshift(L))}return o}function g(s,o){return function(l){return o(s(l))}}function x(s,o){for(var l=[o[s].parent,s],c=u[o[s].parent][s],p=o[s].parent;o[p].parent;)l.unshift(o[p].parent),c=g(u[o[p].parent][p],c),p=o[p].parent;return c.conversion=l,c}var R=function(s){for(var o=m(s),l={},c=Object.keys(o),p=c.length,y=0;y<p;y++){var M=c[y],L=o[M];L.parent!==null&&(l[M]=x(M,o))}return l},O={},q=Object.keys(u);function B(s){var o=function(l){return l==null?l:(arguments.length>1&&(l=Array.prototype.slice.call(arguments)),s(l))};return"conversion"in s&&(o.conversion=s.conversion),o}function F(s){var o=function(l){if(l==null)return l;arguments.length>1&&(l=Array.prototype.slice.call(arguments));var c=s(l);if(typeof c=="object")for(var p=c.length,y=0;y<p;y++)c[y]=Math.round(c[y]);return c};return"conversion"in s&&(o.conversion=s.conversion),o}q.forEach(function(s){O[s]={},Object.defineProperty(O[s],"channels",{value:u[s].channels}),Object.defineProperty(O[s],"labels",{value:u[s].labels});var o=R(s),l=Object.keys(o);l.forEach(function(c){var p=o[c];O[s][c]=F(p),O[s][c].raw=B(p)})});var D=O,V={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},j={getRgba:K,getHsla:Q,getRgb:G,getHsl:re,getHwb:z,getAlpha:de,hexString:Oe,rgbString:Ve,rgbaString:wt,percentString:Mt,percentaString:mn,hslString:bn,hslaString:$n,hwbString:Rn,keyword:wn};function K(s){if(s){var o=/^#([a-fA-F0-9]{3,4})$/i,l=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,c=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,p=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,y=/(\w+)/,M=[0,0,0],L=1,I=s.match(o),U="";if(I){I=I[1],U=I[3];for(var Z=0;Z<M.length;Z++)M[Z]=parseInt(I[Z]+I[Z],16);U&&(L=Math.round(parseInt(U+U,16)/255*100)/100)}else if(I=s.match(l)){U=I[2],I=I[1];for(var Z=0;Z<M.length;Z++)M[Z]=parseInt(I.slice(Z*2,Z*2+2),16);U&&(L=Math.round(parseInt(U,16)/255*100)/100)}else if(I=s.match(c)){for(var Z=0;Z<M.length;Z++)M[Z]=parseInt(I[Z+1]);L=parseFloat(I[4])}else if(I=s.match(p)){for(var Z=0;Z<M.length;Z++)M[Z]=Math.round(parseFloat(I[Z+1])*2.55);L=parseFloat(I[4])}else if(I=s.match(y)){if(I[1]=="transparent")return[0,0,0,0];if(M=V[I[1]],!M)return}for(var Z=0;Z<M.length;Z++)M[Z]=gn(M[Z],0,255);return!L&&L!=0?L=1:L=gn(L,0,1),M[3]=L,M}}function Q(s){if(s){var o=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,l=s.match(o);if(l){var c=parseFloat(l[4]),p=gn(parseInt(l[1]),0,360),y=gn(parseFloat(l[2]),0,100),M=gn(parseFloat(l[3]),0,100),L=gn(isNaN(c)?1:c,0,1);return[p,y,M,L]}}}function z(s){if(s){var o=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,l=s.match(o);if(l){var c=parseFloat(l[4]),p=gn(parseInt(l[1]),0,360),y=gn(parseFloat(l[2]),0,100),M=gn(parseFloat(l[3]),0,100),L=gn(isNaN(c)?1:c,0,1);return[p,y,M,L]}}}function G(s){var o=K(s);return o&&o.slice(0,3)}function re(s){var o=Q(s);return o&&o.slice(0,3)}function de(s){var o=K(s);if(o)return o[3];if(o=Q(s))return o[3];if(o=z(s))return o[3]}function Oe(s,l){var l=l!==void 0&&s.length===3?l:s[3];return"#"+Sn(s[0])+Sn(s[1])+Sn(s[2])+(l>=0&&l<1?Sn(Math.round(l*255)):"")}function Ve(s,o){return o<1||s[3]&&s[3]<1?wt(s,o):"rgb("+s[0]+", "+s[1]+", "+s[2]+")"}function wt(s,o){return o===void 0&&(o=s[3]!==void 0?s[3]:1),"rgba("+s[0]+", "+s[1]+", "+s[2]+", "+o+")"}function Mt(s,o){if(o<1||s[3]&&s[3]<1)return mn(s,o);var l=Math.round(s[0]/255*100),c=Math.round(s[1]/255*100),p=Math.round(s[2]/255*100);return"rgb("+l+"%, "+c+"%, "+p+"%)"}function mn(s,o){var l=Math.round(s[0]/255*100),c=Math.round(s[1]/255*100),p=Math.round(s[2]/255*100);return"rgba("+l+"%, "+c+"%, "+p+"%, "+(o||s[3]||1)+")"}function bn(s,o){return o<1||s[3]&&s[3]<1?$n(s,o):"hsl("+s[0]+", "+s[1]+"%, "+s[2]+"%)"}function $n(s,o){return o===void 0&&(o=s[3]!==void 0?s[3]:1),"hsla("+s[0]+", "+s[1]+"%, "+s[2]+"%, "+o+")"}function Rn(s,o){return o===void 0&&(o=s[3]!==void 0?s[3]:1),"hwb("+s[0]+", "+s[1]+"%, "+s[2]+"%"+(o!==void 0&&o!==1?", "+o:"")+")"}function wn(s){return Je[s.slice(0,3)]}function gn(s,o,l){return Math.min(Math.max(o,s),l)}function Sn(s){var o=s.toString(16).toUpperCase();return o.length<2?"0"+o:o}var Je={};for(var Le in V)Je[V[Le]]=Le;var ct=function(s){if(s instanceof ct)return s;if(!(this instanceof ct))return new ct(s);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var o;typeof s=="string"?(o=j.getRgba(s),o?this.setValues("rgb",o):(o=j.getHsla(s))?this.setValues("hsl",o):(o=j.getHwb(s))&&this.setValues("hwb",o)):typeof s=="object"&&(o=s,o.r!==void 0||o.red!==void 0?this.setValues("rgb",o):o.l!==void 0||o.lightness!==void 0?this.setValues("hsl",o):o.v!==void 0||o.value!==void 0?this.setValues("hsv",o):o.w!==void 0||o.whiteness!==void 0?this.setValues("hwb",o):(o.c!==void 0||o.cyan!==void 0)&&this.setValues("cmyk",o))};ct.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var s=this.values;return s.alpha!==1?s.hwb.concat([s.alpha]):s.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var s=this.values;return s.rgb.concat([s.alpha])},hslaArray:function(){var s=this.values;return s.hsl.concat([s.alpha])},alpha:function(s){return s===void 0?this.values.alpha:(this.setValues("alpha",s),this)},red:function(s){return this.setChannel("rgb",0,s)},green:function(s){return this.setChannel("rgb",1,s)},blue:function(s){return this.setChannel("rgb",2,s)},hue:function(s){return s&&(s%=360,s=s<0?360+s:s),this.setChannel("hsl",0,s)},saturation:function(s){return this.setChannel("hsl",1,s)},lightness:function(s){return this.setChannel("hsl",2,s)},saturationv:function(s){return this.setChannel("hsv",1,s)},whiteness:function(s){return this.setChannel("hwb",1,s)},blackness:function(s){return this.setChannel("hwb",2,s)},value:function(s){return this.setChannel("hsv",2,s)},cyan:function(s){return this.setChannel("cmyk",0,s)},magenta:function(s){return this.setChannel("cmyk",1,s)},yellow:function(s){return this.setChannel("cmyk",2,s)},black:function(s){return this.setChannel("cmyk",3,s)},hexString:function(){return j.hexString(this.values.rgb)},rgbString:function(){return j.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return j.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return j.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return j.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return j.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return j.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return j.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var s=this.values.rgb;return s[0]<<16|s[1]<<8|s[2]},luminosity:function(){for(var s=this.values.rgb,o=[],l=0;l<s.length;l++){var c=s[l]/255;o[l]=c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}return .2126*o[0]+.7152*o[1]+.0722*o[2]},contrast:function(s){var o=this.luminosity(),l=s.luminosity();return o>l?(o+.05)/(l+.05):(l+.05)/(o+.05)},level:function(s){var o=this.contrast(s);return o>=7.1?"AAA":o>=4.5?"AA":""},dark:function(){var s=this.values.rgb,o=(s[0]*299+s[1]*587+s[2]*114)/1e3;return o<128},light:function(){return!this.dark()},negate:function(){for(var s=[],o=0;o<3;o++)s[o]=255-this.values.rgb[o];return this.setValues("rgb",s),this},lighten:function(s){var o=this.values.hsl;return o[2]+=o[2]*s,this.setValues("hsl",o),this},darken:function(s){var o=this.values.hsl;return o[2]-=o[2]*s,this.setValues("hsl",o),this},saturate:function(s){var o=this.values.hsl;return o[1]+=o[1]*s,this.setValues("hsl",o),this},desaturate:function(s){var o=this.values.hsl;return o[1]-=o[1]*s,this.setValues("hsl",o),this},whiten:function(s){var o=this.values.hwb;return o[1]+=o[1]*s,this.setValues("hwb",o),this},blacken:function(s){var o=this.values.hwb;return o[2]+=o[2]*s,this.setValues("hwb",o),this},greyscale:function(){var s=this.values.rgb,o=s[0]*.3+s[1]*.59+s[2]*.11;return this.setValues("rgb",[o,o,o]),this},clearer:function(s){var o=this.values.alpha;return this.setValues("alpha",o-o*s),this},opaquer:function(s){var o=this.values.alpha;return this.setValues("alpha",o+o*s),this},rotate:function(s){var o=this.values.hsl,l=(o[0]+s)%360;return o[0]=l<0?360+l:l,this.setValues("hsl",o),this},mix:function(s,o){var l=this,c=s,p=o===void 0?.5:o,y=2*p-1,M=l.alpha()-c.alpha(),L=((y*M===-1?y:(y+M)/(1+y*M))+1)/2,I=1-L;return this.rgb(L*l.red()+I*c.red(),L*l.green()+I*c.green(),L*l.blue()+I*c.blue()).alpha(l.alpha()*p+c.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var s=new ct,o=this.values,l=s.values,c,p;for(var y in o)o.hasOwnProperty(y)&&(c=o[y],p={}.toString.call(c),p==="[object Array]"?l[y]=c.slice(0):p==="[object Number]"?l[y]=c:console.error("unexpected color value:",c));return s}},ct.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},ct.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},ct.prototype.getValues=function(s){for(var o=this.values,l={},c=0;c<s.length;c++)l[s.charAt(c)]=o[s][c];return o.alpha!==1&&(l.a=o.alpha),l},ct.prototype.setValues=function(s,o){var l=this.values,c=this.spaces,p=this.maxes,y=1,M;if(this.valid=!0,s==="alpha")y=o;else if(o.length)l[s]=o.slice(0,s.length),y=o[s.length];else if(o[s.charAt(0)]!==void 0){for(M=0;M<s.length;M++)l[s][M]=o[s.charAt(M)];y=o.a}else if(o[c[s][0]]!==void 0){var L=c[s];for(M=0;M<s.length;M++)l[s][M]=o[L[M]];y=o.alpha}if(l.alpha=Math.max(0,Math.min(1,y===void 0?l.alpha:y)),s==="alpha")return!1;var I;for(M=0;M<s.length;M++)I=Math.max(0,Math.min(p[s][M],l[s][M])),l[s][M]=Math.round(I);for(var U in c)U!==s&&(l[U]=D[s][U](l[s]));return!0},ct.prototype.setSpace=function(s,o){var l=o[0];return l===void 0?this.getValues(s):(typeof l=="number"&&(l=Array.prototype.slice.call(o)),this.setValues(s,l),this)},ct.prototype.setChannel=function(s,o,l){var c=this.values[s];return l===void 0?c[o]:l===c[o]?this:(c[o]=l,this.setValues(s,c),this)},typeof window<"u"&&(window.Color=ct);var ze=ct;function _e(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}var Re={noop:function(){},uid:(function(){var s=0;return function(){return s++}})(),isNullOrUndef:function(s){return s===null||typeof s>"u"},isArray:function(s){if(Array.isArray&&Array.isArray(s))return!0;var o=Object.prototype.toString.call(s);return o.substr(0,7)==="[object"&&o.substr(-6)==="Array]"},isObject:function(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"},isFinite:function(s){return(typeof s=="number"||s instanceof Number)&&isFinite(s)},valueOrDefault:function(s,o){return typeof s>"u"?o:s},valueAtIndexOrDefault:function(s,o,l){return Re.valueOrDefault(Re.isArray(s)?s[o]:s,l)},callback:function(s,o,l){if(s&&typeof s.call=="function")return s.apply(l,o)},each:function(s,o,l,c){var p,y,M;if(Re.isArray(s))if(y=s.length,c)for(p=y-1;p>=0;p--)o.call(l,s[p],p);else for(p=0;p<y;p++)o.call(l,s[p],p);else if(Re.isObject(s))for(M=Object.keys(s),y=M.length,p=0;p<y;p++)o.call(l,s[M[p]],M[p])},arrayEquals:function(s,o){var l,c,p,y;if(!s||!o||s.length!==o.length)return!1;for(l=0,c=s.length;l<c;++l)if(p=s[l],y=o[l],p instanceof Array&&y instanceof Array){if(!Re.arrayEquals(p,y))return!1}else if(p!==y)return!1;return!0},clone:function(s){if(Re.isArray(s))return s.map(Re.clone);if(Re.isObject(s)){for(var o=Object.create(s),l=Object.keys(s),c=l.length,p=0;p<c;++p)o[l[p]]=Re.clone(s[l[p]]);return o}return s},_merger:function(s,o,l,c){if(_e(s)){var p=o[s],y=l[s];Re.isObject(p)&&Re.isObject(y)?Re.merge(p,y,c):o[s]=Re.clone(y)}},_mergerIf:function(s,o,l){if(_e(s)){var c=o[s],p=l[s];Re.isObject(c)&&Re.isObject(p)?Re.mergeIf(c,p):o.hasOwnProperty(s)||(o[s]=Re.clone(p))}},merge:function(s,o,l){var c=Re.isArray(o)?o:[o],p=c.length,y,M,L,I,U;if(!Re.isObject(s))return s;for(l=l||{},y=l.merger||Re._merger,M=0;M<p;++M)if(o=c[M],!!Re.isObject(o))for(L=Object.keys(o),U=0,I=L.length;U<I;++U)y(L[U],s,o,l);return s},mergeIf:function(s,o){return Re.merge(s,o,{merger:Re._mergerIf})},extend:Object.assign||function(s){return Re.merge(s,[].slice.call(arguments,1),{merger:function(o,l,c){l[o]=c[o]}})},inherits:function(s){var o=this,l=s&&s.hasOwnProperty("constructor")?s.constructor:function(){return o.apply(this,arguments)},c=function(){this.constructor=l};return c.prototype=o.prototype,l.prototype=new c,l.extend=Re.inherits,s&&Re.extend(l.prototype,s),l.__super__=o.prototype,l},_deprecated:function(s,o,l,c){o!==void 0&&console.warn(s+': "'+l+'" is deprecated. Please use "'+c+'" instead')}},$t=Re;Re.callCallback=Re.callback,Re.indexOf=function(s,o,l){return Array.prototype.indexOf.call(s,o,l)},Re.getValueOrDefault=Re.valueOrDefault,Re.getValueAtIndexOrDefault=Re.valueAtIndexOrDefault;var Mn={linear:function(s){return s},easeInQuad:function(s){return s*s},easeOutQuad:function(s){return-s*(s-2)},easeInOutQuad:function(s){return(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1)},easeInCubic:function(s){return s*s*s},easeOutCubic:function(s){return(s=s-1)*s*s+1},easeInOutCubic:function(s){return(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2)},easeInQuart:function(s){return s*s*s*s},easeOutQuart:function(s){return-((s=s-1)*s*s*s-1)},easeInOutQuart:function(s){return(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)},easeInQuint:function(s){return s*s*s*s*s},easeOutQuint:function(s){return(s=s-1)*s*s*s*s+1},easeInOutQuint:function(s){return(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)},easeInSine:function(s){return-Math.cos(s*(Math.PI/2))+1},easeOutSine:function(s){return Math.sin(s*(Math.PI/2))},easeInOutSine:function(s){return-.5*(Math.cos(Math.PI*s)-1)},easeInExpo:function(s){return s===0?0:Math.pow(2,10*(s-1))},easeOutExpo:function(s){return s===1?1:-Math.pow(2,-10*s)+1},easeInOutExpo:function(s){return s===0?0:s===1?1:(s/=.5)<1?.5*Math.pow(2,10*(s-1)):.5*(-Math.pow(2,-10*--s)+2)},easeInCirc:function(s){return s>=1?s:-(Math.sqrt(1-s*s)-1)},easeOutCirc:function(s){return Math.sqrt(1-(s=s-1)*s)},easeInOutCirc:function(s){return(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)},easeInElastic:function(s){var o=1.70158,l=0,c=1;return s===0?0:s===1?1:(l||(l=.3),o=l/(2*Math.PI)*Math.asin(1/c),-(c*Math.pow(2,10*(s-=1))*Math.sin((s-o)*(2*Math.PI)/l)))},easeOutElastic:function(s){var o=1.70158,l=0,c=1;return s===0?0:s===1?1:(l||(l=.3),o=l/(2*Math.PI)*Math.asin(1/c),c*Math.pow(2,-10*s)*Math.sin((s-o)*(2*Math.PI)/l)+1)},easeInOutElastic:function(s){var o=1.70158,l=0,c=1;return s===0?0:(s/=.5)===2?1:(l||(l=.45),o=l/(2*Math.PI)*Math.asin(1/c),s<1?-.5*(c*Math.pow(2,10*(s-=1))*Math.sin((s-o)*(2*Math.PI)/l)):c*Math.pow(2,-10*(s-=1))*Math.sin((s-o)*(2*Math.PI)/l)*.5+1)},easeInBack:function(s){var o=1.70158;return s*s*((o+1)*s-o)},easeOutBack:function(s){var o=1.70158;return(s=s-1)*s*((o+1)*s+o)+1},easeInOutBack:function(s){var o=1.70158;return(s/=.5)<1?.5*(s*s*(((o*=1.525)+1)*s-o)):.5*((s-=2)*s*(((o*=1.525)+1)*s+o)+2)},easeInBounce:function(s){return 1-Mn.easeOutBounce(1-s)},easeOutBounce:function(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:function(s){return s<.5?Mn.easeInBounce(s*2)*.5:Mn.easeOutBounce(s*2-1)*.5+.5}},Dn={effects:Mn};$t.easingEffects=Mn;var is=Math.PI,$s=is/180,at=is*2,_t=is/2,yn=is/4,pn=is*2/3,kn={clear:function(s){s.ctx.clearRect(0,0,s.width,s.height)},roundedRect:function(s,o,l,c,p,y){if(y){var M=Math.min(y,p/2,c/2),L=o+M,I=l+M,U=o+c-M,Z=l+p-M;s.moveTo(o,I),L<U&&I<Z?(s.arc(L,I,M,-is,-_t),s.arc(U,I,M,-_t,0),s.arc(U,Z,M,0,_t),s.arc(L,Z,M,_t,is)):L<U?(s.moveTo(L,l),s.arc(U,I,M,-_t,_t),s.arc(L,I,M,_t,is+_t)):I<Z?(s.arc(L,I,M,-is,0),s.arc(L,Z,M,0,is)):s.arc(L,I,M,-is,is),s.closePath(),s.moveTo(o,l)}else s.rect(o,l,c,p)},drawPoint:function(s,o,l,c,p,y){var M,L,I,U,Z,ee=(y||0)*$s;if(o&&typeof o=="object"&&(M=o.toString(),M==="[object HTMLImageElement]"||M==="[object HTMLCanvasElement]")){s.save(),s.translate(c,p),s.rotate(ee),s.drawImage(o,-o.width/2,-o.height/2,o.width,o.height),s.restore();return}if(!(isNaN(l)||l<=0)){switch(s.beginPath(),o){default:s.arc(c,p,l,0,at),s.closePath();break;case"triangle":s.moveTo(c+Math.sin(ee)*l,p-Math.cos(ee)*l),ee+=pn,s.lineTo(c+Math.sin(ee)*l,p-Math.cos(ee)*l),ee+=pn,s.lineTo(c+Math.sin(ee)*l,p-Math.cos(ee)*l),s.closePath();break;case"rectRounded":Z=l*.516,U=l-Z,L=Math.cos(ee+yn)*U,I=Math.sin(ee+yn)*U,s.arc(c-L,p-I,Z,ee-is,ee-_t),s.arc(c+I,p-L,Z,ee-_t,ee),s.arc(c+L,p+I,Z,ee,ee+_t),s.arc(c-I,p+L,Z,ee+_t,ee+is),s.closePath();break;case"rect":if(!y){U=Math.SQRT1_2*l,s.rect(c-U,p-U,2*U,2*U);break}ee+=yn;case"rectRot":L=Math.cos(ee)*l,I=Math.sin(ee)*l,s.moveTo(c-L,p-I),s.lineTo(c+I,p-L),s.lineTo(c+L,p+I),s.lineTo(c-I,p+L),s.closePath();break;case"crossRot":ee+=yn;case"cross":L=Math.cos(ee)*l,I=Math.sin(ee)*l,s.moveTo(c-L,p-I),s.lineTo(c+L,p+I),s.moveTo(c+I,p-L),s.lineTo(c-I,p+L);break;case"star":L=Math.cos(ee)*l,I=Math.sin(ee)*l,s.moveTo(c-L,p-I),s.lineTo(c+L,p+I),s.moveTo(c+I,p-L),s.lineTo(c-I,p+L),ee+=yn,L=Math.cos(ee)*l,I=Math.sin(ee)*l,s.moveTo(c-L,p-I),s.lineTo(c+L,p+I),s.moveTo(c+I,p-L),s.lineTo(c-I,p+L);break;case"line":L=Math.cos(ee)*l,I=Math.sin(ee)*l,s.moveTo(c-L,p-I),s.lineTo(c+L,p+I);break;case"dash":s.moveTo(c,p),s.lineTo(c+Math.cos(ee)*l,p+Math.sin(ee)*l);break}s.fill(),s.stroke()}},_isPointInArea:function(s,o){var l=1e-6;return s.x>o.left-l&&s.x<o.right+l&&s.y>o.top-l&&s.y<o.bottom+l},clipArea:function(s,o){s.save(),s.beginPath(),s.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),s.clip()},unclipArea:function(s){s.restore()},lineTo:function(s,o,l,c){var p=l.steppedLine;if(p){if(p==="middle"){var y=(o.x+l.x)/2;s.lineTo(y,c?l.y:o.y),s.lineTo(y,c?o.y:l.y)}else p==="after"&&!c||p!=="after"&&c?s.lineTo(o.x,l.y):s.lineTo(l.x,o.y);s.lineTo(l.x,l.y);return}if(!l.tension){s.lineTo(l.x,l.y);return}s.bezierCurveTo(c?o.controlPointPreviousX:o.controlPointNextX,c?o.controlPointPreviousY:o.controlPointNextY,c?l.controlPointNextX:l.controlPointPreviousX,c?l.controlPointNextY:l.controlPointPreviousY,l.x,l.y)}},Tn=kn;$t.clear=kn.clear,$t.drawRoundedRectangle=function(s){s.beginPath(),kn.roundedRect.apply(kn,arguments)};var su={_set:function(s,o){return $t.merge(this[s]||(this[s]={}),o)}};su._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var xn=su,ru=$t.valueOrDefault;function iu(s){return!s||$t.isNullOrUndef(s.size)||$t.isNullOrUndef(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}var au={toLineHeight:function(s,o){var l=(""+s).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!l||l[1]==="normal")return o*1.2;switch(s=+l[2],l[3]){case"px":return s;case"%":s/=100;break}return o*s},toPadding:function(s){var o,l,c,p;return $t.isObject(s)?(o=+s.top||0,l=+s.right||0,c=+s.bottom||0,p=+s.left||0):o=l=c=p=+s||0,{top:o,right:l,bottom:c,left:p,height:o+c,width:p+l}},_parseFont:function(s){var o=xn.global,l=ru(s.fontSize,o.defaultFontSize),c={family:ru(s.fontFamily,o.defaultFontFamily),lineHeight:$t.options.toLineHeight(ru(s.lineHeight,o.defaultLineHeight),l),size:l,style:ru(s.fontStyle,o.defaultFontStyle),weight:null,string:""};return c.string=iu(c),c},resolve:function(s,o,l,c){var p=!0,y,M,L;for(y=0,M=s.length;y<M;++y)if(L=s[y],L!==void 0&&(o!==void 0&&typeof L=="function"&&(L=L(o),p=!1),l!==void 0&&$t.isArray(L)&&(L=L[l],p=!1),L!==void 0))return c&&!p&&(c.cacheable=!1),L}},gu={_factorize:function(s){var o=[],l=Math.sqrt(s),c;for(c=1;c<l;c++)s%c===0&&(o.push(c),o.push(s/c));return l===(l|0)&&o.push(l),o.sort(function(p,y){return p-y}).pop(),o},log10:Math.log10||function(s){var o=Math.log(s)*Math.LOG10E,l=Math.round(o),c=s===Math.pow(10,l);return c?l:o}},uu=gu;$t.log10=gu.log10;var pu=function(s,o){return{x:function(l){return s+s+o-l},setWidth:function(l){o=l},textAlign:function(l){return l==="center"?l:l==="right"?"left":"right"},xPlus:function(l,c){return l-c},leftForLtr:function(l,c){return l-c}}},wu=function(){return{x:function(s){return s},setWidth:function(s){},textAlign:function(s){return s},xPlus:function(s,o){return s+o},leftForLtr:function(s,o){return s}}},hu=function(s,o,l){return s?pu(o,l):wu()},yu=function(s,o){var l,c;(o==="ltr"||o==="rtl")&&(l=s.canvas.style,c=[l.getPropertyValue("direction"),l.getPropertyPriority("direction")],l.setProperty("direction",o,"important"),s.prevTextDirection=c)},Iu=function(s){var o=s.prevTextDirection;o!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",o[0],o[1]))},Tu={getRtlAdapter:hu,overrideTextDirection:yu,restoreTextDirection:Iu},ie=$t,op=Dn,lp=Tn,up=au,cp=uu,dp=Tu;ie.easing=op,ie.canvas=lp,ie.options=up,ie.math=cp,ie.rtl=dp;function fp(s,o,l,c){var p=Object.keys(l),y,M,L,I,U,Z,ee,ye,Ce;for(y=0,M=p.length;y<M;++y)if(L=p[y],Z=l[L],o.hasOwnProperty(L)||(o[L]=Z),I=o[L],!(I===Z||L[0]==="_")){if(s.hasOwnProperty(L)||(s[L]=I),U=s[L],ee=typeof Z,ee===typeof U){if(ee==="string"){if(ye=ze(U),ye.valid&&(Ce=ze(Z),Ce.valid)){o[L]=Ce.mix(ye,c).rgbString();continue}}else if(ie.isFinite(U)&&ie.isFinite(Z)){o[L]=U+(Z-U)*c;continue}}o[L]=Z}}var Pf=function(s){ie.extend(this,s),this.initialize.apply(this,arguments)};ie.extend(Pf.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var s=this;return s._view||(s._view=ie.extend({},s._model)),s._start={},s},transition:function(s){var o=this,l=o._model,c=o._start,p=o._view;return!l||s===1?(o._view=ie.extend({},l),o._start=null,o):(p||(p=o._view={}),c||(c=o._start={}),fp(c,p,l,s),o)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return ie.isNumber(this._model.x)&&ie.isNumber(this._model.y)}}),Pf.extend=ie.inherits;var Ru=Pf,If=Ru.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Rf=If;Object.defineProperty(If.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(If.prototype,"chartInstance",{get:function(){return this.chart},set:function(s){this.chart=s}}),xn._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:ie.noop,onComplete:ie.noop}});var Of={animations:[],request:null,addAnimation:function(s,o,l,c){var p=this.animations,y,M;for(o.chart=s,o.startTime=Date.now(),o.duration=l,c||(s.animating=!0),y=0,M=p.length;y<M;++y)if(p[y].chart===s){p[y]=o;return}p.push(o),p.length===1&&this.requestAnimationFrame()},cancelAnimation:function(s){var o=ie.findIndex(this.animations,function(l){return l.chart===s});o!==-1&&(this.animations.splice(o,1),s.animating=!1)},requestAnimationFrame:function(){var s=this;s.request===null&&(s.request=ie.requestAnimFrame.call(window,function(){s.request=null,s.startDigest()}))},startDigest:function(){var s=this;s.advance(),s.animations.length>0&&s.requestAnimationFrame()},advance:function(){for(var s=this.animations,o,l,c,p,y=0;y<s.length;)o=s[y],l=o.chart,c=o.numSteps,p=Math.floor((Date.now()-o.startTime)/o.duration*c)+1,o.currentStep=Math.min(p,c),ie.callback(o.render,[l,o],l),ie.callback(o.onAnimationProgress,[o],l),o.currentStep>=c?(ie.callback(o.onAnimationComplete,[o],l),l.animating=!1,s.splice(y,1)):++y}},Qu=ie.options.resolve,uh=["push","pop","shift","splice","unshift"];function hp(s,o){if(s._chartjs){s._chartjs.listeners.push(o);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),uh.forEach(function(l){var c="onData"+l.charAt(0).toUpperCase()+l.slice(1),p=s[l];Object.defineProperty(s,l,{configurable:!0,enumerable:!1,value:function(){var y=Array.prototype.slice.call(arguments),M=p.apply(this,y);return ie.each(s._chartjs.listeners,function(L){typeof L[c]=="function"&&L[c].apply(L,y)}),M}})})}function ch(s,o){var l=s._chartjs;if(l){var c=l.listeners,p=c.indexOf(o);p!==-1&&c.splice(p,1),!(c.length>0)&&(uh.forEach(function(y){delete s[y]}),delete s._chartjs)}}var Nf=function(s,o){this.initialize(s,o)};ie.extend(Nf.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(s,o){var l=this;l.chart=s,l.index=o,l.linkScales(),l.addElements(),l._type=l.getMeta().type},updateIndex:function(s){this.index=s},linkScales:function(){var s=this,o=s.getMeta(),l=s.chart,c=l.scales,p=s.getDataset(),y=l.options.scales;(o.xAxisID===null||!(o.xAxisID in c)||p.xAxisID)&&(o.xAxisID=p.xAxisID||y.xAxes[0].id),(o.yAxisID===null||!(o.yAxisID in c)||p.yAxisID)&&(o.yAxisID=p.yAxisID||y.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(s){return this.chart.scales[s]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&ch(this._data,this)},createMetaDataset:function(){var s=this,o=s.datasetElementType;return o&&new o({_chart:s.chart,_datasetIndex:s.index})},createMetaData:function(s){var o=this,l=o.dataElementType;return l&&new l({_chart:o.chart,_datasetIndex:o.index,_index:s})},addElements:function(){var s=this,o=s.getMeta(),l=s.getDataset().data||[],c=o.data,p,y;for(p=0,y=l.length;p<y;++p)c[p]=c[p]||s.createMetaData(p);o.dataset=o.dataset||s.createMetaDataset()},addElementAndReset:function(s){var o=this.createMetaData(s);this.getMeta().data.splice(s,0,o),this.updateElement(o,s,!0)},buildOrUpdateElements:function(){var s=this,o=s.getDataset(),l=o.data||(o.data=[]);s._data!==l&&(s._data&&ch(s._data,s),l&&Object.isExtensible(l)&&hp(l,s),s._data=l),s.resyncElements()},_configure:function(){var s=this;s._config=ie.merge(Object.create(null),[s.chart.options.datasets[s._type],s.getDataset()],{merger:function(o,l,c){o!=="_meta"&&o!=="data"&&ie._merger(o,l,c)}})},_update:function(s){var o=this;o._configure(),o._cachedDataOpts=null,o.update(s)},update:ie.noop,transition:function(s){for(var o=this.getMeta(),l=o.data||[],c=l.length,p=0;p<c;++p)l[p].transition(s);o.dataset&&o.dataset.transition(s)},draw:function(){var s=this.getMeta(),o=s.data||[],l=o.length,c=0;for(s.dataset&&s.dataset.draw();c<l;++c)o[c].draw()},getStyle:function(s){var o=this,l=o.getMeta(),c=l.dataset,p;return o._configure(),c&&s===void 0?p=o._resolveDatasetElementOptions(c||{}):(s=s||0,p=o._resolveDataElementOptions(l.data[s]||{},s)),(p.fill===!1||p.fill===null)&&(p.backgroundColor=p.borderColor),p},_resolveDatasetElementOptions:function(s,o){var l=this,c=l.chart,p=l._config,y=s.custom||{},M=c.options.elements[l.datasetElementType.prototype._type]||{},L=l._datasetElementOptions,I={},U,Z,ee,ye,Ce={chart:c,dataset:l.getDataset(),datasetIndex:l.index,hover:o};for(U=0,Z=L.length;U<Z;++U)ee=L[U],ye=o?"hover"+ee.charAt(0).toUpperCase()+ee.slice(1):ee,I[ee]=Qu([y[ye],p[ye],M[ye]],Ce);return I},_resolveDataElementOptions:function(s,o){var l=this,c=s&&s.custom,p=l._cachedDataOpts;if(p&&!c)return p;var y=l.chart,M=l._config,L=y.options.elements[l.dataElementType.prototype._type]||{},I=l._dataElementOptions,U={},Z={chart:y,dataIndex:o,dataset:l.getDataset(),datasetIndex:l.index},ee={cacheable:!c},ye,Ce,De,Be;if(c=c||{},ie.isArray(I))for(Ce=0,De=I.length;Ce<De;++Ce)Be=I[Ce],U[Be]=Qu([c[Be],M[Be],L[Be]],Z,o,ee);else for(ye=Object.keys(I),Ce=0,De=ye.length;Ce<De;++Ce)Be=ye[Ce],U[Be]=Qu([c[Be],M[I[Be]],M[Be],L[Be]],Z,o,ee);return ee.cacheable&&(l._cachedDataOpts=Object.freeze(U)),U},removeHoverStyle:function(s){ie.merge(s._model,s.$previousStyle||{}),delete s.$previousStyle},setHoverStyle:function(s){var o=this.chart.data.datasets[s._datasetIndex],l=s._index,c=s.custom||{},p=s._model,y=ie.getHoverColor;s.$previousStyle={backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth},p.backgroundColor=Qu([c.hoverBackgroundColor,o.hoverBackgroundColor,y(p.backgroundColor)],void 0,l),p.borderColor=Qu([c.hoverBorderColor,o.hoverBorderColor,y(p.borderColor)],void 0,l),p.borderWidth=Qu([c.hoverBorderWidth,o.hoverBorderWidth,p.borderWidth],void 0,l)},_removeDatasetHoverStyle:function(){var s=this.getMeta().dataset;s&&this.removeHoverStyle(s)},_setDatasetHoverStyle:function(){var s=this.getMeta().dataset,o={},l,c,p,y,M,L;if(s){for(L=s._model,M=this._resolveDatasetElementOptions(s,!0),y=Object.keys(M),l=0,c=y.length;l<c;++l)p=y[l],o[p]=L[p],L[p]=M[p];s.$previousStyle=o}},resyncElements:function(){var s=this,o=s.getMeta(),l=s.getDataset().data,c=o.data.length,p=l.length;p<c?o.data.splice(p,c-p):p>c&&s.insertElements(c,p-c)},insertElements:function(s,o){for(var l=0;l<o;++l)this.addElementAndReset(s+l)},onDataPush:function(){var s=arguments.length;this.insertElements(this.getDataset().data.length-s,s)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(s,o){this.getMeta().data.splice(s,o),this.insertElements(s,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Nf.extend=ie.inherits;var Eu=Nf,Ou=Math.PI*2;xn._set("global",{elements:{arc:{backgroundColor:xn.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});function dh(s,o){var l=o.startAngle,c=o.endAngle,p=o.pixelMargin,y=p/o.outerRadius,M=o.x,L=o.y;s.beginPath(),s.arc(M,L,o.outerRadius,l-y,c+y),o.innerRadius>p?(y=p/o.innerRadius,s.arc(M,L,o.innerRadius-p,c+y,l-y,!0)):s.arc(M,L,p,c+Math.PI/2,l-Math.PI/2),s.closePath(),s.clip()}function pp(s,o,l,c){var p=l.endAngle,y;for(c&&(l.endAngle=l.startAngle+Ou,dh(s,l),l.endAngle=p,l.endAngle===l.startAngle&&l.fullCircles&&(l.endAngle+=Ou,l.fullCircles--)),s.beginPath(),s.arc(l.x,l.y,l.innerRadius,l.startAngle+Ou,l.startAngle,!0),y=0;y<l.fullCircles;++y)s.stroke();for(s.beginPath(),s.arc(l.x,l.y,o.outerRadius,l.startAngle,l.startAngle+Ou),y=0;y<l.fullCircles;++y)s.stroke()}function mp(s,o,l){var c=o.borderAlign==="inner";c?(s.lineWidth=o.borderWidth*2,s.lineJoin="round"):(s.lineWidth=o.borderWidth,s.lineJoin="bevel"),l.fullCircles&&pp(s,o,l,c),c&&dh(s,l),s.beginPath(),s.arc(l.x,l.y,o.outerRadius,l.startAngle,l.endAngle),s.arc(l.x,l.y,l.innerRadius,l.endAngle,l.startAngle,!0),s.closePath(),s.stroke()}var vp=Ru.extend({_type:"arc",inLabelRange:function(s){var o=this._view;return o?Math.pow(s-o.x,2)<Math.pow(o.radius+o.hoverRadius,2):!1},inRange:function(s,o){var l=this._view;if(l){for(var c=ie.getAngleFromPoint(l,{x:s,y:o}),p=c.angle,y=c.distance,M=l.startAngle,L=l.endAngle;L<M;)L+=Ou;for(;p>L;)p-=Ou;for(;p<M;)p+=Ou;var I=p>=M&&p<=L,U=y>=l.innerRadius&&y<=l.outerRadius;return I&&U}return!1},getCenterPoint:function(){var s=this._view,o=(s.startAngle+s.endAngle)/2,l=(s.innerRadius+s.outerRadius)/2;return{x:s.x+Math.cos(o)*l,y:s.y+Math.sin(o)*l}},getArea:function(){var s=this._view;return Math.PI*((s.endAngle-s.startAngle)/(2*Math.PI))*(Math.pow(s.outerRadius,2)-Math.pow(s.innerRadius,2))},tooltipPosition:function(){var s=this._view,o=s.startAngle+(s.endAngle-s.startAngle)/2,l=(s.outerRadius-s.innerRadius)/2+s.innerRadius;return{x:s.x+Math.cos(o)*l,y:s.y+Math.sin(o)*l}},draw:function(){var s=this._chart.ctx,o=this._view,l=o.borderAlign==="inner"?.33:0,c={x:o.x,y:o.y,innerRadius:o.innerRadius,outerRadius:Math.max(o.outerRadius-l,0),pixelMargin:l,startAngle:o.startAngle,endAngle:o.endAngle,fullCircles:Math.floor(o.circumference/Ou)},p;if(s.save(),s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,c.fullCircles){for(c.endAngle=c.startAngle+Ou,s.beginPath(),s.arc(c.x,c.y,c.outerRadius,c.startAngle,c.endAngle),s.arc(c.x,c.y,c.innerRadius,c.endAngle,c.startAngle,!0),s.closePath(),p=0;p<c.fullCircles;++p)s.fill();c.endAngle=c.startAngle+o.circumference%Ou}s.beginPath(),s.arc(c.x,c.y,c.outerRadius,c.startAngle,c.endAngle),s.arc(c.x,c.y,c.innerRadius,c.endAngle,c.startAngle,!0),s.closePath(),s.fill(),o.borderWidth&&mp(s,o,c),s.restore()}}),fh=ie.valueOrDefault,hh=xn.global.defaultColor;xn._set("global",{elements:{line:{tension:.4,backgroundColor:hh,borderWidth:3,borderColor:hh,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var gp=Ru.extend({_type:"line",draw:function(){var s=this,o=s._view,l=s._chart.ctx,c=o.spanGaps,p=s._children.slice(),y=xn.global,M=y.elements.line,L=-1,I=s._loop,U,Z,ee;if(p.length){if(s._loop){for(U=0;U<p.length;++U)if(Z=ie.previousItem(p,U),!p[U]._view.skip&&Z._view.skip){p=p.slice(U).concat(p.slice(0,U)),I=c;break}I&&p.push(p[0])}for(l.save(),l.lineCap=o.borderCapStyle||M.borderCapStyle,l.setLineDash&&l.setLineDash(o.borderDash||M.borderDash),l.lineDashOffset=fh(o.borderDashOffset,M.borderDashOffset),l.lineJoin=o.borderJoinStyle||M.borderJoinStyle,l.lineWidth=fh(o.borderWidth,M.borderWidth),l.strokeStyle=o.borderColor||y.defaultColor,l.beginPath(),ee=p[0]._view,ee.skip||(l.moveTo(ee.x,ee.y),L=0),U=1;U<p.length;++U)ee=p[U]._view,Z=L===-1?ie.previousItem(p,U):p[L],ee.skip||(L!==U-1&&!c||L===-1?l.moveTo(ee.x,ee.y):ie.canvas.lineTo(l,Z._view,ee),L=U);I&&l.closePath(),l.stroke(),l.restore()}}}),yp=ie.valueOrDefault,ph=xn.global.defaultColor;xn._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ph,borderColor:ph,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function mh(s){var o=this._view;return o?Math.abs(s-o.x)<o.radius+o.hitRadius:!1}function bp(s){var o=this._view;return o?Math.abs(s-o.y)<o.radius+o.hitRadius:!1}var _p=Ru.extend({_type:"point",inRange:function(s,o){var l=this._view;return l?Math.pow(s-l.x,2)+Math.pow(o-l.y,2)<Math.pow(l.hitRadius+l.radius,2):!1},inLabelRange:mh,inXRange:mh,inYRange:bp,getCenterPoint:function(){var s=this._view;return{x:s.x,y:s.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var s=this._view;return{x:s.x,y:s.y,padding:s.radius+s.borderWidth}},draw:function(s){var o=this._view,l=this._chart.ctx,c=o.pointStyle,p=o.rotation,y=o.radius,M=o.x,L=o.y,I=xn.global,U=I.defaultColor;o.skip||(s===void 0||ie.canvas._isPointInArea(o,s))&&(l.strokeStyle=o.borderColor||U,l.lineWidth=yp(o.borderWidth,I.elements.point.borderWidth),l.fillStyle=o.backgroundColor||U,ie.canvas.drawPoint(l,c,y,M,L,p))}}),vh=xn.global.defaultColor;xn._set("global",{elements:{rectangle:{backgroundColor:vh,borderColor:vh,borderSkipped:"bottom",borderWidth:0}}});function gf(s){return s&&s.width!==void 0}function gh(s){var o,l,c,p,y;return gf(s)?(y=s.width/2,o=s.x-y,l=s.x+y,c=Math.min(s.y,s.base),p=Math.max(s.y,s.base)):(y=s.height/2,o=Math.min(s.x,s.base),l=Math.max(s.x,s.base),c=s.y-y,p=s.y+y),{left:o,top:c,right:l,bottom:p}}function yh(s,o,l){return s===o?l:s===l?o:s}function wp(s){var o=s.borderSkipped,l={};return o&&(s.horizontal?s.base>s.x&&(o=yh(o,"left","right")):s.base<s.y&&(o=yh(o,"bottom","top")),l[o]=!0),l}function kp(s,o,l){var c=s.borderWidth,p=wp(s),y,M,L,I;return ie.isObject(c)?(y=+c.top||0,M=+c.right||0,L=+c.bottom||0,I=+c.left||0):y=M=L=I=+c||0,{t:p.top||y<0?0:y>l?l:y,r:p.right||M<0?0:M>o?o:M,b:p.bottom||L<0?0:L>l?l:L,l:p.left||I<0?0:I>o?o:I}}function $p(s){var o=gh(s),l=o.right-o.left,c=o.bottom-o.top,p=kp(s,l/2,c/2);return{outer:{x:o.left,y:o.top,w:l,h:c},inner:{x:o.left+p.l,y:o.top+p.t,w:l-p.l-p.r,h:c-p.t-p.b}}}function of(s,o,l){var c=o===null,p=l===null,y=!s||c&&p?!1:gh(s);return y&&(c||o>=y.left&&o<=y.right)&&(p||l>=y.top&&l<=y.bottom)}var Sp=Ru.extend({_type:"rectangle",draw:function(){var s=this._chart.ctx,o=this._view,l=$p(o),c=l.outer,p=l.inner;s.fillStyle=o.backgroundColor,s.fillRect(c.x,c.y,c.w,c.h),!(c.w===p.w&&c.h===p.h)&&(s.save(),s.beginPath(),s.rect(c.x,c.y,c.w,c.h),s.clip(),s.fillStyle=o.borderColor,s.rect(p.x,p.y,p.w,p.h),s.fill("evenodd"),s.restore())},height:function(){var s=this._view;return s.base-s.y},inRange:function(s,o){return of(this._view,s,o)},inLabelRange:function(s,o){var l=this._view;return gf(l)?of(l,s,null):of(l,null,o)},inXRange:function(s){return of(this._view,s,null)},inYRange:function(s){return of(this._view,null,s)},getCenterPoint:function(){var s=this._view,o,l;return gf(s)?(o=s.x,l=(s.y+s.base)/2):(o=(s.x+s.base)/2,l=s.y),{x:o,y:l}},getArea:function(){var s=this._view;return gf(s)?s.width*Math.abs(s.y-s.base):s.height*Math.abs(s.x-s.base)},tooltipPosition:function(){var s=this._view;return{x:s.x,y:s.y}}}),$u={},xp=vp,Mp=gp,Tp=_p,Ep=Sp;$u.Arc=xp,$u.Line=Mp,$u.Point=Tp,$u.Rectangle=Ep;var lf=ie._deprecated,Zu=ie.valueOrDefault;xn._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),xn._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});function Pp(s,o){var l=s._length,c,p,y,M;for(y=1,M=o.length;y<M;++y)l=Math.min(l,Math.abs(o[y]-o[y-1]));for(y=0,M=s.getTicks().length;y<M;++y)p=s.getPixelForTick(y),l=y>0?Math.min(l,Math.abs(p-c)):l,c=p;return l}function Ip(s,o,l){var c=l.barThickness,p=o.stackCount,y=o.pixels[s],M=ie.isNullOrUndef(c)?Pp(o.scale,o.pixels):-1,L,I;return ie.isNullOrUndef(c)?(L=M*l.categoryPercentage,I=l.barPercentage):(L=c*p,I=1),{chunk:L/p,ratio:I,start:y-L/2}}function Rp(s,o,l){var c=o.pixels,p=c[s],y=s>0?c[s-1]:null,M=s<c.length-1?c[s+1]:null,L=l.categoryPercentage,I,U;return y===null&&(y=p-(M===null?o.end-o.start:M-p)),M===null&&(M=p+p-y),I=p-(p-Math.min(y,M))/2*L,U=Math.abs(M-y)/2*L,{chunk:U/o.stackCount,ratio:l.barPercentage,start:I}}var bh=Eu.extend({dataElementType:$u.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var s=this,o,l;Eu.prototype.initialize.apply(s,arguments),o=s.getMeta(),o.stack=s.getDataset().stack,o.bar=!0,l=s._getIndexScale().options,lf("bar chart",l.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),lf("bar chart",l.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),lf("bar chart",l.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),lf("bar chart",s._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),lf("bar chart",l.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(s){var o=this,l=o.getMeta().data,c,p;for(o._ruler=o.getRuler(),c=0,p=l.length;c<p;++c)o.updateElement(l[c],c,s)},updateElement:function(s,o,l){var c=this,p=c.getMeta(),y=c.getDataset(),M=c._resolveDataElementOptions(s,o);s._xScale=c.getScaleForId(p.xAxisID),s._yScale=c.getScaleForId(p.yAxisID),s._datasetIndex=c.index,s._index=o,s._model={backgroundColor:M.backgroundColor,borderColor:M.borderColor,borderSkipped:M.borderSkipped,borderWidth:M.borderWidth,datasetLabel:y.label,label:c.chart.data.labels[o]},ie.isArray(y.data[o])&&(s._model.borderSkipped=null),c._updateElementGeometry(s,o,l,M),s.pivot()},_updateElementGeometry:function(s,o,l,c){var p=this,y=s._model,M=p._getValueScale(),L=M.getBasePixel(),I=M.isHorizontal(),U=p._ruler||p.getRuler(),Z=p.calculateBarValuePixels(p.index,o,c),ee=p.calculateBarIndexPixels(p.index,o,U,c);y.horizontal=I,y.base=l?L:Z.base,y.x=I?l?L:Z.head:ee.center,y.y=I?ee.center:l?L:Z.head,y.height=I?ee.size:void 0,y.width=I?void 0:ee.size},_getStacks:function(s){var o=this,l=o._getIndexScale(),c=l._getMatchingVisibleMetas(o._type),p=l.options.stacked,y=c.length,M=[],L,I;for(L=0;L<y&&(I=c[L],(p===!1||M.indexOf(I.stack)===-1||p===void 0&&I.stack===void 0)&&M.push(I.stack),I.index!==s);++L);return M},getStackCount:function(){return this._getStacks().length},getStackIndex:function(s,o){var l=this._getStacks(s),c=o!==void 0?l.indexOf(o):-1;return c===-1?l.length-1:c},getRuler:function(){var s=this,o=s._getIndexScale(),l=[],c,p;for(c=0,p=s.getMeta().data.length;c<p;++c)l.push(o.getPixelForValue(null,c,s.index));return{pixels:l,start:o._startPixel,end:o._endPixel,stackCount:s.getStackCount(),scale:o}},calculateBarValuePixels:function(s,o,l){var c=this,p=c.chart,y=c._getValueScale(),M=y.isHorizontal(),L=p.data.datasets,I=y._getMatchingVisibleMetas(c._type),U=y._parseValue(L[s].data[o]),Z=l.minBarLength,ee=y.options.stacked,ye=c.getMeta().stack,Ce=U.start===void 0?0:U.max>=0&&U.min>=0?U.min:U.max,De=U.start===void 0?U.end:U.max>=0&&U.min>=0?U.max-U.min:U.min-U.max,Be=I.length,ot,_n,Cn,rs,ai,ni,ou;if(ee||ee===void 0&&ye!==void 0)for(ot=0;ot<Be&&(_n=I[ot],_n.index!==s);++ot)_n.stack===ye&&(ou=y._parseValue(L[_n.index].data[o]),Cn=ou.start===void 0?ou.end:ou.min>=0&&ou.max>=0?ou.max:ou.min,(U.min<0&&Cn<0||U.max>=0&&Cn>0)&&(Ce+=Cn));return rs=y.getPixelForValue(Ce),ai=y.getPixelForValue(Ce+De),ni=ai-rs,Z!==void 0&&Math.abs(ni)<Z&&(ni=Z,De>=0&&!M||De<0&&M?ai=rs-Z:ai=rs+Z),{size:ni,base:rs,head:ai,center:ai+ni/2}},calculateBarIndexPixels:function(s,o,l,c){var p=this,y=c.barThickness==="flex"?Rp(o,l,c):Ip(o,l,c),M=p.getStackIndex(s,p.getMeta().stack),L=y.start+y.chunk*M+y.chunk/2,I=Math.min(Zu(c.maxBarThickness,1/0),y.chunk*y.ratio);return{base:L-I/2,head:L+I/2,center:L,size:I}},draw:function(){var s=this,o=s.chart,l=s._getValueScale(),c=s.getMeta().data,p=s.getDataset(),y=c.length,M=0;for(ie.canvas.clipArea(o.ctx,o.chartArea);M<y;++M){var L=l._parseValue(p.data[M]);!isNaN(L.min)&&!isNaN(L.max)&&c[M].draw()}ie.canvas.unclipArea(o.ctx)},_resolveDataElementOptions:function(){var s=this,o=ie.extend({},Eu.prototype._resolveDataElementOptions.apply(s,arguments)),l=s._getIndexScale().options,c=s._getValueScale().options;return o.barPercentage=Zu(l.barPercentage,o.barPercentage),o.barThickness=Zu(l.barThickness,o.barThickness),o.categoryPercentage=Zu(l.categoryPercentage,o.categoryPercentage),o.maxBarThickness=Zu(l.maxBarThickness,o.maxBarThickness),o.minBarLength=Zu(c.minBarLength,o.minBarLength),o}}),Cf=ie.valueOrDefault,Op=ie.options.resolve;xn._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(s,o){var l=o.datasets[s.datasetIndex].label||"",c=o.datasets[s.datasetIndex].data[s.index];return l+": ("+s.xLabel+", "+s.yLabel+", "+c.r+")"}}}});var Np=Eu.extend({dataElementType:$u.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(s){var o=this,l=o.getMeta(),c=l.data;ie.each(c,function(p,y){o.updateElement(p,y,s)})},updateElement:function(s,o,l){var c=this,p=c.getMeta(),y=s.custom||{},M=c.getScaleForId(p.xAxisID),L=c.getScaleForId(p.yAxisID),I=c._resolveDataElementOptions(s,o),U=c.getDataset().data[o],Z=c.index,ee=l?M.getPixelForDecimal(.5):M.getPixelForValue(typeof U=="object"?U:NaN,o,Z),ye=l?L.getBasePixel():L.getPixelForValue(U,o,Z);s._xScale=M,s._yScale=L,s._options=I,s._datasetIndex=Z,s._index=o,s._model={backgroundColor:I.backgroundColor,borderColor:I.borderColor,borderWidth:I.borderWidth,hitRadius:I.hitRadius,pointStyle:I.pointStyle,rotation:I.rotation,radius:l?0:I.radius,skip:y.skip||isNaN(ee)||isNaN(ye),x:ee,y:ye},s.pivot()},setHoverStyle:function(s){var o=s._model,l=s._options,c=ie.getHoverColor;s.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth,radius:o.radius},o.backgroundColor=Cf(l.hoverBackgroundColor,c(l.backgroundColor)),o.borderColor=Cf(l.hoverBorderColor,c(l.borderColor)),o.borderWidth=Cf(l.hoverBorderWidth,l.borderWidth),o.radius=l.radius+l.hoverRadius},_resolveDataElementOptions:function(s,o){var l=this,c=l.chart,p=l.getDataset(),y=s.custom||{},M=p.data[o]||{},L=Eu.prototype._resolveDataElementOptions.apply(l,arguments),I={chart:c,dataIndex:o,dataset:p,datasetIndex:l.index};return l._cachedDataOpts===L&&(L=ie.extend({},L)),L.radius=Op([y.radius,M.r,l._config.radius,c.options.elements.point.radius],I,o),L}}),yf=ie.valueOrDefault,Bu=Math.PI,Cu=Bu*2,zu=Bu/2;xn._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(s){var o=document.createElement("ul"),l=s.data,c=l.datasets,p=l.labels,y,M,L,I;if(o.setAttribute("class",s.id+"-legend"),c.length)for(y=0,M=c[0].data.length;y<M;++y)L=o.appendChild(document.createElement("li")),I=L.appendChild(document.createElement("span")),I.style.backgroundColor=c[0].backgroundColor[y],p[y]&&L.appendChild(document.createTextNode(p[y]));return o.outerHTML},legend:{labels:{generateLabels:function(s){var o=s.data;return o.labels.length&&o.datasets.length?o.labels.map(function(l,c){var p=s.getDatasetMeta(0),y=p.controller.getStyle(c);return{text:l,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,hidden:isNaN(o.datasets[0].data[c])||p.data[c].hidden,index:c}}):[]}},onClick:function(s,o){var l=o.index,c=this.chart,p,y,M;for(p=0,y=(c.data.datasets||[]).length;p<y;++p)M=c.getDatasetMeta(p),M.data[l]&&(M.data[l].hidden=!M.data[l].hidden);c.update()}},cutoutPercentage:50,rotation:-zu,circumference:Cu,tooltips:{callbacks:{title:function(){return""},label:function(s,o){var l=o.labels[s.index],c=": "+o.datasets[s.datasetIndex].data[s.index];return ie.isArray(l)?(l=l.slice(),l[0]+=c):l+=c,l}}}});var _h=Eu.extend({dataElementType:$u.Arc,linkScales:ie.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(s){for(var o=0,l=0;l<s;++l)this.chart.isDatasetVisible(l)&&++o;return o},update:function(s){var o=this,l=o.chart,c=l.chartArea,p=l.options,y=1,M=1,L=0,I=0,U=o.getMeta(),Z=U.data,ee=p.cutoutPercentage/100||0,ye=p.circumference,Ce=o._getRingWeight(o.index),De,Be,ot,_n;if(ye<Cu){var Cn=p.rotation%Cu;Cn+=Cn>=Bu?-Cu:Cn<-Bu?Cu:0;var rs=Cn+ye,ai=Math.cos(Cn),ni=Math.sin(Cn),ou=Math.cos(rs),nu=Math.sin(rs),cu=Cn<=0&&rs>=0||rs>=Cu,fu=Cn<=zu&&rs>=zu||rs>=Cu+zu,bu=Cn===-Bu||rs>=Bu,vu=Cn<=-zu&&rs>=-zu||rs>=Bu+zu,mu=bu?-1:Math.min(ai,ai*ee,ou,ou*ee),_u=vu?-1:Math.min(ni,ni*ee,nu,nu*ee),sf=cu?1:Math.max(ai,ai*ee,ou,ou*ee),af=fu?1:Math.max(ni,ni*ee,nu,nu*ee);y=(sf-mu)/2,M=(af-_u)/2,L=-(sf+mu)/2,I=-(af+_u)/2}for(ot=0,_n=Z.length;ot<_n;++ot)Z[ot]._options=o._resolveDataElementOptions(Z[ot],ot);for(l.borderWidth=o.getMaxBorderWidth(),De=(c.right-c.left-l.borderWidth)/y,Be=(c.bottom-c.top-l.borderWidth)/M,l.outerRadius=Math.max(Math.min(De,Be)/2,0),l.innerRadius=Math.max(l.outerRadius*ee,0),l.radiusLength=(l.outerRadius-l.innerRadius)/(o._getVisibleDatasetWeightTotal()||1),l.offsetX=L*l.outerRadius,l.offsetY=I*l.outerRadius,U.total=o.calculateTotal(),o.outerRadius=l.outerRadius-l.radiusLength*o._getRingWeightOffset(o.index),o.innerRadius=Math.max(o.outerRadius-l.radiusLength*Ce,0),ot=0,_n=Z.length;ot<_n;++ot)o.updateElement(Z[ot],ot,s)},updateElement:function(s,o,l){var c=this,p=c.chart,y=p.chartArea,M=p.options,L=M.animation,I=(y.left+y.right)/2,U=(y.top+y.bottom)/2,Z=M.rotation,ee=M.rotation,ye=c.getDataset(),Ce=l&&L.animateRotate||s.hidden?0:c.calculateCircumference(ye.data[o])*(M.circumference/Cu),De=l&&L.animateScale?0:c.innerRadius,Be=l&&L.animateScale?0:c.outerRadius,ot=s._options||{};ie.extend(s,{_datasetIndex:c.index,_index:o,_model:{backgroundColor:ot.backgroundColor,borderColor:ot.borderColor,borderWidth:ot.borderWidth,borderAlign:ot.borderAlign,x:I+p.offsetX,y:U+p.offsetY,startAngle:Z,endAngle:ee,circumference:Ce,outerRadius:Be,innerRadius:De,label:ie.valueAtIndexOrDefault(ye.label,o,p.data.labels[o])}});var _n=s._model;(!l||!L.animateRotate)&&(o===0?_n.startAngle=M.rotation:_n.startAngle=c.getMeta().data[o-1]._model.endAngle,_n.endAngle=_n.startAngle+_n.circumference),s.pivot()},calculateTotal:function(){var s=this.getDataset(),o=this.getMeta(),l=0,c;return ie.each(o.data,function(p,y){c=s.data[y],!isNaN(c)&&!p.hidden&&(l+=Math.abs(c))}),l},calculateCircumference:function(s){var o=this.getMeta().total;return o>0&&!isNaN(s)?Cu*(Math.abs(s)/o):0},getMaxBorderWidth:function(s){var o=this,l=0,c=o.chart,p,y,M,L,I,U,Z,ee;if(!s){for(p=0,y=c.data.datasets.length;p<y;++p)if(c.isDatasetVisible(p)){M=c.getDatasetMeta(p),s=M.data,p!==o.index&&(I=M.controller);break}}if(!s)return 0;for(p=0,y=s.length;p<y;++p)L=s[p],I?(I._configure(),U=I._resolveDataElementOptions(L,p)):U=L._options,U.borderAlign!=="inner"&&(Z=U.borderWidth,ee=U.hoverBorderWidth,l=Z>l?Z:l,l=ee>l?ee:l);return l},setHoverStyle:function(s){var o=s._model,l=s._options,c=ie.getHoverColor;s.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth},o.backgroundColor=yf(l.hoverBackgroundColor,c(l.backgroundColor)),o.borderColor=yf(l.hoverBorderColor,c(l.borderColor)),o.borderWidth=yf(l.hoverBorderWidth,l.borderWidth)},_getRingWeightOffset:function(s){for(var o=0,l=0;l<s;++l)this.chart.isDatasetVisible(l)&&(o+=this._getRingWeight(l));return o},_getRingWeight:function(s){return Math.max(yf(this.chart.data.datasets[s].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});xn._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),xn._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Cp=bh.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Au=ie.valueOrDefault,Ap=ie.options.resolve,Af=ie.canvas._isPointInArea;xn._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});function wh(s,o){var l=s&&s.options.ticks||{},c=l.reverse,p=l.min===void 0?o:0,y=l.max===void 0?o:0;return{start:c?y:p,end:c?p:y}}function Dp(s,o,l){var c=l/2,p=wh(s,c),y=wh(o,c);return{top:y.end,right:p.end,bottom:y.start,left:p.start}}function Lp(s){var o,l,c,p;return ie.isObject(s)?(o=s.top,l=s.right,c=s.bottom,p=s.left):o=l=c=p=s,{top:o,right:l,bottom:c,left:p}}var kh=Eu.extend({datasetElementType:$u.Line,dataElementType:$u.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(s){var o=this,l=o.getMeta(),c=l.dataset,p=l.data||[],y=o.chart.options,M=o._config,L=o._showLine=Au(M.showLine,y.showLines),I,U;for(o._xScale=o.getScaleForId(l.xAxisID),o._yScale=o.getScaleForId(l.yAxisID),L&&(M.tension!==void 0&&M.lineTension===void 0&&(M.lineTension=M.tension),c._scale=o._yScale,c._datasetIndex=o.index,c._children=p,c._model=o._resolveDatasetElementOptions(c),c.pivot()),I=0,U=p.length;I<U;++I)o.updateElement(p[I],I,s);for(L&&c._model.tension!==0&&o.updateBezierControlPoints(),I=0,U=p.length;I<U;++I)p[I].pivot()},updateElement:function(s,o,l){var c=this,p=c.getMeta(),y=s.custom||{},M=c.getDataset(),L=c.index,I=M.data[o],U=c._xScale,Z=c._yScale,ee=p.dataset._model,ye,Ce,De=c._resolveDataElementOptions(s,o);ye=U.getPixelForValue(typeof I=="object"?I:NaN,o,L),Ce=l?Z.getBasePixel():c.calculatePointY(I,o,L),s._xScale=U,s._yScale=Z,s._options=De,s._datasetIndex=L,s._index=o,s._model={x:ye,y:Ce,skip:y.skip||isNaN(ye)||isNaN(Ce),radius:De.radius,pointStyle:De.pointStyle,rotation:De.rotation,backgroundColor:De.backgroundColor,borderColor:De.borderColor,borderWidth:De.borderWidth,tension:Au(y.tension,ee?ee.tension:0),steppedLine:ee?ee.steppedLine:!1,hitRadius:De.hitRadius}},_resolveDatasetElementOptions:function(s){var o=this,l=o._config,c=s.custom||{},p=o.chart.options,y=p.elements.line,M=Eu.prototype._resolveDatasetElementOptions.apply(o,arguments);return M.spanGaps=Au(l.spanGaps,p.spanGaps),M.tension=Au(l.lineTension,y.tension),M.steppedLine=Ap([c.steppedLine,l.steppedLine,y.stepped]),M.clip=Lp(Au(l.clip,Dp(o._xScale,o._yScale,M.borderWidth))),M},calculatePointY:function(s,o,l){var c=this,p=c.chart,y=c._yScale,M=0,L=0,I,U,Z,ee,ye,Ce,De;if(y.options.stacked){for(ye=+y.getRightValue(s),Ce=p._getSortedVisibleDatasetMetas(),De=Ce.length,I=0;I<De&&(Z=Ce[I],Z.index!==l);++I)U=p.data.datasets[Z.index],Z.type==="line"&&Z.yAxisID===y.id&&(ee=+y.getRightValue(U.data[o]),ee<0?L+=ee||0:M+=ee||0);return ye<0?y.getPixelForValue(L+ye):y.getPixelForValue(M+ye)}return y.getPixelForValue(s)},updateBezierControlPoints:function(){var s=this,o=s.chart,l=s.getMeta(),c=l.dataset._model,p=o.chartArea,y=l.data||[],M,L,I,U;c.spanGaps&&(y=y.filter(function(ee){return!ee._model.skip}));function Z(ee,ye,Ce){return Math.max(Math.min(ee,Ce),ye)}if(c.cubicInterpolationMode==="monotone")ie.splineCurveMonotone(y);else for(M=0,L=y.length;M<L;++M)I=y[M]._model,U=ie.splineCurve(ie.previousItem(y,M)._model,I,ie.nextItem(y,M)._model,c.tension),I.controlPointPreviousX=U.previous.x,I.controlPointPreviousY=U.previous.y,I.controlPointNextX=U.next.x,I.controlPointNextY=U.next.y;if(o.options.elements.line.capBezierPoints)for(M=0,L=y.length;M<L;++M)I=y[M]._model,Af(I,p)&&(M>0&&Af(y[M-1]._model,p)&&(I.controlPointPreviousX=Z(I.controlPointPreviousX,p.left,p.right),I.controlPointPreviousY=Z(I.controlPointPreviousY,p.top,p.bottom)),M<y.length-1&&Af(y[M+1]._model,p)&&(I.controlPointNextX=Z(I.controlPointNextX,p.left,p.right),I.controlPointNextY=Z(I.controlPointNextY,p.top,p.bottom)))},draw:function(){var s=this,o=s.chart,l=s.getMeta(),c=l.data||[],p=o.chartArea,y=o.canvas,M=0,L=c.length,I;for(s._showLine&&(I=l.dataset._model.clip,ie.canvas.clipArea(o.ctx,{left:I.left===!1?0:p.left-I.left,right:I.right===!1?y.width:p.right+I.right,top:I.top===!1?0:p.top-I.top,bottom:I.bottom===!1?y.height:p.bottom+I.bottom}),l.dataset.draw(),ie.canvas.unclipArea(o.ctx));M<L;++M)c[M].draw(p)},setHoverStyle:function(s){var o=s._model,l=s._options,c=ie.getHoverColor;s.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth,radius:o.radius},o.backgroundColor=Au(l.hoverBackgroundColor,c(l.backgroundColor)),o.borderColor=Au(l.hoverBorderColor,c(l.borderColor)),o.borderWidth=Au(l.hoverBorderWidth,l.borderWidth),o.radius=Au(l.hoverRadius,l.radius)}}),Fp=ie.options.resolve;xn._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(s){var o=document.createElement("ul"),l=s.data,c=l.datasets,p=l.labels,y,M,L,I;if(o.setAttribute("class",s.id+"-legend"),c.length)for(y=0,M=c[0].data.length;y<M;++y)L=o.appendChild(document.createElement("li")),I=L.appendChild(document.createElement("span")),I.style.backgroundColor=c[0].backgroundColor[y],p[y]&&L.appendChild(document.createTextNode(p[y]));return o.outerHTML},legend:{labels:{generateLabels:function(s){var o=s.data;return o.labels.length&&o.datasets.length?o.labels.map(function(l,c){var p=s.getDatasetMeta(0),y=p.controller.getStyle(c);return{text:l,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,hidden:isNaN(o.datasets[0].data[c])||p.data[c].hidden,index:c}}):[]}},onClick:function(s,o){var l=o.index,c=this.chart,p,y,M;for(p=0,y=(c.data.datasets||[]).length;p<y;++p)M=c.getDatasetMeta(p),M.data[l].hidden=!M.data[l].hidden;c.update()}},tooltips:{callbacks:{title:function(){return""},label:function(s,o){return o.labels[s.index]+": "+s.yLabel}}}});var qp=Eu.extend({dataElementType:$u.Arc,linkScales:ie.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(s){var o=this,l=o.getDataset(),c=o.getMeta(),p=o.chart.options.startAngle||0,y=o._starts=[],M=o._angles=[],L=c.data,I,U,Z;for(o._updateRadius(),c.count=o.countVisibleElements(),I=0,U=l.data.length;I<U;I++)y[I]=p,Z=o._computeAngle(I),M[I]=Z,p+=Z;for(I=0,U=L.length;I<U;++I)L[I]._options=o._resolveDataElementOptions(L[I],I),o.updateElement(L[I],I,s)},_updateRadius:function(){var s=this,o=s.chart,l=o.chartArea,c=o.options,p=Math.min(l.right-l.left,l.bottom-l.top);o.outerRadius=Math.max(p/2,0),o.innerRadius=Math.max(c.cutoutPercentage?o.outerRadius/100*c.cutoutPercentage:1,0),o.radiusLength=(o.outerRadius-o.innerRadius)/o.getVisibleDatasetCount(),s.outerRadius=o.outerRadius-o.radiusLength*s.index,s.innerRadius=s.outerRadius-o.radiusLength},updateElement:function(s,o,l){var c=this,p=c.chart,y=c.getDataset(),M=p.options,L=M.animation,I=p.scale,U=p.data.labels,Z=I.xCenter,ee=I.yCenter,ye=M.startAngle,Ce=s.hidden?0:I.getDistanceFromCenterForValue(y.data[o]),De=c._starts[o],Be=De+(s.hidden?0:c._angles[o]),ot=L.animateScale?0:I.getDistanceFromCenterForValue(y.data[o]),_n=s._options||{};ie.extend(s,{_datasetIndex:c.index,_index:o,_scale:I,_model:{backgroundColor:_n.backgroundColor,borderColor:_n.borderColor,borderWidth:_n.borderWidth,borderAlign:_n.borderAlign,x:Z,y:ee,innerRadius:0,outerRadius:l?ot:Ce,startAngle:l&&L.animateRotate?ye:De,endAngle:l&&L.animateRotate?ye:Be,label:ie.valueAtIndexOrDefault(U,o,U[o])}}),s.pivot()},countVisibleElements:function(){var s=this.getDataset(),o=this.getMeta(),l=0;return ie.each(o.data,function(c,p){!isNaN(s.data[p])&&!c.hidden&&l++}),l},setHoverStyle:function(s){var o=s._model,l=s._options,c=ie.getHoverColor,p=ie.valueOrDefault;s.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth},o.backgroundColor=p(l.hoverBackgroundColor,c(l.backgroundColor)),o.borderColor=p(l.hoverBorderColor,c(l.borderColor)),o.borderWidth=p(l.hoverBorderWidth,l.borderWidth)},_computeAngle:function(s){var o=this,l=this.getMeta().count,c=o.getDataset(),p=o.getMeta();if(isNaN(c.data[s])||p.data[s].hidden)return 0;var y={chart:o.chart,dataIndex:s,dataset:c,datasetIndex:o.index};return Fp([o.chart.options.elements.arc.angle,2*Math.PI/l],y,s)}});xn._set("pie",ie.clone(xn.doughnut)),xn._set("pie",{cutoutPercentage:0});var jp=_h,Uu=ie.valueOrDefault;xn._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Vp=Eu.extend({datasetElementType:$u.Line,dataElementType:$u.Point,linkScales:ie.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(s){var o=this,l=o.getMeta(),c=l.dataset,p=l.data||[],y=o.chart.scale,M=o._config,L,I;for(M.tension!==void 0&&M.lineTension===void 0&&(M.lineTension=M.tension),c._scale=y,c._datasetIndex=o.index,c._children=p,c._loop=!0,c._model=o._resolveDatasetElementOptions(c),c.pivot(),L=0,I=p.length;L<I;++L)o.updateElement(p[L],L,s);for(o.updateBezierControlPoints(),L=0,I=p.length;L<I;++L)p[L].pivot()},updateElement:function(s,o,l){var c=this,p=s.custom||{},y=c.getDataset(),M=c.chart.scale,L=M.getPointPositionForValue(o,y.data[o]),I=c._resolveDataElementOptions(s,o),U=c.getMeta().dataset._model,Z=l?M.xCenter:L.x,ee=l?M.yCenter:L.y;s._scale=M,s._options=I,s._datasetIndex=c.index,s._index=o,s._model={x:Z,y:ee,skip:p.skip||isNaN(Z)||isNaN(ee),radius:I.radius,pointStyle:I.pointStyle,rotation:I.rotation,backgroundColor:I.backgroundColor,borderColor:I.borderColor,borderWidth:I.borderWidth,tension:Uu(p.tension,U?U.tension:0),hitRadius:I.hitRadius}},_resolveDatasetElementOptions:function(){var s=this,o=s._config,l=s.chart.options,c=Eu.prototype._resolveDatasetElementOptions.apply(s,arguments);return c.spanGaps=Uu(o.spanGaps,l.spanGaps),c.tension=Uu(o.lineTension,l.elements.line.tension),c},updateBezierControlPoints:function(){var s=this,o=s.getMeta(),l=s.chart.chartArea,c=o.data||[],p,y,M,L;o.dataset._model.spanGaps&&(c=c.filter(function(U){return!U._model.skip}));function I(U,Z,ee){return Math.max(Math.min(U,ee),Z)}for(p=0,y=c.length;p<y;++p)M=c[p]._model,L=ie.splineCurve(ie.previousItem(c,p,!0)._model,M,ie.nextItem(c,p,!0)._model,M.tension),M.controlPointPreviousX=I(L.previous.x,l.left,l.right),M.controlPointPreviousY=I(L.previous.y,l.top,l.bottom),M.controlPointNextX=I(L.next.x,l.left,l.right),M.controlPointNextY=I(L.next.y,l.top,l.bottom)},setHoverStyle:function(s){var o=s._model,l=s._options,c=ie.getHoverColor;s.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth,radius:o.radius},o.backgroundColor=Uu(l.hoverBackgroundColor,c(l.backgroundColor)),o.borderColor=Uu(l.hoverBorderColor,c(l.borderColor)),o.borderWidth=Uu(l.hoverBorderWidth,l.borderWidth),o.radius=Uu(l.hoverRadius,l.radius)}});xn._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(s){return"("+s.xLabel+", "+s.yLabel+")"}}}}),xn._set("global",{datasets:{scatter:{showLine:!1}}});var Wp=kh,$h={bar:bh,bubble:Np,doughnut:_h,horizontalBar:Cp,line:kh,polarArea:qp,pie:jp,radar:Vp,scatter:Wp};function Yu(s,o){return s.native?{x:s.x,y:s.y}:ie.getRelativePosition(s,o)}function uf(s,o){var l=s._getSortedVisibleDatasetMetas(),c,p,y,M,L,I;for(p=0,M=l.length;p<M;++p)for(c=l[p].data,y=0,L=c.length;y<L;++y)I=c[y],I._view.skip||o(I)}function Df(s,o){var l=[];return uf(s,function(c){c.inRange(o.x,o.y)&&l.push(c)}),l}function Lf(s,o,l,c){var p=Number.POSITIVE_INFINITY,y=[];return uf(s,function(M){if(!(l&&!M.inRange(o.x,o.y))){var L=M.getCenterPoint(),I=c(o,L);I<p?(y=[M],p=I):I===p&&y.push(M)}}),y}function Ff(s){var o=s.indexOf("x")!==-1,l=s.indexOf("y")!==-1;return function(c,p){var y=o?Math.abs(c.x-p.x):0,M=l?Math.abs(c.y-p.y):0;return Math.sqrt(Math.pow(y,2)+Math.pow(M,2))}}function qf(s,o,l){var c=Yu(o,s);l.axis=l.axis||"x";var p=Ff(l.axis),y=l.intersect?Df(s,c):Lf(s,c,!1,p),M=[];return y.length?(s._getSortedVisibleDatasetMetas().forEach(function(L){var I=L.data[y[0]._index];I&&!I._view.skip&&M.push(I)}),M):[]}var ef={modes:{single:function(s,o){var l=Yu(o,s),c=[];return uf(s,function(p){if(p.inRange(l.x,l.y))return c.push(p),c}),c.slice(0,1)},label:qf,index:qf,dataset:function(s,o,l){var c=Yu(o,s);l.axis=l.axis||"xy";var p=Ff(l.axis),y=l.intersect?Df(s,c):Lf(s,c,!1,p);return y.length>0&&(y=s.getDatasetMeta(y[0]._datasetIndex).data),y},"x-axis":function(s,o){return qf(s,o,{intersect:!1})},point:function(s,o){var l=Yu(o,s);return Df(s,l)},nearest:function(s,o,l){var c=Yu(o,s);l.axis=l.axis||"xy";var p=Ff(l.axis);return Lf(s,c,l.intersect,p)},x:function(s,o,l){var c=Yu(o,s),p=[],y=!1;return uf(s,function(M){M.inXRange(c.x)&&p.push(M),M.inRange(c.x,c.y)&&(y=!0)}),l.intersect&&!y&&(p=[]),p},y:function(s,o,l){var c=Yu(o,s),p=[],y=!1;return uf(s,function(M){M.inYRange(c.y)&&p.push(M),M.inRange(c.x,c.y)&&(y=!0)}),l.intersect&&!y&&(p=[]),p}}},jf=ie.extend;function cf(s,o){return ie.where(s,function(l){return l.pos===o})}function bf(s,o){return s.sort(function(l,c){var p=o?c:l,y=o?l:c;return p.weight===y.weight?p.index-y.index:p.weight-y.weight})}function Bp(s){var o=[],l,c,p;for(l=0,c=(s||[]).length;l<c;++l)p=s[l],o.push({index:l,box:p,pos:p.position,horizontal:p.isHorizontal(),weight:p.weight});return o}function zp(s,o){var l,c,p;for(l=0,c=s.length;l<c;++l)p=s[l],p.width=p.horizontal?p.box.fullWidth&&o.availableWidth:o.vBoxMaxWidth,p.height=p.horizontal&&o.hBoxMaxHeight}function Up(s){var o=Bp(s),l=bf(cf(o,"left"),!0),c=bf(cf(o,"right")),p=bf(cf(o,"top"),!0),y=bf(cf(o,"bottom"));return{leftAndTop:l.concat(p),rightAndBottom:c.concat(y),chartArea:cf(o,"chartArea"),vertical:l.concat(c),horizontal:p.concat(y)}}function Sh(s,o,l,c){return Math.max(s[l],o[l])+Math.max(s[c],o[c])}function Yp(s,o,l){var c=l.box,p=s.maxPadding,y,M;if(l.size&&(s[l.pos]-=l.size),l.size=l.horizontal?c.height:c.width,s[l.pos]+=l.size,c.getPadding){var L=c.getPadding();p.top=Math.max(p.top,L.top),p.left=Math.max(p.left,L.left),p.bottom=Math.max(p.bottom,L.bottom),p.right=Math.max(p.right,L.right)}if(y=o.outerWidth-Sh(p,s,"left","right"),M=o.outerHeight-Sh(p,s,"top","bottom"),y!==s.w||M!==s.h){s.w=y,s.h=M;var I=l.horizontal?[y,s.w]:[M,s.h];return I[0]!==I[1]&&(!isNaN(I[0])||!isNaN(I[1]))}}function Kp(s){var o=s.maxPadding;function l(c){var p=Math.max(o[c]-s[c],0);return s[c]+=p,p}s.y+=l("top"),s.x+=l("left"),l("right"),l("bottom")}function Hp(s,o){var l=o.maxPadding;function c(p){var y={left:0,top:0,right:0,bottom:0};return p.forEach(function(M){y[M]=Math.max(o[M],l[M])}),y}return c(s?["left","right"]:["top","bottom"])}function _f(s,o,l){var c=[],p,y,M,L,I,U;for(p=0,y=s.length;p<y;++p)M=s[p],L=M.box,L.update(M.width||o.w,M.height||o.h,Hp(M.horizontal,o)),Yp(o,l,M)&&(U=!0,c.length&&(I=!0)),L.fullWidth||c.push(M);return I&&_f(c,o,l)||U}function xh(s,o,l){var c=l.padding,p=o.x,y=o.y,M,L,I,U;for(M=0,L=s.length;M<L;++M)I=s[M],U=I.box,I.horizontal?(U.left=U.fullWidth?c.left:o.left,U.right=U.fullWidth?l.outerWidth-c.right:o.left+o.w,U.top=y,U.bottom=y+U.height,U.width=U.right-U.left,y=U.bottom):(U.left=p,U.right=p+U.width,U.top=o.top,U.bottom=o.top+o.h,U.height=U.bottom-U.top,p=U.right);o.x=p,o.y=y}xn._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Pu={defaults:{},addBox:function(s,o){s.boxes||(s.boxes=[]),o.fullWidth=o.fullWidth||!1,o.position=o.position||"top",o.weight=o.weight||0,o._layers=o._layers||function(){return[{z:0,draw:function(){o.draw.apply(o,arguments)}}]},s.boxes.push(o)},removeBox:function(s,o){var l=s.boxes?s.boxes.indexOf(o):-1;l!==-1&&s.boxes.splice(l,1)},configure:function(s,o,l){for(var c=["fullWidth","position","weight"],p=c.length,y=0,M;y<p;++y)M=c[y],l.hasOwnProperty(M)&&(o[M]=l[M])},update:function(s,o,l){if(s){var c=s.options.layout||{},p=ie.options.toPadding(c.padding),y=o-p.width,M=l-p.height,L=Up(s.boxes),I=L.vertical,U=L.horizontal,Z=Object.freeze({outerWidth:o,outerHeight:l,padding:p,availableWidth:y,vBoxMaxWidth:y/2/I.length,hBoxMaxHeight:M/2}),ee=jf({maxPadding:jf({},p),w:y,h:M,x:p.left,y:p.top},p);zp(I.concat(U),Z),_f(I,ee,Z),_f(U,ee,Z)&&_f(I,ee,Z),Kp(ee),xh(L.leftAndTop,ee,Z),ee.x+=ee.w,ee.y+=ee.h,xh(L.rightAndBottom,ee,Z),s.chartArea={left:ee.left,top:ee.top,right:ee.left+ee.w,bottom:ee.top+ee.h},ie.each(L.chartArea,function(ye){var Ce=ye.box;jf(Ce,s.chartArea),Ce.update(ee.w,ee.h)})}}},Gp={acquireContext:function(s){return s&&s.canvas&&(s=s.canvas),s&&s.getContext("2d")||null}},Jp=`/*\r
 * DOM element rendering detection\r
 * https://davidwalsh.name/detect-node-insertion\r
 */\r
@keyframes chartjs-render-animation {\r
	from { opacity: 0.99; }\r
	to { opacity: 1; }\r
}\r
\r
.chartjs-render-monitor {\r
	animation: chartjs-render-animation 0.001s;\r
}\r
\r
/*\r
 * DOM element resizing detection\r
 * https://github.com/marcj/css-element-queries\r
 */\r
.chartjs-size-monitor,\r
.chartjs-size-monitor-expand,\r
.chartjs-size-monitor-shrink {\r
	position: absolute;\r
	direction: ltr;\r
	left: 0;\r
	top: 0;\r
	right: 0;\r
	bottom: 0;\r
	overflow: hidden;\r
	pointer-events: none;\r
	visibility: hidden;\r
	z-index: -1;\r
}\r
\r
.chartjs-size-monitor-expand > div {\r
	position: absolute;\r
	width: 1000000px;\r
	height: 1000000px;\r
	left: 0;\r
	top: 0;\r
}\r
\r
.chartjs-size-monitor-shrink > div {\r
	position: absolute;\r
	width: 200%;\r
	height: 200%;\r
	left: 0;\r
	top: 0;\r
}\r
`,Xp=Object.freeze({__proto__:null,default:Jp}),Qp=i(Xp),ku="$chartjs",Vf="chartjs-",Wf=Vf+"size-monitor",Mh=Vf+"render-monitor",Zp=Vf+"render-animation",Th=["animationstart","webkitAnimationStart"],em={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Eh(s,o){var l=ie.getStyle(s,o),c=l&&l.match(/^(\d+)(\.\d+)?px$/);return c?Number(c[1]):void 0}function tm(s,o){var l=s.style,c=s.getAttribute("height"),p=s.getAttribute("width");if(s[ku]={initial:{height:c,width:p,style:{display:l.display,height:l.height,width:l.width}}},l.display=l.display||"block",p===null||p===""){var y=Eh(s,"width");y!==void 0&&(s.width=y)}if(c===null||c==="")if(s.style.height==="")s.height=s.width/(o.options.aspectRatio||2);else{var M=Eh(s,"height");y!==void 0&&(s.height=M)}return s}var rm=(function(){var s=!1;try{var o=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("e",null,o)}catch{}return s})(),Ph=rm?{passive:!0}:!1;function df(s,o,l){s.addEventListener(o,l,Ph)}function Bf(s,o,l){s.removeEventListener(o,l,Ph)}function zf(s,o,l,c,p){return{type:s,chart:o,native:p||null,x:l!==void 0?l:null,y:c!==void 0?c:null}}function nm(s,o){var l=em[s.type]||s.type,c=ie.getRelativePosition(s,o);return zf(l,o,c.x,c.y,s)}function sm(s,o){var l=!1,c=[];return function(){c=Array.prototype.slice.call(arguments),o=o||this,l||(l=!0,ie.requestAnimFrame.call(window,function(){l=!1,s.apply(o,c)}))}}function ff(s){var o=document.createElement("div");return o.className=s||"",o}function im(s){var o=1e6,l=ff(Wf),c=ff(Wf+"-expand"),p=ff(Wf+"-shrink");c.appendChild(ff()),p.appendChild(ff()),l.appendChild(c),l.appendChild(p),l._reset=function(){c.scrollLeft=o,c.scrollTop=o,p.scrollLeft=o,p.scrollTop=o};var y=function(){l._reset(),s()};return df(c,"scroll",y.bind(c,"expand")),df(p,"scroll",y.bind(p,"shrink")),l}function am(s,o){var l=s[ku]||(s[ku]={}),c=l.renderProxy=function(p){p.animationName===Zp&&o()};ie.each(Th,function(p){df(s,p,c)}),l.reflow=!!s.offsetParent,s.classList.add(Mh)}function om(s){var o=s[ku]||{},l=o.renderProxy;l&&(ie.each(Th,function(c){Bf(s,c,l)}),delete o.renderProxy),s.classList.remove(Mh)}function lm(s,o,l){var c=s[ku]||(s[ku]={}),p=c.resizer=im(sm(function(){if(c.resizer){var y=l.options.maintainAspectRatio&&s.parentNode,M=y?y.clientWidth:0;o(zf("resize",l)),y&&y.clientWidth<M&&l.canvas&&o(zf("resize",l))}}));am(s,function(){if(c.resizer){var y=s.parentNode;y&&y!==p.parentNode&&y.insertBefore(p,y.firstChild),p._reset()}})}function um(s){var o=s[ku]||{},l=o.resizer;delete o.resizer,om(s),l&&l.parentNode&&l.parentNode.removeChild(l)}function cm(s,o){var l=s[ku]||(s[ku]={});if(!l.containsStyles){l.containsStyles=!0,o=`/* Chart.js */
`+o;var c=document.createElement("style");c.setAttribute("type","text/css"),c.appendChild(document.createTextNode(o)),s.appendChild(c)}}var Ih={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(s){if(!this.disableCSSInjection){var o=s.getRootNode?s.getRootNode():document,l=o.host?o:document.head;cm(l,Qp)}},acquireContext:function(s,o){typeof s=="string"?s=document.getElementById(s):s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas);var l=s&&s.getContext&&s.getContext("2d");return l&&l.canvas===s?(this._ensureLoaded(s),tm(s,o),l):null},releaseContext:function(s){var o=s.canvas;if(o[ku]){var l=o[ku].initial;["height","width"].forEach(function(c){var p=l[c];ie.isNullOrUndef(p)?o.removeAttribute(c):o.setAttribute(c,p)}),ie.each(l.style||{},function(c,p){o.style[p]=c}),o.width=o.width,delete o[ku]}},addEventListener:function(s,o,l){var c=s.canvas;if(o==="resize"){lm(c,l,s);return}var p=l[ku]||(l[ku]={}),y=p.proxies||(p.proxies={}),M=y[s.id+"_"+o]=function(L){l(nm(L,s))};df(c,o,M)},removeEventListener:function(s,o,l){var c=s.canvas;if(o==="resize"){um(c);return}var p=l[ku]||{},y=p.proxies||{},M=y[s.id+"_"+o];M&&Bf(c,o,M)}};ie.addEvent=df,ie.removeEvent=Bf;var dm=Ih._enabled?Ih:Gp,tf=ie.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},dm);xn._set("global",{plugins:{}});var du={_plugins:[],_cacheId:0,register:function(s){var o=this._plugins;[].concat(s).forEach(function(l){o.indexOf(l)===-1&&o.push(l)}),this._cacheId++},unregister:function(s){var o=this._plugins;[].concat(s).forEach(function(l){var c=o.indexOf(l);c!==-1&&o.splice(c,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(s,o,l){var c=this.descriptors(s),p=c.length,y,M,L,I,U;for(y=0;y<p;++y)if(M=c[y],L=M.plugin,U=L[o],typeof U=="function"&&(I=[s].concat(l||[]),I.push(M.options),U.apply(L,I)===!1))return!1;return!0},descriptors:function(s){var o=s.$plugins||(s.$plugins={});if(o.id===this._cacheId)return o.descriptors;var l=[],c=[],p=s&&s.config||{},y=p.options&&p.options.plugins||{};return this._plugins.concat(p.plugins||[]).forEach(function(M){var L=l.indexOf(M);if(L===-1){var I=M.id,U=y[I];U!==!1&&(U===!0&&(U=ie.clone(xn.global.plugins[I])),l.push(M),c.push({plugin:M,options:U||{}}))}}),o.descriptors=c,o.id=this._cacheId,c},_invalidate:function(s){delete s.$plugins}},hf={constructors:{},defaults:{},registerScaleType:function(s,o,l){this.constructors[s]=o,this.defaults[s]=ie.clone(l)},getScaleConstructor:function(s){return this.constructors.hasOwnProperty(s)?this.constructors[s]:void 0},getScaleDefaults:function(s){return this.defaults.hasOwnProperty(s)?ie.merge(Object.create(null),[xn.scale,this.defaults[s]]):{}},updateScaleDefaults:function(s,o){var l=this;l.defaults.hasOwnProperty(s)&&(l.defaults[s]=ie.extend(l.defaults[s],o))},addScalesToLayout:function(s){ie.each(s.scales,function(o){o.fullWidth=o.options.fullWidth,o.position=o.options.position,o.weight=o.options.weight,Pu.addBox(s,o)})}},Du=ie.valueOrDefault,Uf=ie.rtl.getRtlAdapter;xn._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:ie.noop,title:function(s,o){var l="",c=o.labels,p=c?c.length:0;if(s.length>0){var y=s[0];y.label?l=y.label:y.xLabel?l=y.xLabel:p>0&&y.index<p&&(l=c[y.index])}return l},afterTitle:ie.noop,beforeBody:ie.noop,beforeLabel:ie.noop,label:function(s,o){var l=o.datasets[s.datasetIndex].label||"";return l&&(l+=": "),ie.isNullOrUndef(s.value)?l+=s.yLabel:l+=s.value,l},labelColor:function(s,o){var l=o.getDatasetMeta(s.datasetIndex),c=l.data[s.index],p=c._view;return{borderColor:p.borderColor,backgroundColor:p.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:ie.noop,afterBody:ie.noop,beforeFooter:ie.noop,footer:ie.noop,afterFooter:ie.noop}}});var Rh={average:function(s){if(!s.length)return!1;var o,l,c=0,p=0,y=0;for(o=0,l=s.length;o<l;++o){var M=s[o];if(M&&M.hasValue()){var L=M.tooltipPosition();c+=L.x,p+=L.y,++y}}return{x:c/y,y:p/y}},nearest:function(s,o){var l=o.x,c=o.y,p=Number.POSITIVE_INFINITY,y,M,L;for(y=0,M=s.length;y<M;++y){var I=s[y];if(I&&I.hasValue()){var U=I.getCenterPoint(),Z=ie.distanceBetweenPoints(o,U);Z<p&&(p=Z,L=I)}}if(L){var ee=L.tooltipPosition();l=ee.x,c=ee.y}return{x:l,y:c}}};function Nu(s,o){return o&&(ie.isArray(o)?Array.prototype.push.apply(s,o):s.push(o)),s}function Lu(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function fm(s){var o=s._xScale,l=s._yScale||s._scale,c=s._index,p=s._datasetIndex,y=s._chart.getDatasetMeta(p).controller,M=y._getIndexScale(),L=y._getValueScale();return{xLabel:o?o.getLabelForIndex(c,p):"",yLabel:l?l.getLabelForIndex(c,p):"",label:M?""+M.getLabelForIndex(c,p):"",value:L?""+L.getLabelForIndex(c,p):"",index:c,datasetIndex:p,x:s._model.x,y:s._model.y}}function Oh(s){var o=xn.global;return{xPadding:s.xPadding,yPadding:s.yPadding,xAlign:s.xAlign,yAlign:s.yAlign,rtl:s.rtl,textDirection:s.textDirection,bodyFontColor:s.bodyFontColor,_bodyFontFamily:Du(s.bodyFontFamily,o.defaultFontFamily),_bodyFontStyle:Du(s.bodyFontStyle,o.defaultFontStyle),_bodyAlign:s.bodyAlign,bodyFontSize:Du(s.bodyFontSize,o.defaultFontSize),bodySpacing:s.bodySpacing,titleFontColor:s.titleFontColor,_titleFontFamily:Du(s.titleFontFamily,o.defaultFontFamily),_titleFontStyle:Du(s.titleFontStyle,o.defaultFontStyle),titleFontSize:Du(s.titleFontSize,o.defaultFontSize),_titleAlign:s.titleAlign,titleSpacing:s.titleSpacing,titleMarginBottom:s.titleMarginBottom,footerFontColor:s.footerFontColor,_footerFontFamily:Du(s.footerFontFamily,o.defaultFontFamily),_footerFontStyle:Du(s.footerFontStyle,o.defaultFontStyle),footerFontSize:Du(s.footerFontSize,o.defaultFontSize),_footerAlign:s.footerAlign,footerSpacing:s.footerSpacing,footerMarginTop:s.footerMarginTop,caretSize:s.caretSize,cornerRadius:s.cornerRadius,backgroundColor:s.backgroundColor,opacity:0,legendColorBackground:s.multiKeyBackground,displayColors:s.displayColors,borderColor:s.borderColor,borderWidth:s.borderWidth}}function hm(s,o){var l=s._chart.ctx,c=o.yPadding*2,p=0,y=o.body,M=y.reduce(function(De,Be){return De+Be.before.length+Be.lines.length+Be.after.length},0);M+=o.beforeBody.length+o.afterBody.length;var L=o.title.length,I=o.footer.length,U=o.titleFontSize,Z=o.bodyFontSize,ee=o.footerFontSize;c+=L*U,c+=L?(L-1)*o.titleSpacing:0,c+=L?o.titleMarginBottom:0,c+=M*Z,c+=M?(M-1)*o.bodySpacing:0,c+=I?o.footerMarginTop:0,c+=I*ee,c+=I?(I-1)*o.footerSpacing:0;var ye=0,Ce=function(De){p=Math.max(p,l.measureText(De).width+ye)};return l.font=ie.fontString(U,o._titleFontStyle,o._titleFontFamily),ie.each(o.title,Ce),l.font=ie.fontString(Z,o._bodyFontStyle,o._bodyFontFamily),ie.each(o.beforeBody.concat(o.afterBody),Ce),ye=o.displayColors?Z+2:0,ie.each(y,function(De){ie.each(De.before,Ce),ie.each(De.lines,Ce),ie.each(De.after,Ce)}),ye=0,l.font=ie.fontString(ee,o._footerFontStyle,o._footerFontFamily),ie.each(o.footer,Ce),p+=2*o.xPadding,{width:p,height:c}}function pm(s,o){var l=s._model,c=s._chart,p=s._chart.chartArea,y="center",M="center";l.y<o.height?M="top":l.y>c.height-o.height&&(M="bottom");var L,I,U,Z,ee,ye=(p.left+p.right)/2,Ce=(p.top+p.bottom)/2;M==="center"?(L=function(Be){return Be<=ye},I=function(Be){return Be>ye}):(L=function(Be){return Be<=o.width/2},I=function(Be){return Be>=c.width-o.width/2}),U=function(Be){return Be+o.width+l.caretSize+l.caretPadding>c.width},Z=function(Be){return Be-o.width-l.caretSize-l.caretPadding<0},ee=function(Be){return Be<=Ce?"top":"bottom"},L(l.x)?(y="left",U(l.x)&&(y="center",M=ee(l.y))):I(l.x)&&(y="right",Z(l.x)&&(y="center",M=ee(l.y)));var De=s._options;return{xAlign:De.xAlign?De.xAlign:y,yAlign:De.yAlign?De.yAlign:M}}function mm(s,o,l,c){var p=s.x,y=s.y,M=s.caretSize,L=s.caretPadding,I=s.cornerRadius,U=l.xAlign,Z=l.yAlign,ee=M+L,ye=I+L;return U==="right"?p-=o.width:U==="center"&&(p-=o.width/2,p+o.width>c.width&&(p=c.width-o.width),p<0&&(p=0)),Z==="top"?y+=ee:Z==="bottom"?y-=o.height+ee:y-=o.height/2,Z==="center"?U==="left"?p+=ee:U==="right"&&(p-=ee):U==="left"?p-=ye:U==="right"&&(p+=ye),{x:p,y}}function wf(s,o){return o==="center"?s.x+s.width/2:o==="right"?s.x+s.width-s.xPadding:s.x+s.xPadding}function Nh(s){return Nu([],Lu(s))}var vm=Ru.extend({initialize:function(){this._model=Oh(this._options),this._lastActive=[]},getTitle:function(){var s=this,o=s._options,l=o.callbacks,c=l.beforeTitle.apply(s,arguments),p=l.title.apply(s,arguments),y=l.afterTitle.apply(s,arguments),M=[];return M=Nu(M,Lu(c)),M=Nu(M,Lu(p)),M=Nu(M,Lu(y)),M},getBeforeBody:function(){return Nh(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(s,o){var l=this,c=l._options.callbacks,p=[];return ie.each(s,function(y){var M={before:[],lines:[],after:[]};Nu(M.before,Lu(c.beforeLabel.call(l,y,o))),Nu(M.lines,c.label.call(l,y,o)),Nu(M.after,Lu(c.afterLabel.call(l,y,o))),p.push(M)}),p},getAfterBody:function(){return Nh(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var s=this,o=s._options.callbacks,l=o.beforeFooter.apply(s,arguments),c=o.footer.apply(s,arguments),p=o.afterFooter.apply(s,arguments),y=[];return y=Nu(y,Lu(l)),y=Nu(y,Lu(c)),y=Nu(y,Lu(p)),y},update:function(s){var o=this,l=o._options,c=o._model,p=o._model=Oh(l),y=o._active,M=o._data,L={xAlign:c.xAlign,yAlign:c.yAlign},I={x:c.x,y:c.y},U={width:c.width,height:c.height},Z={x:c.caretX,y:c.caretY},ee,ye;if(y.length){p.opacity=1;var Ce=[],De=[];Z=Rh[l.position].call(o,y,o._eventPosition);var Be=[];for(ee=0,ye=y.length;ee<ye;++ee)Be.push(fm(y[ee]));l.filter&&(Be=Be.filter(function(ot){return l.filter(ot,M)})),l.itemSort&&(Be=Be.sort(function(ot,_n){return l.itemSort(ot,_n,M)})),ie.each(Be,function(ot){Ce.push(l.callbacks.labelColor.call(o,ot,o._chart)),De.push(l.callbacks.labelTextColor.call(o,ot,o._chart))}),p.title=o.getTitle(Be,M),p.beforeBody=o.getBeforeBody(Be,M),p.body=o.getBody(Be,M),p.afterBody=o.getAfterBody(Be,M),p.footer=o.getFooter(Be,M),p.x=Z.x,p.y=Z.y,p.caretPadding=l.caretPadding,p.labelColors=Ce,p.labelTextColors=De,p.dataPoints=Be,U=hm(this,p),L=pm(this,U),I=mm(p,U,L,o._chart)}else p.opacity=0;return p.xAlign=L.xAlign,p.yAlign=L.yAlign,p.x=I.x,p.y=I.y,p.width=U.width,p.height=U.height,p.caretX=Z.x,p.caretY=Z.y,o._model=p,s&&l.custom&&l.custom.call(o,p),o},drawCaret:function(s,o){var l=this._chart.ctx,c=this._view,p=this.getCaretPosition(s,o,c);l.lineTo(p.x1,p.y1),l.lineTo(p.x2,p.y2),l.lineTo(p.x3,p.y3)},getCaretPosition:function(s,o,l){var c,p,y,M,L,I,U=l.caretSize,Z=l.cornerRadius,ee=l.xAlign,ye=l.yAlign,Ce=s.x,De=s.y,Be=o.width,ot=o.height;if(ye==="center")L=De+ot/2,ee==="left"?(c=Ce,p=c-U,y=c,M=L+U,I=L-U):(c=Ce+Be,p=c+U,y=c,M=L-U,I=L+U);else if(ee==="left"?(p=Ce+Z+U,c=p-U,y=p+U):ee==="right"?(p=Ce+Be-Z-U,c=p-U,y=p+U):(p=l.caretX,c=p-U,y=p+U),ye==="top")M=De,L=M-U,I=M;else{M=De+ot,L=M+U,I=M;var _n=y;y=c,c=_n}return{x1:c,x2:p,x3:y,y1:M,y2:L,y3:I}},drawTitle:function(s,o,l){var c=o.title,p=c.length,y,M,L;if(p){var I=Uf(o.rtl,o.x,o.width);for(s.x=wf(o,o._titleAlign),l.textAlign=I.textAlign(o._titleAlign),l.textBaseline="middle",y=o.titleFontSize,M=o.titleSpacing,l.fillStyle=o.titleFontColor,l.font=ie.fontString(y,o._titleFontStyle,o._titleFontFamily),L=0;L<p;++L)l.fillText(c[L],I.x(s.x),s.y+y/2),s.y+=y+M,L+1===p&&(s.y+=o.titleMarginBottom-M)}},drawBody:function(s,o,l){var c=o.bodyFontSize,p=o.bodySpacing,y=o._bodyAlign,M=o.body,L=o.displayColors,I=0,U=L?wf(o,"left"):0,Z=Uf(o.rtl,o.x,o.width),ee=function(ou){l.fillText(ou,Z.x(s.x+I),s.y+c/2),s.y+=c+p},ye,Ce,De,Be,ot,_n,Cn,rs,ai=Z.textAlign(y);for(l.textAlign=y,l.textBaseline="middle",l.font=ie.fontString(c,o._bodyFontStyle,o._bodyFontFamily),s.x=wf(o,ai),l.fillStyle=o.bodyFontColor,ie.each(o.beforeBody,ee),I=L&&ai!=="right"?y==="center"?c/2+1:c+2:0,ot=0,Cn=M.length;ot<Cn;++ot){for(ye=M[ot],Ce=o.labelTextColors[ot],De=o.labelColors[ot],l.fillStyle=Ce,ie.each(ye.before,ee),Be=ye.lines,_n=0,rs=Be.length;_n<rs;++_n){if(L){var ni=Z.x(U);l.fillStyle=o.legendColorBackground,l.fillRect(Z.leftForLtr(ni,c),s.y,c,c),l.lineWidth=1,l.strokeStyle=De.borderColor,l.strokeRect(Z.leftForLtr(ni,c),s.y,c,c),l.fillStyle=De.backgroundColor,l.fillRect(Z.leftForLtr(Z.xPlus(ni,1),c-2),s.y+1,c-2,c-2),l.fillStyle=Ce}ee(Be[_n])}ie.each(ye.after,ee)}I=0,ie.each(o.afterBody,ee),s.y-=p},drawFooter:function(s,o,l){var c=o.footer,p=c.length,y,M;if(p){var L=Uf(o.rtl,o.x,o.width);for(s.x=wf(o,o._footerAlign),s.y+=o.footerMarginTop,l.textAlign=L.textAlign(o._footerAlign),l.textBaseline="middle",y=o.footerFontSize,l.fillStyle=o.footerFontColor,l.font=ie.fontString(y,o._footerFontStyle,o._footerFontFamily),M=0;M<p;++M)l.fillText(c[M],L.x(s.x),s.y+y/2),s.y+=y+o.footerSpacing}},drawBackground:function(s,o,l,c){l.fillStyle=o.backgroundColor,l.strokeStyle=o.borderColor,l.lineWidth=o.borderWidth;var p=o.xAlign,y=o.yAlign,M=s.x,L=s.y,I=c.width,U=c.height,Z=o.cornerRadius;l.beginPath(),l.moveTo(M+Z,L),y==="top"&&this.drawCaret(s,c),l.lineTo(M+I-Z,L),l.quadraticCurveTo(M+I,L,M+I,L+Z),y==="center"&&p==="right"&&this.drawCaret(s,c),l.lineTo(M+I,L+U-Z),l.quadraticCurveTo(M+I,L+U,M+I-Z,L+U),y==="bottom"&&this.drawCaret(s,c),l.lineTo(M+Z,L+U),l.quadraticCurveTo(M,L+U,M,L+U-Z),y==="center"&&p==="left"&&this.drawCaret(s,c),l.lineTo(M,L+Z),l.quadraticCurveTo(M,L,M+Z,L),l.closePath(),l.fill(),o.borderWidth>0&&l.stroke()},draw:function(){var s=this._chart.ctx,o=this._view;if(o.opacity!==0){var l={width:o.width,height:o.height},c={x:o.x,y:o.y},p=Math.abs(o.opacity<.001)?0:o.opacity,y=o.title.length||o.beforeBody.length||o.body.length||o.afterBody.length||o.footer.length;this._options.enabled&&y&&(s.save(),s.globalAlpha=p,this.drawBackground(c,o,s,l),c.y+=o.yPadding,ie.rtl.overrideTextDirection(s,o.textDirection),this.drawTitle(c,o,s),this.drawBody(c,o,s),this.drawFooter(c,o,s),ie.rtl.restoreTextDirection(s,o.textDirection),s.restore())}},handleEvent:function(s){var o=this,l=o._options,c=!1;return o._lastActive=o._lastActive||[],s.type==="mouseout"?o._active=[]:(o._active=o._chart.getElementsAtEventForMode(s,l.mode,l),l.reverse&&o._active.reverse()),c=!ie.arrayEquals(o._active,o._lastActive),c&&(o._lastActive=o._active,(l.enabled||l.custom)&&(o._eventPosition={x:s.x,y:s.y},o.update(!0),o.pivot())),c}}),gm=Rh,Yf=vm;Yf.positioners=gm;var Kf=ie.valueOrDefault;xn._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});function Ch(){return ie.merge(Object.create(null),[].slice.call(arguments),{merger:function(s,o,l,c){if(s==="xAxes"||s==="yAxes"){var p=l[s].length,y,M,L;for(o[s]||(o[s]=[]),y=0;y<p;++y)L=l[s][y],M=Kf(L.type,s==="xAxes"?"category":"linear"),y>=o[s].length&&o[s].push({}),!o[s][y].type||L.type&&L.type!==o[s][y].type?ie.merge(o[s][y],[hf.getScaleDefaults(M),L]):ie.merge(o[s][y],L)}else ie._merger(s,o,l,c)}})}function Hf(){return ie.merge(Object.create(null),[].slice.call(arguments),{merger:function(s,o,l,c){var p=o[s]||Object.create(null),y=l[s];s==="scales"?o[s]=Ch(p,y):s==="scale"?o[s]=ie.merge(p,[hf.getScaleDefaults(y.type),y]):ie._merger(s,o,l,c)}})}function ym(s){s=s||Object.create(null);var o=s.data=s.data||{};return o.datasets=o.datasets||[],o.labels=o.labels||[],s.options=Hf(xn.global,xn[s.type],s.options||{}),s}function bm(s){var o=s.options;ie.each(s.scales,function(l){Pu.removeBox(s,l)}),o=Hf(xn.global,xn[s.config.type],o),s.options=s.config.options=o,s.ensureScalesHaveIDs(),s.buildOrUpdateScales(),s.tooltip._options=o.tooltips,s.tooltip.initialize()}function Ah(s,o,l){var c,p=function(y){return y.id===c};do c=o+l++;while(ie.findIndex(s,p)>=0);return c}function Dh(s){return s==="top"||s==="bottom"}function Lh(s,o){return function(l,c){return l[s]===c[s]?l[o]-c[o]:l[s]-c[s]}}var qu=function(s,o){return this.construct(s,o),this};ie.extend(qu.prototype,{construct:function(s,o){var l=this;o=ym(o);var c=tf.acquireContext(s,o),p=c&&c.canvas,y=p&&p.height,M=p&&p.width;if(l.id=ie.uid(),l.ctx=c,l.canvas=p,l.config=o,l.width=M,l.height=y,l.aspectRatio=y?M/y:null,l.options=o.options,l._bufferedRender=!1,l._layers=[],l.chart=l,l.controller=l,qu.instances[l.id]=l,Object.defineProperty(l,"data",{get:function(){return l.config.data},set:function(L){l.config.data=L}}),!c||!p){console.error("Failed to create chart: can't acquire context from the given item");return}l.initialize(),l.update()},initialize:function(){var s=this;return du.notify(s,"beforeInit"),ie.retinaScale(s,s.options.devicePixelRatio),s.bindEvents(),s.options.responsive&&s.resize(!0),s.initToolTip(),du.notify(s,"afterInit"),s},clear:function(){return ie.canvas.clear(this),this},stop:function(){return Of.cancelAnimation(this),this},resize:function(s){var o=this,l=o.options,c=o.canvas,p=l.maintainAspectRatio&&o.aspectRatio||null,y=Math.max(0,Math.floor(ie.getMaximumWidth(c))),M=Math.max(0,Math.floor(p?y/p:ie.getMaximumHeight(c)));if(!(o.width===y&&o.height===M)&&(c.width=o.width=y,c.height=o.height=M,c.style.width=y+"px",c.style.height=M+"px",ie.retinaScale(o,l.devicePixelRatio),!s)){var L={width:y,height:M};du.notify(o,"resize",[L]),l.onResize&&l.onResize(o,L),o.stop(),o.update({duration:l.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var s=this.options,o=s.scales||{},l=s.scale;ie.each(o.xAxes,function(c,p){c.id||(c.id=Ah(o.xAxes,"x-axis-",p))}),ie.each(o.yAxes,function(c,p){c.id||(c.id=Ah(o.yAxes,"y-axis-",p))}),l&&(l.id=l.id||"scale")},buildOrUpdateScales:function(){var s=this,o=s.options,l=s.scales||{},c=[],p=Object.keys(l).reduce(function(y,M){return y[M]=!1,y},{});o.scales&&(c=c.concat((o.scales.xAxes||[]).map(function(y){return{options:y,dtype:"category",dposition:"bottom"}}),(o.scales.yAxes||[]).map(function(y){return{options:y,dtype:"linear",dposition:"left"}}))),o.scale&&c.push({options:o.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),ie.each(c,function(y){var M=y.options,L=M.id,I=Kf(M.type,y.dtype);Dh(M.position)!==Dh(y.dposition)&&(M.position=y.dposition),p[L]=!0;var U=null;if(L in l&&l[L].type===I)U=l[L],U.options=M,U.ctx=s.ctx,U.chart=s;else{var Z=hf.getScaleConstructor(I);if(!Z)return;U=new Z({id:L,type:I,options:M,ctx:s.ctx,chart:s}),l[U.id]=U}U.mergeTicksOptions(),y.isDefault&&(s.scale=U)}),ie.each(p,function(y,M){y||delete l[M]}),s.scales=l,hf.addScalesToLayout(this)},buildOrUpdateControllers:function(){var s=this,o=[],l=s.data.datasets,c,p;for(c=0,p=l.length;c<p;c++){var y=l[c],M=s.getDatasetMeta(c),L=y.type||s.config.type;if(M.type&&M.type!==L&&(s.destroyDatasetMeta(c),M=s.getDatasetMeta(c)),M.type=L,M.order=y.order||0,M.index=c,M.controller)M.controller.updateIndex(c),M.controller.linkScales();else{var I=$h[M.type];if(I===void 0)throw new Error('"'+M.type+'" is not a chart type.');M.controller=new I(s,c),o.push(M.controller)}}return o},resetElements:function(){var s=this;ie.each(s.data.datasets,function(o,l){s.getDatasetMeta(l).controller.reset()},s)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(s){var o=this,l,c;if((!s||typeof s!="object")&&(s={duration:s,lazy:arguments[1]}),bm(o),du._invalidate(o),du.notify(o,"beforeUpdate")!==!1){o.tooltip._data=o.data;var p=o.buildOrUpdateControllers();for(l=0,c=o.data.datasets.length;l<c;l++)o.getDatasetMeta(l).controller.buildOrUpdateElements();o.updateLayout(),o.options.animation&&o.options.animation.duration&&ie.each(p,function(y){y.reset()}),o.updateDatasets(),o.tooltip.initialize(),o.lastActive=[],du.notify(o,"afterUpdate"),o._layers.sort(Lh("z","_idx")),o._bufferedRender?o._bufferedRequest={duration:s.duration,easing:s.easing,lazy:s.lazy}:o.render(s)}},updateLayout:function(){var s=this;du.notify(s,"beforeLayout")!==!1&&(Pu.update(this,this.width,this.height),s._layers=[],ie.each(s.boxes,function(o){o._configure&&o._configure(),s._layers.push.apply(s._layers,o._layers())},s),s._layers.forEach(function(o,l){o._idx=l}),du.notify(s,"afterScaleUpdate"),du.notify(s,"afterLayout"))},updateDatasets:function(){var s=this;if(du.notify(s,"beforeDatasetsUpdate")!==!1){for(var o=0,l=s.data.datasets.length;o<l;++o)s.updateDataset(o);du.notify(s,"afterDatasetsUpdate")}},updateDataset:function(s){var o=this,l=o.getDatasetMeta(s),c={meta:l,index:s};du.notify(o,"beforeDatasetUpdate",[c])!==!1&&(l.controller._update(),du.notify(o,"afterDatasetUpdate",[c]))},render:function(s){var o=this;(!s||typeof s!="object")&&(s={duration:s,lazy:arguments[1]});var l=o.options.animation,c=Kf(s.duration,l&&l.duration),p=s.lazy;if(du.notify(o,"beforeRender")!==!1){var y=function(L){du.notify(o,"afterRender"),ie.callback(l&&l.onComplete,[L],o)};if(l&&c){var M=new Rf({numSteps:c/16.66,easing:s.easing||l.easing,render:function(L,I){var U=ie.easing.effects[I.easing],Z=I.currentStep,ee=Z/I.numSteps;L.draw(U(ee),ee,Z)},onAnimationProgress:l.onProgress,onAnimationComplete:y});Of.addAnimation(o,M,c,p)}else o.draw(),y(new Rf({numSteps:0,chart:o}));return o}},draw:function(s){var o=this,l,c;if(o.clear(),ie.isNullOrUndef(s)&&(s=1),o.transition(s),!(o.width<=0||o.height<=0)&&du.notify(o,"beforeDraw",[s])!==!1){for(c=o._layers,l=0;l<c.length&&c[l].z<=0;++l)c[l].draw(o.chartArea);for(o.drawDatasets(s);l<c.length;++l)c[l].draw(o.chartArea);o._drawTooltip(s),du.notify(o,"afterDraw",[s])}},transition:function(s){for(var o=this,l=0,c=(o.data.datasets||[]).length;l<c;++l)o.isDatasetVisible(l)&&o.getDatasetMeta(l).controller.transition(s);o.tooltip.transition(s)},_getSortedDatasetMetas:function(s){var o=this,l=o.data.datasets||[],c=[],p,y;for(p=0,y=l.length;p<y;++p)(!s||o.isDatasetVisible(p))&&c.push(o.getDatasetMeta(p));return c.sort(Lh("order","index")),c},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(s){var o=this,l,c;if(du.notify(o,"beforeDatasetsDraw",[s])!==!1){for(l=o._getSortedVisibleDatasetMetas(),c=l.length-1;c>=0;--c)o.drawDataset(l[c],s);du.notify(o,"afterDatasetsDraw",[s])}},drawDataset:function(s,o){var l=this,c={meta:s,index:s.index,easingValue:o};du.notify(l,"beforeDatasetDraw",[c])!==!1&&(s.controller.draw(o),du.notify(l,"afterDatasetDraw",[c]))},_drawTooltip:function(s){var o=this,l=o.tooltip,c={tooltip:l,easingValue:s};du.notify(o,"beforeTooltipDraw",[c])!==!1&&(l.draw(),du.notify(o,"afterTooltipDraw",[c]))},getElementAtEvent:function(s){return ef.modes.single(this,s)},getElementsAtEvent:function(s){return ef.modes.label(this,s,{intersect:!0})},getElementsAtXAxis:function(s){return ef.modes["x-axis"](this,s,{intersect:!0})},getElementsAtEventForMode:function(s,o,l){var c=ef.modes[o];return typeof c=="function"?c(this,s,l):[]},getDatasetAtEvent:function(s){return ef.modes.dataset(this,s,{intersect:!0})},getDatasetMeta:function(s){var o=this,l=o.data.datasets[s];l._meta||(l._meta={});var c=l._meta[o.id];return c||(c=l._meta[o.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:l.order||0,index:s}),c},getVisibleDatasetCount:function(){for(var s=0,o=0,l=this.data.datasets.length;o<l;++o)this.isDatasetVisible(o)&&s++;return s},isDatasetVisible:function(s){var o=this.getDatasetMeta(s);return typeof o.hidden=="boolean"?!o.hidden:!this.data.datasets[s].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(s){var o=this.id,l=this.data.datasets[s],c=l._meta&&l._meta[o];c&&(c.controller.destroy(),delete l._meta[o])},destroy:function(){var s=this,o=s.canvas,l,c;for(s.stop(),l=0,c=s.data.datasets.length;l<c;++l)s.destroyDatasetMeta(l);o&&(s.unbindEvents(),ie.canvas.clear(s),tf.releaseContext(s.ctx),s.canvas=null,s.ctx=null),du.notify(s,"destroy"),delete qu.instances[s.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var s=this;s.tooltip=new Yf({_chart:s,_chartInstance:s,_data:s.data,_options:s.options.tooltips},s)},bindEvents:function(){var s=this,o=s._listeners={},l=function(){s.eventHandler.apply(s,arguments)};ie.each(s.options.events,function(c){tf.addEventListener(s,c,l),o[c]=l}),s.options.responsive&&(l=function(){s.resize()},tf.addEventListener(s,"resize",l),o.resize=l)},unbindEvents:function(){var s=this,o=s._listeners;o&&(delete s._listeners,ie.each(o,function(l,c){tf.removeEventListener(s,c,l)}))},updateHoverStyle:function(s,o,l){var c=l?"set":"remove",p,y,M;for(y=0,M=s.length;y<M;++y)p=s[y],p&&this.getDatasetMeta(p._datasetIndex).controller[c+"HoverStyle"](p);o==="dataset"&&this.getDatasetMeta(s[0]._datasetIndex).controller["_"+c+"DatasetHoverStyle"]()},eventHandler:function(s){var o=this,l=o.tooltip;if(du.notify(o,"beforeEvent",[s])!==!1){o._bufferedRender=!0,o._bufferedRequest=null;var c=o.handleEvent(s);l&&(c=l._start?l.handleEvent(s):c|l.handleEvent(s)),du.notify(o,"afterEvent",[s]);var p=o._bufferedRequest;return p?o.render(p):c&&!o.animating&&(o.stop(),o.render({duration:o.options.hover.animationDuration,lazy:!0})),o._bufferedRender=!1,o._bufferedRequest=null,o}},handleEvent:function(s){var o=this,l=o.options||{},c=l.hover,p=!1;return o.lastActive=o.lastActive||[],s.type==="mouseout"?o.active=[]:o.active=o.getElementsAtEventForMode(s,c.mode,c),ie.callback(l.onHover||l.hover.onHover,[s.native,o.active],o),(s.type==="mouseup"||s.type==="click")&&l.onClick&&l.onClick.call(o,s.native,o.active),o.lastActive.length&&o.updateHoverStyle(o.lastActive,c.mode,!1),o.active.length&&c.mode&&o.updateHoverStyle(o.active,c.mode,!0),p=!ie.arrayEquals(o.active,o.lastActive),o.lastActive=o.active,p}}),qu.instances={};var tu=qu;qu.Controller=qu,qu.types={},ie.configMerge=Hf,ie.scaleMerge=Ch;var _m=function(){ie.where=function(c,p){if(ie.isArray(c)&&Array.prototype.filter)return c.filter(p);var y=[];return ie.each(c,function(M){p(M)&&y.push(M)}),y},ie.findIndex=Array.prototype.findIndex?function(c,p,y){return c.findIndex(p,y)}:function(c,p,y){y=y===void 0?c:y;for(var M=0,L=c.length;M<L;++M)if(p.call(y,c[M],M,c))return M;return-1},ie.findNextWhere=function(c,p,y){ie.isNullOrUndef(y)&&(y=-1);for(var M=y+1;M<c.length;M++){var L=c[M];if(p(L))return L}},ie.findPreviousWhere=function(c,p,y){ie.isNullOrUndef(y)&&(y=c.length);for(var M=y-1;M>=0;M--){var L=c[M];if(p(L))return L}},ie.isNumber=function(c){return!isNaN(parseFloat(c))&&isFinite(c)},ie.almostEquals=function(c,p,y){return Math.abs(c-p)<y},ie.almostWhole=function(c,p){var y=Math.round(c);return y-p<=c&&y+p>=c},ie.max=function(c){return c.reduce(function(p,y){return isNaN(y)?p:Math.max(p,y)},Number.NEGATIVE_INFINITY)},ie.min=function(c){return c.reduce(function(p,y){return isNaN(y)?p:Math.min(p,y)},Number.POSITIVE_INFINITY)},ie.sign=Math.sign?function(c){return Math.sign(c)}:function(c){return c=+c,c===0||isNaN(c)?c:c>0?1:-1},ie.toRadians=function(c){return c*(Math.PI/180)},ie.toDegrees=function(c){return c*(180/Math.PI)},ie._decimalPlaces=function(c){if(ie.isFinite(c)){for(var p=1,y=0;Math.round(c*p)/p!==c;)p*=10,y++;return y}},ie.getAngleFromPoint=function(c,p){var y=p.x-c.x,M=p.y-c.y,L=Math.sqrt(y*y+M*M),I=Math.atan2(M,y);return I<-.5*Math.PI&&(I+=2*Math.PI),{angle:I,distance:L}},ie.distanceBetweenPoints=function(c,p){return Math.sqrt(Math.pow(p.x-c.x,2)+Math.pow(p.y-c.y,2))},ie.aliasPixel=function(c){return c%2===0?0:.5},ie._alignPixel=function(c,p,y){var M=c.currentDevicePixelRatio,L=y/2;return Math.round((p-L)*M)/M+L},ie.splineCurve=function(c,p,y,M){var L=c.skip?p:c,I=p,U=y.skip?p:y,Z=Math.sqrt(Math.pow(I.x-L.x,2)+Math.pow(I.y-L.y,2)),ee=Math.sqrt(Math.pow(U.x-I.x,2)+Math.pow(U.y-I.y,2)),ye=Z/(Z+ee),Ce=ee/(Z+ee);ye=isNaN(ye)?0:ye,Ce=isNaN(Ce)?0:Ce;var De=M*ye,Be=M*Ce;return{previous:{x:I.x-De*(U.x-L.x),y:I.y-De*(U.y-L.y)},next:{x:I.x+Be*(U.x-L.x),y:I.y+Be*(U.y-L.y)}}},ie.EPSILON=Number.EPSILON||1e-14,ie.splineCurveMonotone=function(c){var p=(c||[]).map(function(ot){return{model:ot._model,deltaK:0,mK:0}}),y=p.length,M,L,I,U;for(M=0;M<y;++M)if(I=p[M],!I.model.skip){if(L=M>0?p[M-1]:null,U=M<y-1?p[M+1]:null,U&&!U.model.skip){var Z=U.model.x-I.model.x;I.deltaK=Z!==0?(U.model.y-I.model.y)/Z:0}!L||L.model.skip?I.mK=I.deltaK:!U||U.model.skip?I.mK=L.deltaK:this.sign(L.deltaK)!==this.sign(I.deltaK)?I.mK=0:I.mK=(L.deltaK+I.deltaK)/2}var ee,ye,Ce,De;for(M=0;M<y-1;++M)if(I=p[M],U=p[M+1],!(I.model.skip||U.model.skip)){if(ie.almostEquals(I.deltaK,0,this.EPSILON)){I.mK=U.mK=0;continue}ee=I.mK/I.deltaK,ye=U.mK/I.deltaK,De=Math.pow(ee,2)+Math.pow(ye,2),!(De<=9)&&(Ce=3/Math.sqrt(De),I.mK=ee*Ce*I.deltaK,U.mK=ye*Ce*I.deltaK)}var Be;for(M=0;M<y;++M)I=p[M],!I.model.skip&&(L=M>0?p[M-1]:null,U=M<y-1?p[M+1]:null,L&&!L.model.skip&&(Be=(I.model.x-L.model.x)/3,I.model.controlPointPreviousX=I.model.x-Be,I.model.controlPointPreviousY=I.model.y-Be*I.mK),U&&!U.model.skip&&(Be=(U.model.x-I.model.x)/3,I.model.controlPointNextX=I.model.x+Be,I.model.controlPointNextY=I.model.y+Be*I.mK))},ie.nextItem=function(c,p,y){return y?p>=c.length-1?c[0]:c[p+1]:p>=c.length-1?c[c.length-1]:c[p+1]},ie.previousItem=function(c,p,y){return y?p<=0?c[c.length-1]:c[p-1]:p<=0?c[0]:c[p-1]},ie.niceNum=function(c,p){var y=Math.floor(ie.log10(c)),M=c/Math.pow(10,y),L;return p?M<1.5?L=1:M<3?L=2:M<7?L=5:L=10:M<=1?L=1:M<=2?L=2:M<=5?L=5:L=10,L*Math.pow(10,y)},ie.requestAnimFrame=(function(){return typeof window>"u"?function(c){c()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){return window.setTimeout(c,1e3/60)}})(),ie.getRelativePosition=function(c,p){var y,M,L=c.originalEvent||c,I=c.target||c.srcElement,U=I.getBoundingClientRect(),Z=L.touches;Z&&Z.length>0?(y=Z[0].clientX,M=Z[0].clientY):(y=L.clientX,M=L.clientY);var ee=parseFloat(ie.getStyle(I,"padding-left")),ye=parseFloat(ie.getStyle(I,"padding-top")),Ce=parseFloat(ie.getStyle(I,"padding-right")),De=parseFloat(ie.getStyle(I,"padding-bottom")),Be=U.right-U.left-ee-Ce,ot=U.bottom-U.top-ye-De;return y=Math.round((y-U.left-ee)/Be*I.width/p.currentDevicePixelRatio),M=Math.round((M-U.top-ye)/ot*I.height/p.currentDevicePixelRatio),{x:y,y:M}};function s(c,p,y){var M;return typeof c=="string"?(M=parseInt(c,10),c.indexOf("%")!==-1&&(M=M/100*p.parentNode[y])):M=c,M}function o(c){return c!=null&&c!=="none"}function l(c,p,y){var M=document.defaultView,L=ie._getParentNode(c),I=M.getComputedStyle(c)[p],U=M.getComputedStyle(L)[p],Z=o(I),ee=o(U),ye=Number.POSITIVE_INFINITY;return Z||ee?Math.min(Z?s(I,c,y):ye,ee?s(U,L,y):ye):"none"}ie.getConstraintWidth=function(c){return l(c,"max-width","clientWidth")},ie.getConstraintHeight=function(c){return l(c,"max-height","clientHeight")},ie._calculatePadding=function(c,p,y){return p=ie.getStyle(c,p),p.indexOf("%")>-1?y*parseInt(p,10)/100:parseInt(p,10)},ie._getParentNode=function(c){var p=c.parentNode;return p&&p.toString()==="[object ShadowRoot]"&&(p=p.host),p},ie.getMaximumWidth=function(c){var p=ie._getParentNode(c);if(!p)return c.clientWidth;var y=p.clientWidth,M=ie._calculatePadding(p,"padding-left",y),L=ie._calculatePadding(p,"padding-right",y),I=y-M-L,U=ie.getConstraintWidth(c);return isNaN(U)?I:Math.min(I,U)},ie.getMaximumHeight=function(c){var p=ie._getParentNode(c);if(!p)return c.clientHeight;var y=p.clientHeight,M=ie._calculatePadding(p,"padding-top",y),L=ie._calculatePadding(p,"padding-bottom",y),I=y-M-L,U=ie.getConstraintHeight(c);return isNaN(U)?I:Math.min(I,U)},ie.getStyle=function(c,p){return c.currentStyle?c.currentStyle[p]:document.defaultView.getComputedStyle(c,null).getPropertyValue(p)},ie.retinaScale=function(c,p){var y=c.currentDevicePixelRatio=p||typeof window<"u"&&window.devicePixelRatio||1;if(y!==1){var M=c.canvas,L=c.height,I=c.width;M.height=L*y,M.width=I*y,c.ctx.scale(y,y),!M.style.height&&!M.style.width&&(M.style.height=L+"px",M.style.width=I+"px")}},ie.fontString=function(c,p,y){return p+" "+c+"px "+y},ie.longestText=function(c,p,y,M){M=M||{};var L=M.data=M.data||{},I=M.garbageCollect=M.garbageCollect||[];M.font!==p&&(L=M.data={},I=M.garbageCollect=[],M.font=p),c.font=p;var U=0,Z=y.length,ee,ye,Ce,De,Be;for(ee=0;ee<Z;ee++)if(De=y[ee],De!=null&&ie.isArray(De)!==!0)U=ie.measureText(c,L,I,U,De);else if(ie.isArray(De))for(ye=0,Ce=De.length;ye<Ce;ye++)Be=De[ye],Be!=null&&!ie.isArray(Be)&&(U=ie.measureText(c,L,I,U,Be));var ot=I.length/2;if(ot>y.length){for(ee=0;ee<ot;ee++)delete L[I[ee]];I.splice(0,ot)}return U},ie.measureText=function(c,p,y,M,L){var I=p[L];return I||(I=p[L]=c.measureText(L).width,y.push(L)),I>M&&(M=I),M},ie.numberOfLabelLines=function(c){var p=1;return ie.each(c,function(y){ie.isArray(y)&&y.length>p&&(p=y.length)}),p},ie.color=ze?function(c){return c instanceof CanvasGradient&&(c=xn.global.defaultColor),ze(c)}:function(c){return console.error("Color.js not found!"),c},ie.getHoverColor=function(c){return c instanceof CanvasPattern||c instanceof CanvasGradient?c:ie.color(c).saturate(.5).darken(.1).rgbString()}};function Ku(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function kf(s){this.options=s||{}}ie.extend(kf.prototype,{formats:Ku,parse:Ku,format:Ku,add:Ku,diff:Ku,startOf:Ku,endOf:Ku,_create:function(s){return s}}),kf.override=function(s){ie.extend(kf.prototype,s)};var wm=kf,Gf={_date:wm},pf={formatters:{values:function(s){return ie.isArray(s)?s:""+s},linear:function(s,o,l){var c=l.length>3?l[2]-l[1]:l[1]-l[0];Math.abs(c)>1&&s!==Math.floor(s)&&(c=s-Math.floor(s));var p=ie.log10(Math.abs(c)),y="";if(s!==0){var M=Math.max(Math.abs(l[0]),Math.abs(l[l.length-1]));if(M<1e-4){var L=ie.log10(Math.abs(s)),I=Math.floor(L)-Math.floor(p);I=Math.max(Math.min(I,20),0),y=s.toExponential(I)}else{var U=-1*Math.floor(p);U=Math.max(Math.min(U,20),0),y=s.toFixed(U)}}else y="0";return y},logarithmic:function(s,o,l){var c=s/Math.pow(10,Math.floor(ie.log10(s)));return s===0?"0":c===1||c===2||c===5||o===0||o===l.length-1?s.toExponential():""}}},Hu=ie.isArray,mf=ie.isNullOrUndef,Gu=ie.valueOrDefault,rf=ie.valueAtIndexOrDefault;xn._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:pf.formatters.values,minor:{},major:{}}});function km(s,o){for(var l=[],c=s.length/o,p=0,y=s.length;p<y;p+=c)l.push(s[Math.floor(p)]);return l}function $m(s,o,l){var c=s.getTicks().length,p=Math.min(o,c-1),y=s.getPixelForTick(p),M=s._startPixel,L=s._endPixel,I=1e-6,U;if(!(l&&(c===1?U=Math.max(y-M,L-y):o===0?U=(s.getPixelForTick(1)-y)/2:U=(y-s.getPixelForTick(p-1))/2,y+=p<o?U:-U,y<M-I||y>L+I)))return y}function Sm(s,o){ie.each(s,function(l){var c=l.gc,p=c.length/2,y;if(p>o){for(y=0;y<p;++y)delete l.data[c[y]];c.splice(0,p)}})}function xm(s,o,l,c){var p=l.length,y=[],M=[],L=[],I=0,U=0,Z,ee,ye,Ce,De,Be,ot,_n,Cn,rs,ai,ni,ou;for(Z=0;Z<p;++Z){if(Ce=l[Z].label,De=l[Z].major?o.major:o.minor,s.font=Be=De.string,ot=c[Be]=c[Be]||{data:{},gc:[]},_n=De.lineHeight,Cn=rs=0,!mf(Ce)&&!Hu(Ce))Cn=ie.measureText(s,ot.data,ot.gc,Cn,Ce),rs=_n;else if(Hu(Ce))for(ee=0,ye=Ce.length;ee<ye;++ee)ai=Ce[ee],!mf(ai)&&!Hu(ai)&&(Cn=ie.measureText(s,ot.data,ot.gc,Cn,ai),rs+=_n);y.push(Cn),M.push(rs),L.push(_n/2),I=Math.max(Cn,I),U=Math.max(rs,U)}Sm(c,p),ni=y.indexOf(I),ou=M.indexOf(U);function nu(cu){return{width:y[cu]||0,height:M[cu]||0,offset:L[cu]||0}}return{first:nu(0),last:nu(p-1),widest:nu(ni),highest:nu(ou)}}function vf(s){return s.drawTicks?s.tickMarkLength:0}function Jf(s){var o,l;return s.display?(o=ie.options._parseFont(s),l=ie.options.toPadding(s.padding),o.lineHeight+l.height):0}function Fh(s,o){return ie.extend(ie.options._parseFont({fontFamily:Gu(o.fontFamily,s.fontFamily),fontSize:Gu(o.fontSize,s.fontSize),fontStyle:Gu(o.fontStyle,s.fontStyle),lineHeight:Gu(o.lineHeight,s.lineHeight)}),{color:ie.options.resolve([o.fontColor,s.fontColor,xn.global.defaultFontColor])})}function Xf(s){var o=Fh(s,s.minor),l=s.major.enabled?Fh(s,s.major):o;return{minor:o,major:l}}function Qf(s){var o=[],l,c,p;for(c=0,p=s.length;c<p;++c)l=s[c],typeof l._index<"u"&&o.push(l);return o}function Mm(s){var o=s.length,l,c;if(o<2)return!1;for(c=s[0],l=1;l<o;++l)if(s[l]-s[l-1]!==c)return!1;return c}function Tm(s,o,l,c){var p=Mm(s),y=(o.length-1)/c,M,L,I,U;if(!p)return Math.max(y,1);for(M=ie.math._factorize(p),I=0,U=M.length-1;I<U;I++)if(L=M[I],L>y)return L;return Math.max(y,1)}function Em(s){var o=[],l,c;for(l=0,c=s.length;l<c;l++)s[l].major&&o.push(l);return o}function Pm(s,o,l){var c=0,p=o[0],y,M;for(l=Math.ceil(l),y=0;y<s.length;y++)M=s[y],y===p?(M._index=y,c++,p=o[c*l]):delete M.label}function $f(s,o,l,c){var p=Gu(l,0),y=Math.min(Gu(c,s.length),s.length),M=0,L,I,U,Z;for(o=Math.ceil(o),c&&(L=c-l,o=L/Math.floor(L/o)),Z=p;Z<0;)M++,Z=Math.round(p+M*o);for(I=Math.max(p,0);I<y;I++)U=s[I],I===Z?(U._index=I,M++,Z=Math.round(p+M*o)):delete U.label}var Zf=Ru.extend({zeroLineIndex:0,getPadding:function(){var s=this;return{left:s.paddingLeft||0,top:s.paddingTop||0,right:s.paddingRight||0,bottom:s.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){ie.callback(this.options.beforeUpdate,[this])},update:function(s,o,l){var c=this,p=c.options.ticks,y=p.sampleSize,M,L,I,U,Z;if(c.beforeUpdate(),c.maxWidth=s,c.maxHeight=o,c.margins=ie.extend({left:0,right:0,top:0,bottom:0},l),c._ticks=null,c.ticks=null,c._labelSizes=null,c._maxLabelLines=0,c.longestLabelWidth=0,c.longestTextCache=c.longestTextCache||{},c._gridLineItems=null,c._labelItems=null,c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),U=c.buildTicks()||[],U=c.afterBuildTicks(U)||U,(!U||!U.length)&&c.ticks)for(U=[],M=0,L=c.ticks.length;M<L;++M)U.push({value:c.ticks[M],major:!1});return c._ticks=U,Z=y<U.length,I=c._convertTicksToLabels(Z?km(U,y):U),c._configure(),c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c._ticksToDraw=p.display&&(p.autoSkip||p.source==="auto")?c._autoSkip(U):U,Z&&(I=c._convertTicksToLabels(c._ticksToDraw)),c.ticks=I,c.afterUpdate(),c.minSize},_configure:function(){var s=this,o=s.options.ticks.reverse,l,c;s.isHorizontal()?(l=s.left,c=s.right):(l=s.top,c=s.bottom,o=!o),s._startPixel=l,s._endPixel=c,s._reversePixels=o,s._length=c-l},afterUpdate:function(){ie.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){ie.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var s=this;s.isHorizontal()?(s.width=s.maxWidth,s.left=0,s.right=s.width):(s.height=s.maxHeight,s.top=0,s.bottom=s.height),s.paddingLeft=0,s.paddingTop=0,s.paddingRight=0,s.paddingBottom=0},afterSetDimensions:function(){ie.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){ie.callback(this.options.beforeDataLimits,[this])},determineDataLimits:ie.noop,afterDataLimits:function(){ie.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){ie.callback(this.options.beforeBuildTicks,[this])},buildTicks:ie.noop,afterBuildTicks:function(s){var o=this;return Hu(s)&&s.length?ie.callback(o.options.afterBuildTicks,[o,s]):(o.ticks=ie.callback(o.options.afterBuildTicks,[o,o.ticks])||o.ticks,s)},beforeTickToLabelConversion:function(){ie.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var s=this,o=s.options.ticks;s.ticks=s.ticks.map(o.userCallback||o.callback,this)},afterTickToLabelConversion:function(){ie.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){ie.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var s=this,o=s.options,l=o.ticks,c=s.getTicks().length,p=l.minRotation||0,y=l.maxRotation,M=p,L,I,U,Z,ee,ye,Ce;if(!s._isVisible()||!l.display||p>=y||c<=1||!s.isHorizontal()){s.labelRotation=p;return}L=s._getLabelSizes(),I=L.widest.width,U=L.highest.height-L.highest.offset,Z=Math.min(s.maxWidth,s.chart.width-I),ee=o.offset?s.maxWidth/c:Z/(c-1),I+6>ee&&(ee=Z/(c-(o.offset?.5:1)),ye=s.maxHeight-vf(o.gridLines)-l.padding-Jf(o.scaleLabel),Ce=Math.sqrt(I*I+U*U),M=ie.toDegrees(Math.min(Math.asin(Math.min((L.highest.height+6)/ee,1)),Math.asin(Math.min(ye/Ce,1))-Math.asin(U/Ce))),M=Math.max(p,Math.min(y,M))),s.labelRotation=M},afterCalculateTickRotation:function(){ie.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){ie.callback(this.options.beforeFit,[this])},fit:function(){var s=this,o=s.minSize={width:0,height:0},l=s.chart,c=s.options,p=c.ticks,y=c.scaleLabel,M=c.gridLines,L=s._isVisible(),I=c.position==="bottom",U=s.isHorizontal();if(U?o.width=s.maxWidth:L&&(o.width=vf(M)+Jf(y)),U?L&&(o.height=vf(M)+Jf(y)):o.height=s.maxHeight,p.display&&L){var Z=Xf(p),ee=s._getLabelSizes(),ye=ee.first,Ce=ee.last,De=ee.widest,Be=ee.highest,ot=Z.minor.lineHeight*.4,_n=p.padding;if(U){var Cn=s.labelRotation!==0,rs=ie.toRadians(s.labelRotation),ai=Math.cos(rs),ni=Math.sin(rs),ou=ni*De.width+ai*(Be.height-(Cn?Be.offset:0))+(Cn?0:ot);o.height=Math.min(s.maxHeight,o.height+ou+_n);var nu=s.getPixelForTick(0)-s.left,cu=s.right-s.getPixelForTick(s.getTicks().length-1),fu,bu;Cn?(fu=I?ai*ye.width+ni*ye.offset:ni*(ye.height-ye.offset),bu=I?ni*(Ce.height-Ce.offset):ai*Ce.width+ni*Ce.offset):(fu=ye.width/2,bu=Ce.width/2),s.paddingLeft=Math.max((fu-nu)*s.width/(s.width-nu),0)+3,s.paddingRight=Math.max((bu-cu)*s.width/(s.width-cu),0)+3}else{var vu=p.mirror?0:De.width+_n+ot;o.width=Math.min(s.maxWidth,o.width+vu),s.paddingTop=ye.height/2,s.paddingBottom=Ce.height/2}}s.handleMargins(),U?(s.width=s._length=l.width-s.margins.left-s.margins.right,s.height=o.height):(s.width=o.width,s.height=s._length=l.height-s.margins.top-s.margins.bottom)},handleMargins:function(){var s=this;s.margins&&(s.margins.left=Math.max(s.paddingLeft,s.margins.left),s.margins.top=Math.max(s.paddingTop,s.margins.top),s.margins.right=Math.max(s.paddingRight,s.margins.right),s.margins.bottom=Math.max(s.paddingBottom,s.margins.bottom))},afterFit:function(){ie.callback(this.options.afterFit,[this])},isHorizontal:function(){var s=this.options.position;return s==="top"||s==="bottom"},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(s){if(mf(s))return NaN;if((typeof s=="number"||s instanceof Number)&&!isFinite(s))return NaN;if(s){if(this.isHorizontal()){if(s.x!==void 0)return this.getRightValue(s.x)}else if(s.y!==void 0)return this.getRightValue(s.y)}return s},_convertTicksToLabels:function(s){var o=this,l,c,p;for(o.ticks=s.map(function(y){return y.value}),o.beforeTickToLabelConversion(),l=o.convertTicksToLabels(s)||o.ticks,o.afterTickToLabelConversion(),c=0,p=s.length;c<p;++c)s[c].label=l[c];return l},_getLabelSizes:function(){var s=this,o=s._labelSizes;return o||(s._labelSizes=o=xm(s.ctx,Xf(s.options.ticks),s.getTicks(),s.longestTextCache),s.longestLabelWidth=o.widest.width),o},_parseValue:function(s){var o,l,c,p;return Hu(s)?(o=+this.getRightValue(s[0]),l=+this.getRightValue(s[1]),c=Math.min(o,l),p=Math.max(o,l)):(s=+this.getRightValue(s),o=void 0,l=s,c=s,p=s),{min:c,max:p,start:o,end:l}},_getScaleLabel:function(s){var o=this._parseValue(s);return o.start!==void 0?"["+o.start+", "+o.end+"]":+this.getRightValue(s)},getLabelForIndex:ie.noop,getPixelForValue:ie.noop,getValueForPixel:ie.noop,getPixelForTick:function(s){var o=this,l=o.options.offset,c=o._ticks.length,p=1/Math.max(c-(l?0:1),1);return s<0||s>c-1?null:o.getPixelForDecimal(s*p+(l?p/2:0))},getPixelForDecimal:function(s){var o=this;return o._reversePixels&&(s=1-s),o._startPixel+s*o._length},getDecimalForPixel:function(s){var o=(s-this._startPixel)/this._length;return this._reversePixels?1-o:o},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var s=this,o=s.min,l=s.max;return s.beginAtZero?0:o<0&&l<0?l:o>0&&l>0?o:0},_autoSkip:function(s){var o=this,l=o.options.ticks,c=o._length,p=l.maxTicksLimit||c/o._tickSize()+1,y=l.major.enabled?Em(s):[],M=y.length,L=y[0],I=y[M-1],U,Z,ee,ye;if(M>p)return Pm(s,y,M/p),Qf(s);if(ee=Tm(y,s,c,p),M>0){for(U=0,Z=M-1;U<Z;U++)$f(s,ee,y[U],y[U+1]);return ye=M>1?(I-L)/(M-1):null,$f(s,ee,ie.isNullOrUndef(ye)?0:L-ye,L),$f(s,ee,I,ie.isNullOrUndef(ye)?s.length:I+ye),Qf(s)}return $f(s,ee),Qf(s)},_tickSize:function(){var s=this,o=s.options.ticks,l=ie.toRadians(s.labelRotation),c=Math.abs(Math.cos(l)),p=Math.abs(Math.sin(l)),y=s._getLabelSizes(),M=o.autoSkipPadding||0,L=y?y.widest.width+M:0,I=y?y.highest.height+M:0;return s.isHorizontal()?I*c>L*p?L/c:I/p:I*p<L*c?I/c:L/p},_isVisible:function(){var s=this,o=s.chart,l=s.options.display,c,p,y;if(l!=="auto")return!!l;for(c=0,p=o.data.datasets.length;c<p;++c)if(o.isDatasetVisible(c)&&(y=o.getDatasetMeta(c),y.xAxisID===s.id||y.yAxisID===s.id))return!0;return!1},_computeGridLineItems:function(s){var o=this,l=o.chart,c=o.options,p=c.gridLines,y=c.position,M=p.offsetGridLines,L=o.isHorizontal(),I=o._ticksToDraw,U=I.length+(M?1:0),Z=vf(p),ee=[],ye=p.drawBorder?rf(p.lineWidth,0,0):0,Ce=ye/2,De=ie._alignPixel,Be=function(Ev){return De(l,Ev,ye)},ot,_n,Cn,rs,ai,ni,ou,nu,cu,fu,bu,vu,mu,_u,sf,af,lh;for(y==="top"?(ot=Be(o.bottom),ou=o.bottom-Z,cu=ot-Ce,bu=Be(s.top)+Ce,mu=s.bottom):y==="bottom"?(ot=Be(o.top),bu=s.top,mu=Be(s.bottom)-Ce,ou=ot+Ce,cu=o.top+Z):y==="left"?(ot=Be(o.right),ni=o.right-Z,nu=ot-Ce,fu=Be(s.left)+Ce,vu=s.right):(ot=Be(o.left),fu=s.left,vu=Be(s.right)-Ce,ni=ot+Ce,nu=o.left+Z),_n=0;_n<U;++_n)Cn=I[_n]||{},!(mf(Cn.label)&&_n<I.length)&&(_n===o.zeroLineIndex&&c.offset===M?(_u=p.zeroLineWidth,sf=p.zeroLineColor,af=p.zeroLineBorderDash||[],lh=p.zeroLineBorderDashOffset||0):(_u=rf(p.lineWidth,_n,1),sf=rf(p.color,_n,"rgba(0,0,0,0.1)"),af=p.borderDash||[],lh=p.borderDashOffset||0),rs=$m(o,Cn._index||_n,M),rs!==void 0&&(ai=De(l,rs,_u),L?ni=nu=fu=vu=ai:ou=cu=bu=mu=ai,ee.push({tx1:ni,ty1:ou,tx2:nu,ty2:cu,x1:fu,y1:bu,x2:vu,y2:mu,width:_u,color:sf,borderDash:af,borderDashOffset:lh})));return ee.ticksLength=U,ee.borderValue=ot,ee},_computeLabelItems:function(){var s=this,o=s.options,l=o.ticks,c=o.position,p=l.mirror,y=s.isHorizontal(),M=s._ticksToDraw,L=Xf(l),I=l.padding,U=vf(o.gridLines),Z=-ie.toRadians(s.labelRotation),ee=[],ye,Ce,De,Be,ot,_n,Cn,rs,ai,ni,ou,nu;for(c==="top"?(_n=s.bottom-U-I,Cn=Z?"left":"center"):c==="bottom"?(_n=s.top+U+I,Cn=Z?"right":"center"):c==="left"?(ot=s.right-(p?0:U)-I,Cn=p?"left":"right"):(ot=s.left+(p?0:U)+I,Cn=p?"right":"left"),ye=0,Ce=M.length;ye<Ce;++ye)De=M[ye],Be=De.label,!mf(Be)&&(rs=s.getPixelForTick(De._index||ye)+l.labelOffset,ai=De.major?L.major:L.minor,ni=ai.lineHeight,ou=Hu(Be)?Be.length:1,y?(ot=rs,nu=c==="top"?((Z?1:.5)-ou)*ni:(Z?0:.5)*ni):(_n=rs,nu=(1-ou)*ni/2),ee.push({x:ot,y:_n,rotation:Z,label:Be,font:ai,textOffset:nu,textAlign:Cn}));return ee},_drawGrid:function(s){var o=this,l=o.options.gridLines;if(l.display){var c=o.ctx,p=o.chart,y=ie._alignPixel,M=l.drawBorder?rf(l.lineWidth,0,0):0,L=o._gridLineItems||(o._gridLineItems=o._computeGridLineItems(s)),I,U,Z,ee,ye;for(Z=0,ee=L.length;Z<ee;++Z)ye=L[Z],I=ye.width,U=ye.color,I&&U&&(c.save(),c.lineWidth=I,c.strokeStyle=U,c.setLineDash&&(c.setLineDash(ye.borderDash),c.lineDashOffset=ye.borderDashOffset),c.beginPath(),l.drawTicks&&(c.moveTo(ye.tx1,ye.ty1),c.lineTo(ye.tx2,ye.ty2)),l.drawOnChartArea&&(c.moveTo(ye.x1,ye.y1),c.lineTo(ye.x2,ye.y2)),c.stroke(),c.restore());if(M){var Ce=M,De=rf(l.lineWidth,L.ticksLength-1,1),Be=L.borderValue,ot,_n,Cn,rs;o.isHorizontal()?(ot=y(p,o.left,Ce)-Ce/2,_n=y(p,o.right,De)+De/2,Cn=rs=Be):(Cn=y(p,o.top,Ce)-Ce/2,rs=y(p,o.bottom,De)+De/2,ot=_n=Be),c.lineWidth=M,c.strokeStyle=rf(l.color,0),c.beginPath(),c.moveTo(ot,Cn),c.lineTo(_n,rs),c.stroke()}}},_drawLabels:function(){var s=this,o=s.options.ticks;if(o.display){var l=s.ctx,c=s._labelItems||(s._labelItems=s._computeLabelItems()),p,y,M,L,I,U,Z,ee;for(p=0,M=c.length;p<M;++p){if(I=c[p],U=I.font,l.save(),l.translate(I.x,I.y),l.rotate(I.rotation),l.font=U.string,l.fillStyle=U.color,l.textBaseline="middle",l.textAlign=I.textAlign,Z=I.label,ee=I.textOffset,Hu(Z))for(y=0,L=Z.length;y<L;++y)l.fillText(""+Z[y],0,ee),ee+=U.lineHeight;else l.fillText(Z,0,ee);l.restore()}}},_drawTitle:function(){var s=this,o=s.ctx,l=s.options,c=l.scaleLabel;if(c.display){var p=Gu(c.fontColor,xn.global.defaultFontColor),y=ie.options._parseFont(c),M=ie.options.toPadding(c.padding),L=y.lineHeight/2,I=l.position,U=0,Z,ee;if(s.isHorizontal())Z=s.left+s.width/2,ee=I==="bottom"?s.bottom-L-M.bottom:s.top+L+M.top;else{var ye=I==="left";Z=ye?s.left+L+M.top:s.right-L-M.top,ee=s.top+s.height/2,U=ye?-.5*Math.PI:.5*Math.PI}o.save(),o.translate(Z,ee),o.rotate(U),o.textAlign="center",o.textBaseline="middle",o.fillStyle=p,o.font=y.string,o.fillText(c.labelString,0,0),o.restore()}},draw:function(s){var o=this;o._isVisible()&&(o._drawGrid(s),o._drawTitle(),o._drawLabels())},_layers:function(){var s=this,o=s.options,l=o.ticks&&o.ticks.z||0,c=o.gridLines&&o.gridLines.z||0;return!s._isVisible()||l===c||s.draw!==s._draw?[{z:l,draw:function(){s.draw.apply(s,arguments)}}]:[{z:c,draw:function(){s._drawGrid.apply(s,arguments),s._drawTitle.apply(s,arguments)}},{z:l,draw:function(){s._drawLabels.apply(s,arguments)}}]},_getMatchingVisibleMetas:function(s){var o=this,l=o.isHorizontal();return o.chart._getSortedVisibleDatasetMetas().filter(function(c){return(!s||c.type===s)&&(l?c.xAxisID===o.id:c.yAxisID===o.id)})}});Zf.prototype._draw=Zf.prototype.draw;var Su=Zf,eh=ie.isNullOrUndef,Im={position:"bottom"},qh=Su.extend({determineDataLimits:function(){var s=this,o=s._getLabels(),l=s.options.ticks,c=l.min,p=l.max,y=0,M=o.length-1,L;c!==void 0&&(L=o.indexOf(c),L>=0&&(y=L)),p!==void 0&&(L=o.indexOf(p),L>=0&&(M=L)),s.minIndex=y,s.maxIndex=M,s.min=o[y],s.max=o[M]},buildTicks:function(){var s=this,o=s._getLabels(),l=s.minIndex,c=s.maxIndex;s.ticks=l===0&&c===o.length-1?o:o.slice(l,c+1)},getLabelForIndex:function(s,o){var l=this,c=l.chart;return c.getDatasetMeta(o).controller._getValueScaleId()===l.id?l.getRightValue(c.data.datasets[o].data[s]):l._getLabels()[s]},_configure:function(){var s=this,o=s.options.offset,l=s.ticks;Su.prototype._configure.call(s),s.isHorizontal()||(s._reversePixels=!s._reversePixels),l&&(s._startValue=s.minIndex-(o?.5:0),s._valueRange=Math.max(l.length-(o?0:1),1))},getPixelForValue:function(s,o,l){var c=this,p,y,M;return!eh(o)&&!eh(l)&&(s=c.chart.data.datasets[l].data[o]),eh(s)||(p=c.isHorizontal()?s.x:s.y),(p!==void 0||s!==void 0&&isNaN(o))&&(y=c._getLabels(),s=ie.valueOrDefault(p,s),M=y.indexOf(s),o=M!==-1?M:o,isNaN(o)&&(o=s)),c.getPixelForDecimal((o-c._startValue)/c._valueRange)},getPixelForTick:function(s){var o=this.ticks;return s<0||s>o.length-1?null:this.getPixelForValue(o[s],s+this.minIndex)},getValueForPixel:function(s){var o=this,l=Math.round(o._startValue+o.getDecimalForPixel(s)*o._valueRange);return Math.min(Math.max(l,0),o.ticks.length-1)},getBasePixel:function(){return this.bottom}}),Rm=Im;qh._defaults=Rm;var Om=ie.noop,Ju=ie.isNullOrUndef;function Nm(s,o){var l=[],c=1e-14,p=s.stepSize,y=p||1,M=s.maxTicks-1,L=s.min,I=s.max,U=s.precision,Z=o.min,ee=o.max,ye=ie.niceNum((ee-Z)/M/y)*y,Ce,De,Be,ot;if(ye<c&&Ju(L)&&Ju(I))return[Z,ee];ot=Math.ceil(ee/ye)-Math.floor(Z/ye),ot>M&&(ye=ie.niceNum(ot*ye/M/y)*y),p||Ju(U)?Ce=Math.pow(10,ie._decimalPlaces(ye)):(Ce=Math.pow(10,U),ye=Math.ceil(ye*Ce)/Ce),De=Math.floor(Z/ye)*ye,Be=Math.ceil(ee/ye)*ye,p&&(!Ju(L)&&ie.almostWhole(L/ye,ye/1e3)&&(De=L),!Ju(I)&&ie.almostWhole(I/ye,ye/1e3)&&(Be=I)),ot=(Be-De)/ye,ie.almostEquals(ot,Math.round(ot),ye/1e3)?ot=Math.round(ot):ot=Math.ceil(ot),De=Math.round(De*Ce)/Ce,Be=Math.round(Be*Ce)/Ce,l.push(Ju(L)?De:L);for(var _n=1;_n<ot;++_n)l.push(Math.round((De+_n*ye)*Ce)/Ce);return l.push(Ju(I)?Be:I),l}var Sf=Su.extend({getRightValue:function(s){return typeof s=="string"?+s:Su.prototype.getRightValue.call(this,s)},handleTickRangeOptions:function(){var s=this,o=s.options,l=o.ticks;if(l.beginAtZero){var c=ie.sign(s.min),p=ie.sign(s.max);c<0&&p<0?s.max=0:c>0&&p>0&&(s.min=0)}var y=l.min!==void 0||l.suggestedMin!==void 0,M=l.max!==void 0||l.suggestedMax!==void 0;l.min!==void 0?s.min=l.min:l.suggestedMin!==void 0&&(s.min===null?s.min=l.suggestedMin:s.min=Math.min(s.min,l.suggestedMin)),l.max!==void 0?s.max=l.max:l.suggestedMax!==void 0&&(s.max===null?s.max=l.suggestedMax:s.max=Math.max(s.max,l.suggestedMax)),y!==M&&s.min>=s.max&&(y?s.max=s.min+1:s.min=s.max-1),s.min===s.max&&(s.max++,l.beginAtZero||s.min--)},getTickLimit:function(){var s=this,o=s.options.ticks,l=o.stepSize,c=o.maxTicksLimit,p;return l?p=Math.ceil(s.max/l)-Math.floor(s.min/l)+1:(p=s._computeTickLimit(),c=c||11),c&&(p=Math.min(c,p)),p},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Om,buildTicks:function(){var s=this,o=s.options,l=o.ticks,c=s.getTickLimit();c=Math.max(2,c);var p={maxTicks:c,min:l.min,max:l.max,precision:l.precision,stepSize:ie.valueOrDefault(l.fixedStepSize,l.stepSize)},y=s.ticks=Nm(p,s);s.handleDirectionalChanges(),s.max=ie.max(y),s.min=ie.min(y),l.reverse?(y.reverse(),s.start=s.max,s.end=s.min):(s.start=s.min,s.end=s.max)},convertTicksToLabels:function(){var s=this;s.ticksAsNumbers=s.ticks.slice(),s.zeroLineIndex=s.ticks.indexOf(0),Su.prototype.convertTicksToLabels.call(s)},_configure:function(){var s=this,o=s.getTicks(),l=s.min,c=s.max,p;Su.prototype._configure.call(s),s.options.offset&&o.length&&(p=(c-l)/Math.max(o.length-1,1)/2,l-=p,c+=p),s._startValue=l,s._endValue=c,s._valueRange=c-l}}),Cm={position:"left",ticks:{callback:pf.formatters.linear}},Am=0,Dm=1;function Lm(s,o,l){var c=[l.type,o===void 0&&l.stack===void 0?l.index:"",l.stack].join(".");return s[c]===void 0&&(s[c]={pos:[],neg:[]}),s[c]}function Fm(s,o,l,c){var p=s.options,y=p.stacked,M=Lm(o,y,l),L=M.pos,I=M.neg,U=c.length,Z,ee;for(Z=0;Z<U;++Z)ee=s._parseValue(c[Z]),!(isNaN(ee.min)||isNaN(ee.max)||l.data[Z].hidden)&&(L[Z]=L[Z]||0,I[Z]=I[Z]||0,p.relativePoints?L[Z]=100:ee.min<0||ee.max<0?I[Z]+=ee.min:L[Z]+=ee.max)}function qm(s,o,l){var c=l.length,p,y;for(p=0;p<c;++p)y=s._parseValue(l[p]),!(isNaN(y.min)||isNaN(y.max)||o.data[p].hidden)&&(s.min=Math.min(s.min,y.min),s.max=Math.max(s.max,y.max))}var jh=Sf.extend({determineDataLimits:function(){var s=this,o=s.options,l=s.chart,c=l.data.datasets,p=s._getMatchingVisibleMetas(),y=o.stacked,M={},L=p.length,I,U,Z,ee;if(s.min=Number.POSITIVE_INFINITY,s.max=Number.NEGATIVE_INFINITY,y===void 0)for(I=0;!y&&I<L;++I)U=p[I],y=U.stack!==void 0;for(I=0;I<L;++I)U=p[I],Z=c[U.index].data,y?Fm(s,M,U,Z):qm(s,U,Z);ie.each(M,function(ye){ee=ye.pos.concat(ye.neg),s.min=Math.min(s.min,ie.min(ee)),s.max=Math.max(s.max,ie.max(ee))}),s.min=ie.isFinite(s.min)&&!isNaN(s.min)?s.min:Am,s.max=ie.isFinite(s.max)&&!isNaN(s.max)?s.max:Dm,s.handleTickRangeOptions()},_computeTickLimit:function(){var s=this,o;return s.isHorizontal()?Math.ceil(s.width/40):(o=ie.options._parseFont(s.options.ticks),Math.ceil(s.height/o.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(s,o){return this._getScaleLabel(this.chart.data.datasets[o].data[s])},getPixelForValue:function(s){var o=this;return o.getPixelForDecimal((+o.getRightValue(s)-o._startValue)/o._valueRange)},getValueForPixel:function(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange},getPixelForTick:function(s){var o=this.ticksAsNumbers;return s<0||s>o.length-1?null:this.getPixelForValue(o[s])}}),jm=Cm;jh._defaults=jm;var th=ie.valueOrDefault,xu=ie.math.log10;function Vm(s,o){var l=[],c=th(s.min,Math.pow(10,Math.floor(xu(o.min)))),p=Math.floor(xu(o.max)),y=Math.ceil(o.max/Math.pow(10,p)),M,L;c===0?(M=Math.floor(xu(o.minNotZero)),L=Math.floor(o.minNotZero/Math.pow(10,M)),l.push(c),c=L*Math.pow(10,M)):(M=Math.floor(xu(c)),L=Math.floor(c/Math.pow(10,M)));var I=M<0?Math.pow(10,Math.abs(M)):1;do l.push(c),++L,L===10&&(L=1,++M,I=M>=0?1:I),c=Math.round(L*Math.pow(10,M)*I)/I;while(M<p||M===p&&L<y);var U=th(s.max,c);return l.push(U),l}var Wm={position:"left",ticks:{callback:pf.formatters.logarithmic}};function xf(s,o){return ie.isFinite(s)&&s>=0?s:o}var Vh=Su.extend({determineDataLimits:function(){var s=this,o=s.options,l=s.chart,c=l.data.datasets,p=s.isHorizontal();function y(ot){return p?ot.xAxisID===s.id:ot.yAxisID===s.id}var M,L,I,U,Z,ee;s.min=Number.POSITIVE_INFINITY,s.max=Number.NEGATIVE_INFINITY,s.minNotZero=Number.POSITIVE_INFINITY;var ye=o.stacked;if(ye===void 0){for(M=0;M<c.length;M++)if(L=l.getDatasetMeta(M),l.isDatasetVisible(M)&&y(L)&&L.stack!==void 0){ye=!0;break}}if(o.stacked||ye){var Ce={};for(M=0;M<c.length;M++){L=l.getDatasetMeta(M);var De=[L.type,o.stacked===void 0&&L.stack===void 0?M:"",L.stack].join(".");if(l.isDatasetVisible(M)&&y(L))for(Ce[De]===void 0&&(Ce[De]=[]),U=c[M].data,Z=0,ee=U.length;Z<ee;Z++){var Be=Ce[De];I=s._parseValue(U[Z]),!(isNaN(I.min)||isNaN(I.max)||L.data[Z].hidden||I.min<0||I.max<0)&&(Be[Z]=Be[Z]||0,Be[Z]+=I.max)}}ie.each(Ce,function(ot){if(ot.length>0){var _n=ie.min(ot),Cn=ie.max(ot);s.min=Math.min(s.min,_n),s.max=Math.max(s.max,Cn)}})}else for(M=0;M<c.length;M++)if(L=l.getDatasetMeta(M),l.isDatasetVisible(M)&&y(L))for(U=c[M].data,Z=0,ee=U.length;Z<ee;Z++)I=s._parseValue(U[Z]),!(isNaN(I.min)||isNaN(I.max)||L.data[Z].hidden||I.min<0||I.max<0)&&(s.min=Math.min(I.min,s.min),s.max=Math.max(I.max,s.max),I.min!==0&&(s.minNotZero=Math.min(I.min,s.minNotZero)));s.min=ie.isFinite(s.min)?s.min:null,s.max=ie.isFinite(s.max)?s.max:null,s.minNotZero=ie.isFinite(s.minNotZero)?s.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var s=this,o=s.options.ticks,l=1,c=10;s.min=xf(o.min,s.min),s.max=xf(o.max,s.max),s.min===s.max&&(s.min!==0&&s.min!==null?(s.min=Math.pow(10,Math.floor(xu(s.min))-1),s.max=Math.pow(10,Math.floor(xu(s.max))+1)):(s.min=l,s.max=c)),s.min===null&&(s.min=Math.pow(10,Math.floor(xu(s.max))-1)),s.max===null&&(s.max=s.min!==0?Math.pow(10,Math.floor(xu(s.min))+1):c),s.minNotZero===null&&(s.min>0?s.minNotZero=s.min:s.max<1?s.minNotZero=Math.pow(10,Math.floor(xu(s.max))):s.minNotZero=l)},buildTicks:function(){var s=this,o=s.options.ticks,l=!s.isHorizontal(),c={min:xf(o.min),max:xf(o.max)},p=s.ticks=Vm(c,s);s.max=ie.max(p),s.min=ie.min(p),o.reverse?(l=!l,s.start=s.max,s.end=s.min):(s.start=s.min,s.end=s.max),l&&p.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Su.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(s,o){return this._getScaleLabel(this.chart.data.datasets[o].data[s])},getPixelForTick:function(s){var o=this.tickValues;return s<0||s>o.length-1?null:this.getPixelForValue(o[s])},_getFirstTickValue:function(s){var o=Math.floor(xu(s)),l=Math.floor(s/Math.pow(10,o));return l*Math.pow(10,o)},_configure:function(){var s=this,o=s.min,l=0;Su.prototype._configure.call(s),o===0&&(o=s._getFirstTickValue(s.minNotZero),l=th(s.options.ticks.fontSize,xn.global.defaultFontSize)/s._length),s._startValue=xu(o),s._valueOffset=l,s._valueRange=(xu(s.max)-xu(o))/(1-l)},getPixelForValue:function(s){var o=this,l=0;return s=+o.getRightValue(s),s>o.min&&s>0&&(l=(xu(s)-o._startValue)/o._valueRange+o._valueOffset),o.getPixelForDecimal(l)},getValueForPixel:function(s){var o=this,l=o.getDecimalForPixel(s);return l===0&&o.min===0?0:Math.pow(10,o._startValue+(l-o._valueOffset)*o._valueRange)}}),Bm=Wm;Vh._defaults=Bm;var Mf=ie.valueOrDefault,rh=ie.valueAtIndexOrDefault,Wh=ie.options.resolve,zm={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:pf.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(s){return s}}};function nh(s){var o=s.ticks;return o.display&&s.display?Mf(o.fontSize,xn.global.defaultFontSize)+o.backdropPaddingY*2:0}function Um(s,o,l){return ie.isArray(l)?{w:ie.longestText(s,s.font,l),h:l.length*o}:{w:s.measureText(l).width,h:o}}function Bh(s,o,l,c,p){return s===c||s===p?{start:o-l/2,end:o+l/2}:s<c||s>p?{start:o-l,end:o}:{start:o,end:o+l}}function Ym(s){var o=ie.options._parseFont(s.options.pointLabels),l={l:0,r:s.width,t:0,b:s.height-s.paddingTop},c={},p,y,M;s.ctx.font=o.string,s._pointLabelSizes=[];var L=s.chart.data.labels.length;for(p=0;p<L;p++){M=s.getPointPosition(p,s.drawingArea+5),y=Um(s.ctx,o.lineHeight,s.pointLabels[p]),s._pointLabelSizes[p]=y;var I=s.getIndexAngle(p),U=ie.toDegrees(I)%360,Z=Bh(U,M.x,y.w,0,180),ee=Bh(U,M.y,y.h,90,270);Z.start<l.l&&(l.l=Z.start,c.l=I),Z.end>l.r&&(l.r=Z.end,c.r=I),ee.start<l.t&&(l.t=ee.start,c.t=I),ee.end>l.b&&(l.b=ee.end,c.b=I)}s.setReductions(s.drawingArea,l,c)}function Km(s){return s===0||s===180?"center":s<180?"left":"right"}function Hm(s,o,l,c){var p=l.y+c/2,y,M;if(ie.isArray(o))for(y=0,M=o.length;y<M;++y)s.fillText(o[y],l.x,p),p+=c;else s.fillText(o,l.x,p)}function Gm(s,o,l){s===90||s===270?l.y-=o.h/2:(s>270||s<90)&&(l.y-=o.h)}function Jm(s){var o=s.ctx,l=s.options,c=l.pointLabels,p=nh(l),y=s.getDistanceFromCenterForValue(l.ticks.reverse?s.min:s.max),M=ie.options._parseFont(c);o.save(),o.font=M.string,o.textBaseline="middle";for(var L=s.chart.data.labels.length-1;L>=0;L--){var I=L===0?p/2:0,U=s.getPointPosition(L,y+I+5),Z=rh(c.fontColor,L,xn.global.defaultFontColor);o.fillStyle=Z;var ee=s.getIndexAngle(L),ye=ie.toDegrees(ee);o.textAlign=Km(ye),Gm(ye,s._pointLabelSizes[L],U),Hm(o,s.pointLabels[L],U,M.lineHeight)}o.restore()}function Xm(s,o,l,c){var p=s.ctx,y=o.circular,M=s.chart.data.labels.length,L=rh(o.color,c-1),I=rh(o.lineWidth,c-1),U;if(!(!y&&!M||!L||!I)){if(p.save(),p.strokeStyle=L,p.lineWidth=I,p.setLineDash&&(p.setLineDash(o.borderDash||[]),p.lineDashOffset=o.borderDashOffset||0),p.beginPath(),y)p.arc(s.xCenter,s.yCenter,l,0,Math.PI*2);else{U=s.getPointPosition(0,l),p.moveTo(U.x,U.y);for(var Z=1;Z<M;Z++)U=s.getPointPosition(Z,l),p.lineTo(U.x,U.y)}p.closePath(),p.stroke(),p.restore()}}function Tf(s){return ie.isNumber(s)?s:0}var zh=Sf.extend({setDimensions:function(){var s=this;s.width=s.maxWidth,s.height=s.maxHeight,s.paddingTop=nh(s.options)/2,s.xCenter=Math.floor(s.width/2),s.yCenter=Math.floor((s.height-s.paddingTop)/2),s.drawingArea=Math.min(s.height-s.paddingTop,s.width)/2},determineDataLimits:function(){var s=this,o=s.chart,l=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;ie.each(o.data.datasets,function(p,y){if(o.isDatasetVisible(y)){var M=o.getDatasetMeta(y);ie.each(p.data,function(L,I){var U=+s.getRightValue(L);isNaN(U)||M.data[I].hidden||(l=Math.min(U,l),c=Math.max(U,c))})}}),s.min=l===Number.POSITIVE_INFINITY?0:l,s.max=c===Number.NEGATIVE_INFINITY?0:c,s.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/nh(this.options))},convertTicksToLabels:function(){var s=this;Sf.prototype.convertTicksToLabels.call(s),s.pointLabels=s.chart.data.labels.map(function(){var o=ie.callback(s.options.pointLabels.callback,arguments,s);return o||o===0?o:""})},getLabelForIndex:function(s,o){return+this.getRightValue(this.chart.data.datasets[o].data[s])},fit:function(){var s=this,o=s.options;o.display&&o.pointLabels.display?Ym(s):s.setCenterPoint(0,0,0,0)},setReductions:function(s,o,l){var c=this,p=o.l/Math.sin(l.l),y=Math.max(o.r-c.width,0)/Math.sin(l.r),M=-o.t/Math.cos(l.t),L=-Math.max(o.b-(c.height-c.paddingTop),0)/Math.cos(l.b);p=Tf(p),y=Tf(y),M=Tf(M),L=Tf(L),c.drawingArea=Math.min(Math.floor(s-(p+y)/2),Math.floor(s-(M+L)/2)),c.setCenterPoint(p,y,M,L)},setCenterPoint:function(s,o,l,c){var p=this,y=p.width-o-p.drawingArea,M=s+p.drawingArea,L=l+p.drawingArea,I=p.height-p.paddingTop-c-p.drawingArea;p.xCenter=Math.floor((M+y)/2+p.left),p.yCenter=Math.floor((L+I)/2+p.top+p.paddingTop)},getIndexAngle:function(s){var o=this.chart,l=360/o.data.labels.length,c=o.options||{},p=c.startAngle||0,y=(s*l+p)%360;return(y<0?y+360:y)*Math.PI*2/360},getDistanceFromCenterForValue:function(s){var o=this;if(ie.isNullOrUndef(s))return NaN;var l=o.drawingArea/(o.max-o.min);return o.options.ticks.reverse?(o.max-s)*l:(s-o.min)*l},getPointPosition:function(s,o){var l=this,c=l.getIndexAngle(s)-Math.PI/2;return{x:Math.cos(c)*o+l.xCenter,y:Math.sin(c)*o+l.yCenter}},getPointPositionForValue:function(s,o){return this.getPointPosition(s,this.getDistanceFromCenterForValue(o))},getBasePosition:function(s){var o=this,l=o.min,c=o.max;return o.getPointPositionForValue(s||0,o.beginAtZero?0:l<0&&c<0?c:l>0&&c>0?l:0)},_drawGrid:function(){var s=this,o=s.ctx,l=s.options,c=l.gridLines,p=l.angleLines,y=Mf(p.lineWidth,c.lineWidth),M=Mf(p.color,c.color),L,I,U;if(l.pointLabels.display&&Jm(s),c.display&&ie.each(s.ticks,function(Z,ee){ee!==0&&(I=s.getDistanceFromCenterForValue(s.ticksAsNumbers[ee]),Xm(s,c,I,ee))}),p.display&&y&&M){for(o.save(),o.lineWidth=y,o.strokeStyle=M,o.setLineDash&&(o.setLineDash(Wh([p.borderDash,c.borderDash,[]])),o.lineDashOffset=Wh([p.borderDashOffset,c.borderDashOffset,0])),L=s.chart.data.labels.length-1;L>=0;L--)I=s.getDistanceFromCenterForValue(l.ticks.reverse?s.min:s.max),U=s.getPointPosition(L,I),o.beginPath(),o.moveTo(s.xCenter,s.yCenter),o.lineTo(U.x,U.y),o.stroke();o.restore()}},_drawLabels:function(){var s=this,o=s.ctx,l=s.options,c=l.ticks;if(c.display){var p=s.getIndexAngle(0),y=ie.options._parseFont(c),M=Mf(c.fontColor,xn.global.defaultFontColor),L,I;o.save(),o.font=y.string,o.translate(s.xCenter,s.yCenter),o.rotate(p),o.textAlign="center",o.textBaseline="middle",ie.each(s.ticks,function(U,Z){Z===0&&!c.reverse||(L=s.getDistanceFromCenterForValue(s.ticksAsNumbers[Z]),c.showLabelBackdrop&&(I=o.measureText(U).width,o.fillStyle=c.backdropColor,o.fillRect(-I/2-c.backdropPaddingX,-L-y.size/2-c.backdropPaddingY,I+c.backdropPaddingX*2,y.size+c.backdropPaddingY*2)),o.fillStyle=M,o.fillText(U,0,-L))}),o.restore()}},_drawTitle:ie.noop}),Qm=zm;zh._defaults=Qm;var sh=ie._deprecated,Uh=ie.options.resolve,Zm=ie.valueOrDefault,Yh=Number.MIN_SAFE_INTEGER||-9007199254740991,ih=Number.MAX_SAFE_INTEGER||9007199254740991,Ef={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mu=Object.keys(Ef);function Kh(s,o){return s-o}function ev(s){var o={},l=[],c,p,y;for(c=0,p=s.length;c<p;++c)y=s[c],o[y]||(o[y]=!0,l.push(y));return l}function Hh(s){return ie.valueOrDefault(s.time.min,s.ticks.min)}function Gh(s){return ie.valueOrDefault(s.time.max,s.ticks.max)}function tv(s,o,l,c){if(c==="linear"||!s.length)return[{time:o,pos:0},{time:l,pos:1}];var p=[],y=[o],M,L,I,U,Z;for(M=0,L=s.length;M<L;++M)U=s[M],U>o&&U<l&&y.push(U);for(y.push(l),M=0,L=y.length;M<L;++M)Z=y[M+1],I=y[M-1],U=y[M],(I===void 0||Z===void 0||Math.round((Z+I)/2)!==U)&&p.push({time:U,pos:M/(L-1)});return p}function rv(s,o,l){for(var c=0,p=s.length-1,y,M,L;c>=0&&c<=p;)if(y=c+p>>1,M=s[y-1]||null,L=s[y],M)if(L[o]<l)c=y+1;else if(M[o]>l)p=y-1;else return{lo:M,hi:L};else return{lo:null,hi:L};return{lo:L,hi:null}}function nf(s,o,l,c){var p=rv(s,o,l),y=p.lo?p.hi?p.lo:s[s.length-2]:s[0],M=p.lo?p.hi?p.hi:s[s.length-1]:s[1],L=M[o]-y[o],I=L?(l-y[o])/L:0,U=(M[c]-y[c])*I;return y[c]+U}function ah(s,o){var l=s._adapter,c=s.options.time,p=c.parser,y=p||c.format,M=o;return typeof p=="function"&&(M=p(M)),ie.isFinite(M)||(M=typeof y=="string"?l.parse(M,y):l.parse(M)),M!==null?+M:(!p&&typeof y=="function"&&(M=y(o),ie.isFinite(M)||(M=l.parse(M))),M)}function Xu(s,o){if(ie.isNullOrUndef(o))return null;var l=s.options.time,c=ah(s,s.getRightValue(o));return c===null||l.round&&(c=+s._adapter.startOf(c,l.round)),c}function Jh(s,o,l,c){var p=Mu.length,y,M,L;for(y=Mu.indexOf(s);y<p-1;++y)if(M=Ef[Mu[y]],L=M.steps?M.steps:ih,M.common&&Math.ceil((l-o)/(L*M.size))<=c)return Mu[y];return Mu[p-1]}function nv(s,o,l,c,p){var y,M;for(y=Mu.length-1;y>=Mu.indexOf(l);y--)if(M=Mu[y],Ef[M].common&&s._adapter.diff(p,c,M)>=o-1)return M;return Mu[l?Mu.indexOf(l):0]}function sv(s){for(var o=Mu.indexOf(s)+1,l=Mu.length;o<l;++o)if(Ef[Mu[o]].common)return Mu[o]}function iv(s,o,l,c){var p=s._adapter,y=s.options,M=y.time,L=M.unit||Jh(M.minUnit,o,l,c),I=Uh([M.stepSize,M.unitStepSize,1]),U=L==="week"?M.isoWeekday:!1,Z=o,ee=[],ye;if(U&&(Z=+p.startOf(Z,"isoWeek",U)),Z=+p.startOf(Z,U?"day":L),p.diff(l,o,L)>1e5*I)throw o+" and "+l+" are too far apart with stepSize of "+I+" "+L;for(ye=Z;ye<l;ye=+p.add(ye,I,L))ee.push(ye);return(ye===l||y.bounds==="ticks")&&ee.push(ye),ee}function av(s,o,l,c,p){var y=0,M=0,L,I;return p.offset&&o.length&&(L=nf(s,"time",o[0],"pos"),o.length===1?y=1-L:y=(nf(s,"time",o[1],"pos")-L)/2,I=nf(s,"time",o[o.length-1],"pos"),o.length===1?M=I:M=(I-nf(s,"time",o[o.length-2],"pos"))/2),{start:y,end:M,factor:1/(y+1+M)}}function ov(s,o,l,c){var p=s._adapter,y=+p.startOf(o[0].value,c),M=o[o.length-1].value,L,I;for(L=y;L<=M;L=+p.add(L,1,c))I=l[L],I>=0&&(o[I].major=!0);return o}function Xh(s,o,l){var c=[],p={},y=o.length,M,L;for(M=0;M<y;++M)L=o[M],p[L]=M,c.push({value:L,major:!1});return y===0||!l?c:ov(s,c,p,l)}var lv={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Qh=Su.extend({initialize:function(){this.mergeTicksOptions(),Su.prototype.initialize.call(this)},update:function(){var s=this,o=s.options,l=o.time||(o.time={}),c=s._adapter=new Gf._date(o.adapters.date);return sh("time scale",l.format,"time.format","time.parser"),sh("time scale",l.min,"time.min","ticks.min"),sh("time scale",l.max,"time.max","ticks.max"),ie.mergeIf(l.displayFormats,c.formats()),Su.prototype.update.apply(s,arguments)},getRightValue:function(s){return s&&s.t!==void 0&&(s=s.t),Su.prototype.getRightValue.call(this,s)},determineDataLimits:function(){var s=this,o=s.chart,l=s._adapter,c=s.options,p=c.time.unit||"day",y=ih,M=Yh,L=[],I=[],U=[],Z,ee,ye,Ce,De,Be,ot,_n=s._getLabels();for(Z=0,ye=_n.length;Z<ye;++Z)U.push(Xu(s,_n[Z]));for(Z=0,ye=(o.data.datasets||[]).length;Z<ye;++Z)if(o.isDatasetVisible(Z))if(De=o.data.datasets[Z].data,ie.isObject(De[0]))for(I[Z]=[],ee=0,Ce=De.length;ee<Ce;++ee)Be=Xu(s,De[ee]),L.push(Be),I[Z][ee]=Be;else I[Z]=U.slice(0),ot||(L=L.concat(U),ot=!0);else I[Z]=[];U.length&&(y=Math.min(y,U[0]),M=Math.max(M,U[U.length-1])),L.length&&(L=ye>1?ev(L).sort(Kh):L.sort(Kh),y=Math.min(y,L[0]),M=Math.max(M,L[L.length-1])),y=Xu(s,Hh(c))||y,M=Xu(s,Gh(c))||M,y=y===ih?+l.startOf(Date.now(),p):y,M=M===Yh?+l.endOf(Date.now(),p)+1:M,s.min=Math.min(y,M),s.max=Math.max(y+1,M),s._table=[],s._timestamps={data:L,datasets:I,labels:U}},buildTicks:function(){var s=this,o=s.min,l=s.max,c=s.options,p=c.ticks,y=c.time,M=s._timestamps,L=[],I=s.getLabelCapacity(o),U=p.source,Z=c.distribution,ee,ye,Ce;for(U==="data"||U==="auto"&&Z==="series"?M=M.data:U==="labels"?M=M.labels:M=iv(s,o,l,I),c.bounds==="ticks"&&M.length&&(o=M[0],l=M[M.length-1]),o=Xu(s,Hh(c))||o,l=Xu(s,Gh(c))||l,ee=0,ye=M.length;ee<ye;++ee)Ce=M[ee],Ce>=o&&Ce<=l&&L.push(Ce);return s.min=o,s.max=l,s._unit=y.unit||(p.autoSkip?Jh(y.minUnit,s.min,s.max,I):nv(s,L.length,y.minUnit,s.min,s.max)),s._majorUnit=!p.major.enabled||s._unit==="year"?void 0:sv(s._unit),s._table=tv(s._timestamps.data,o,l,Z),s._offsets=av(s._table,L,o,l,c),p.reverse&&L.reverse(),Xh(s,L,s._majorUnit)},getLabelForIndex:function(s,o){var l=this,c=l._adapter,p=l.chart.data,y=l.options.time,M=p.labels&&s<p.labels.length?p.labels[s]:"",L=p.datasets[o].data[s];return ie.isObject(L)&&(M=l.getRightValue(L)),y.tooltipFormat?c.format(ah(l,M),y.tooltipFormat):typeof M=="string"?M:c.format(ah(l,M),y.displayFormats.datetime)},tickFormatFunction:function(s,o,l,c){var p=this,y=p._adapter,M=p.options,L=M.time.displayFormats,I=L[p._unit],U=p._majorUnit,Z=L[U],ee=l[o],ye=M.ticks,Ce=U&&Z&&ee&&ee.major,De=y.format(s,c||(Ce?Z:I)),Be=Ce?ye.major:ye.minor,ot=Uh([Be.callback,Be.userCallback,ye.callback,ye.userCallback]);return ot?ot(De,o,l):De},convertTicksToLabels:function(s){var o=[],l,c;for(l=0,c=s.length;l<c;++l)o.push(this.tickFormatFunction(s[l].value,l,s));return o},getPixelForOffset:function(s){var o=this,l=o._offsets,c=nf(o._table,"time",s,"pos");return o.getPixelForDecimal((l.start+c)*l.factor)},getPixelForValue:function(s,o,l){var c=this,p=null;if(o!==void 0&&l!==void 0&&(p=c._timestamps.datasets[l][o]),p===null&&(p=Xu(c,s)),p!==null)return c.getPixelForOffset(p)},getPixelForTick:function(s){var o=this.getTicks();return s>=0&&s<o.length?this.getPixelForOffset(o[s].value):null},getValueForPixel:function(s){var o=this,l=o._offsets,c=o.getDecimalForPixel(s)/l.factor-l.end,p=nf(o._table,"pos",c,"time");return o._adapter._create(p)},_getLabelSize:function(s){var o=this,l=o.options.ticks,c=o.ctx.measureText(s).width,p=ie.toRadians(o.isHorizontal()?l.maxRotation:l.minRotation),y=Math.cos(p),M=Math.sin(p),L=Zm(l.fontSize,xn.global.defaultFontSize);return{w:c*y+L*M,h:c*M+L*y}},getLabelWidth:function(s){return this._getLabelSize(s).w},getLabelCapacity:function(s){var o=this,l=o.options.time,c=l.displayFormats,p=c[l.unit]||c.millisecond,y=o.tickFormatFunction(s,0,Xh(o,[s],o._majorUnit),p),M=o._getLabelSize(y),L=Math.floor(o.isHorizontal()?o.width/M.w:o.height/M.h);return o.options.offset&&L--,L>0?L:1}}),uv=lv;Qh._defaults=uv;var cv={category:qh,linear:jh,logarithmic:Vh,radialLinear:zh,time:Qh},dv={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Gf._date.override(typeof r=="function"?{_id:"moment",formats:function(){return dv},parse:function(s,o){return typeof s=="string"&&typeof o=="string"?s=r(s,o):s instanceof r||(s=r(s)),s.isValid()?s.valueOf():null},format:function(s,o){return r(s).format(o)},add:function(s,o,l){return r(s).add(o,l).valueOf()},diff:function(s,o,l){return r(s).diff(r(o),l)},startOf:function(s,o,l){return s=r(s),o==="isoWeek"?s.isoWeekday(l).valueOf():s.startOf(o).valueOf()},endOf:function(s,o){return r(s).endOf(o).valueOf()},_create:function(s){return r(s)}}:{}),xn._set("global",{plugins:{filler:{propagate:!0}}});var fv={dataset:function(s){var o=s.fill,l=s.chart,c=l.getDatasetMeta(o),p=c&&l.isDatasetVisible(o),y=p&&c.dataset._children||[],M=y.length||0;return M?function(L,I){return I<M&&y[I]._view||null}:null},boundary:function(s){var o=s.boundary,l=o?o.x:null,c=o?o.y:null;return ie.isArray(o)?function(p,y){return o[y]}:function(p){return{x:l===null?p.x:l,y:c===null?p.y:c}}}};function hv(s,o,l){var c=s._model||{},p=c.fill,y;if(p===void 0&&(p=!!c.backgroundColor),p===!1||p===null)return!1;if(p===!0)return"origin";if(y=parseFloat(p,10),isFinite(y)&&Math.floor(y)===y)return(p[0]==="-"||p[0]==="+")&&(y=o+y),y===o||y<0||y>=l?!1:y;switch(p){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return p;default:return!1}}function pv(s){var o=s.el._model||{},l=s.el._scale||{},c=s.fill,p=null,y;if(isFinite(c))return null;if(c==="start"?p=o.scaleBottom===void 0?l.bottom:o.scaleBottom:c==="end"?p=o.scaleTop===void 0?l.top:o.scaleTop:o.scaleZero!==void 0?p=o.scaleZero:l.getBasePixel&&(p=l.getBasePixel()),p!=null){if(p.x!==void 0&&p.y!==void 0)return p;if(ie.isFinite(p))return y=l.isHorizontal(),{x:y?p:null,y:y?null:p}}return null}function mv(s){var o=s.el._scale,l=o.options,c=o.chart.data.labels.length,p=s.fill,y=[],M,L,I,U,Z;if(!c)return null;for(M=l.ticks.reverse?o.max:o.min,L=l.ticks.reverse?o.min:o.max,I=o.getPointPositionForValue(0,M),U=0;U<c;++U)Z=p==="start"||p==="end"?o.getPointPositionForValue(U,p==="start"?M:L):o.getBasePosition(U),l.gridLines.circular&&(Z.cx=I.x,Z.cy=I.y,Z.angle=o.getIndexAngle(U)-Math.PI/2),y.push(Z);return y}function vv(s){var o=s.el._scale||{};return o.getPointPositionForValue?mv(s):pv(s)}function gv(s,o,l){var c=s[o],p=c.fill,y=[o],M;if(!l)return p;for(;p!==!1&&y.indexOf(p)===-1;){if(!isFinite(p))return p;if(M=s[p],!M)return!1;if(M.visible)return p;y.push(p),p=M.fill}return!1}function yv(s){var o=s.fill,l="dataset";return o===!1?null:(isFinite(o)||(l="boundary"),fv[l](s))}function Zh(s){return s&&!s.skip}function ep(s,o,l,c,p){var y,M,L,I;if(!(!c||!p)){for(s.moveTo(o[0].x,o[0].y),y=1;y<c;++y)ie.canvas.lineTo(s,o[y-1],o[y]);if(l[0].angle!==void 0){for(M=l[0].cx,L=l[0].cy,I=Math.sqrt(Math.pow(l[0].x-M,2)+Math.pow(l[0].y-L,2)),y=p-1;y>0;--y)s.arc(M,L,I,l[y].angle,l[y-1].angle,!0);return}for(s.lineTo(l[p-1].x,l[p-1].y),y=p-1;y>0;--y)ie.canvas.lineTo(s,l[y],l[y-1],!0)}}function bv(s,o,l,c,p,y){var M=o.length,L=c.spanGaps,I=[],U=[],Z=0,ee=0,ye,Ce,De,Be,ot,_n,Cn,rs;for(s.beginPath(),ye=0,Ce=M;ye<Ce;++ye)De=ye%M,Be=o[De]._view,ot=l(Be,De,c),_n=Zh(Be),Cn=Zh(ot),y&&rs===void 0&&_n&&(rs=ye+1,Ce=M+rs),_n&&Cn?(Z=I.push(Be),ee=U.push(ot)):Z&&ee&&(L?(_n&&I.push(Be),Cn&&U.push(ot)):(ep(s,I,U,Z,ee),Z=ee=0,I=[],U=[]));ep(s,I,U,Z,ee),s.closePath(),s.fillStyle=p,s.fill()}var _v={id:"filler",afterDatasetsUpdate:function(s,o){var l=(s.data.datasets||[]).length,c=o.propagate,p=[],y,M,L,I;for(M=0;M<l;++M)y=s.getDatasetMeta(M),L=y.dataset,I=null,L&&L._model&&L instanceof $u.Line&&(I={visible:s.isDatasetVisible(M),fill:hv(L,M,l),chart:s,el:L}),y.$filler=I,p.push(I);for(M=0;M<l;++M)I=p[M],I&&(I.fill=gv(p,M,c),I.boundary=vv(I),I.mapper=yv(I))},beforeDatasetsDraw:function(s){var o=s._getSortedVisibleDatasetMetas(),l=s.ctx,c,p,y,M,L,I,U;for(p=o.length-1;p>=0;--p)c=o[p].$filler,!(!c||!c.visible)&&(y=c.el,M=y._view,L=y._children||[],I=c.mapper,U=M.backgroundColor||xn.global.defaultColor,I&&U&&L.length&&(ie.canvas.clipArea(l,s.chartArea),bv(l,L,I,M,U,y._loop),ie.canvas.unclipArea(l)))}},wv=ie.rtl.getRtlAdapter,ju=ie.noop,Vu=ie.valueOrDefault;xn._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(s,o){var l=o.datasetIndex,c=this.chart,p=c.getDatasetMeta(l);p.hidden=p.hidden===null?!c.data.datasets[l].hidden:null,c.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(s){var o=s.data.datasets,l=s.options.legend||{},c=l.labels&&l.labels.usePointStyle;return s._getSortedDatasetMetas().map(function(p){var y=p.controller.getStyle(c?0:void 0);return{text:o[p.index].label,fillStyle:y.backgroundColor,hidden:!s.isDatasetVisible(p.index),lineCap:y.borderCapStyle,lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,pointStyle:y.pointStyle,rotation:y.rotation,datasetIndex:p.index}},this)}}},legendCallback:function(s){var o=document.createElement("ul"),l=s.data.datasets,c,p,y,M;for(o.setAttribute("class",s.id+"-legend"),c=0,p=l.length;c<p;c++)y=o.appendChild(document.createElement("li")),M=y.appendChild(document.createElement("span")),M.style.backgroundColor=l[c].backgroundColor,l[c].label&&y.appendChild(document.createTextNode(l[c].label));return o.outerHTML}});function oh(s,o){return s.usePointStyle&&s.boxWidth>o?o:s.boxWidth}var tp=Ru.extend({initialize:function(s){var o=this;ie.extend(o,s),o.legendHitBoxes=[],o._hoveredItem=null,o.doughnutMode=!1},beforeUpdate:ju,update:function(s,o,l){var c=this;return c.beforeUpdate(),c.maxWidth=s,c.maxHeight=o,c.margins=l,c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeBuildLabels(),c.buildLabels(),c.afterBuildLabels(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:ju,beforeSetDimensions:ju,setDimensions:function(){var s=this;s.isHorizontal()?(s.width=s.maxWidth,s.left=0,s.right=s.width):(s.height=s.maxHeight,s.top=0,s.bottom=s.height),s.paddingLeft=0,s.paddingTop=0,s.paddingRight=0,s.paddingBottom=0,s.minSize={width:0,height:0}},afterSetDimensions:ju,beforeBuildLabels:ju,buildLabels:function(){var s=this,o=s.options.labels||{},l=ie.callback(o.generateLabels,[s.chart],s)||[];o.filter&&(l=l.filter(function(c){return o.filter(c,s.chart.data)})),s.options.reverse&&l.reverse(),s.legendItems=l},afterBuildLabels:ju,beforeFit:ju,fit:function(){var s=this,o=s.options,l=o.labels,c=o.display,p=s.ctx,y=ie.options._parseFont(l),M=y.size,L=s.legendHitBoxes=[],I=s.minSize,U=s.isHorizontal();if(U?(I.width=s.maxWidth,I.height=c?10:0):(I.width=c?10:0,I.height=s.maxHeight),!c){s.width=I.width=s.height=I.height=0;return}if(p.font=y.string,U){var Z=s.lineWidths=[0],ee=0;p.textAlign="left",p.textBaseline="middle",ie.each(s.legendItems,function(Cn,rs){var ai=oh(l,M),ni=ai+M/2+p.measureText(Cn.text).width;(rs===0||Z[Z.length-1]+ni+2*l.padding>I.width)&&(ee+=M+l.padding,Z[Z.length-(rs>0?0:1)]=0),L[rs]={left:0,top:0,width:ni,height:M},Z[Z.length-1]+=ni+l.padding}),I.height+=ee}else{var ye=l.padding,Ce=s.columnWidths=[],De=s.columnHeights=[],Be=l.padding,ot=0,_n=0;ie.each(s.legendItems,function(Cn,rs){var ai=oh(l,M),ni=ai+M/2+p.measureText(Cn.text).width;rs>0&&_n+M+2*ye>I.height&&(Be+=ot+l.padding,Ce.push(ot),De.push(_n),ot=0,_n=0),ot=Math.max(ot,ni),_n+=M+ye,L[rs]={left:0,top:0,width:ni,height:M}}),Be+=ot,Ce.push(ot),De.push(_n),I.width+=Be}s.width=I.width,s.height=I.height},afterFit:ju,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var s=this,o=s.options,l=o.labels,c=xn.global,p=c.defaultColor,y=c.elements.line,M=s.height,L=s.columnHeights,I=s.width,U=s.lineWidths;if(o.display){var Z=wv(o.rtl,s.left,s.minSize.width),ee=s.ctx,ye=Vu(l.fontColor,c.defaultFontColor),Ce=ie.options._parseFont(l),De=Ce.size,Be;ee.textAlign=Z.textAlign("left"),ee.textBaseline="middle",ee.lineWidth=.5,ee.strokeStyle=ye,ee.fillStyle=ye,ee.font=Ce.string;var ot=oh(l,De),_n=s.legendHitBoxes,Cn=function(nu,cu,fu){if(!(isNaN(ot)||ot<=0)){ee.save();var bu=Vu(fu.lineWidth,y.borderWidth);if(ee.fillStyle=Vu(fu.fillStyle,p),ee.lineCap=Vu(fu.lineCap,y.borderCapStyle),ee.lineDashOffset=Vu(fu.lineDashOffset,y.borderDashOffset),ee.lineJoin=Vu(fu.lineJoin,y.borderJoinStyle),ee.lineWidth=bu,ee.strokeStyle=Vu(fu.strokeStyle,p),ee.setLineDash&&ee.setLineDash(Vu(fu.lineDash,y.borderDash)),l&&l.usePointStyle){var vu=ot*Math.SQRT2/2,mu=Z.xPlus(nu,ot/2),_u=cu+De/2;ie.canvas.drawPoint(ee,fu.pointStyle,vu,mu,_u,fu.rotation)}else ee.fillRect(Z.leftForLtr(nu,ot),cu,ot,De),bu!==0&&ee.strokeRect(Z.leftForLtr(nu,ot),cu,ot,De);ee.restore()}},rs=function(nu,cu,fu,bu){var vu=De/2,mu=Z.xPlus(nu,ot+vu),_u=cu+vu;ee.fillText(fu.text,mu,_u),fu.hidden&&(ee.beginPath(),ee.lineWidth=2,ee.moveTo(mu,_u),ee.lineTo(Z.xPlus(mu,bu),_u),ee.stroke())},ai=function(nu,cu){switch(o.align){case"start":return l.padding;case"end":return nu-cu;default:return(nu-cu+l.padding)/2}},ni=s.isHorizontal();ni?Be={x:s.left+ai(I,U[0]),y:s.top+l.padding,line:0}:Be={x:s.left+l.padding,y:s.top+ai(M,L[0]),line:0},ie.rtl.overrideTextDirection(s.ctx,o.textDirection);var ou=De+l.padding;ie.each(s.legendItems,function(nu,cu){var fu=ee.measureText(nu.text).width,bu=ot+De/2+fu,vu=Be.x,mu=Be.y;Z.setWidth(s.minSize.width),ni?cu>0&&vu+bu+l.padding>s.left+s.minSize.width&&(mu=Be.y+=ou,Be.line++,vu=Be.x=s.left+ai(I,U[Be.line])):cu>0&&mu+ou>s.top+s.minSize.height&&(vu=Be.x=vu+s.columnWidths[Be.line]+l.padding,Be.line++,mu=Be.y=s.top+ai(M,L[Be.line]));var _u=Z.x(vu);Cn(_u,mu,nu),_n[cu].left=Z.leftForLtr(_u,_n[cu].width),_n[cu].top=mu,rs(_u,mu,nu,fu),ni?Be.x+=bu+l.padding:Be.y+=ou}),ie.rtl.restoreTextDirection(s.ctx,o.textDirection)}},_getLegendItemAt:function(s,o){var l=this,c,p,y;if(s>=l.left&&s<=l.right&&o>=l.top&&o<=l.bottom){for(y=l.legendHitBoxes,c=0;c<y.length;++c)if(p=y[c],s>=p.left&&s<=p.left+p.width&&o>=p.top&&o<=p.top+p.height)return l.legendItems[c]}return null},handleEvent:function(s){var o=this,l=o.options,c=s.type==="mouseup"?"click":s.type,p;if(c==="mousemove"){if(!l.onHover&&!l.onLeave)return}else if(c==="click"){if(!l.onClick)return}else return;p=o._getLegendItemAt(s.x,s.y),c==="click"?p&&l.onClick&&l.onClick.call(o,s.native,p):(l.onLeave&&p!==o._hoveredItem&&(o._hoveredItem&&l.onLeave.call(o,s.native,o._hoveredItem),o._hoveredItem=p),l.onHover&&p&&l.onHover.call(o,s.native,p))}});function rp(s,o){var l=new tp({ctx:s.ctx,options:o,chart:s});Pu.configure(s,l,o),Pu.addBox(s,l),s.legend=l}var kv={id:"legend",_element:tp,beforeInit:function(s){var o=s.options.legend;o&&rp(s,o)},beforeUpdate:function(s){var o=s.options.legend,l=s.legend;o?(ie.mergeIf(o,xn.global.legend),l?(Pu.configure(s,l,o),l.options=o):rp(s,o)):l&&(Pu.removeBox(s,l),delete s.legend)},afterEvent:function(s,o){var l=s.legend;l&&l.handleEvent(o)}},Fu=ie.noop;xn._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var np=Ru.extend({initialize:function(s){var o=this;ie.extend(o,s),o.legendHitBoxes=[]},beforeUpdate:Fu,update:function(s,o,l){var c=this;return c.beforeUpdate(),c.maxWidth=s,c.maxHeight=o,c.margins=l,c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeBuildLabels(),c.buildLabels(),c.afterBuildLabels(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:Fu,beforeSetDimensions:Fu,setDimensions:function(){var s=this;s.isHorizontal()?(s.width=s.maxWidth,s.left=0,s.right=s.width):(s.height=s.maxHeight,s.top=0,s.bottom=s.height),s.paddingLeft=0,s.paddingTop=0,s.paddingRight=0,s.paddingBottom=0,s.minSize={width:0,height:0}},afterSetDimensions:Fu,beforeBuildLabels:Fu,buildLabels:Fu,afterBuildLabels:Fu,beforeFit:Fu,fit:function(){var s=this,o=s.options,l=s.minSize={},c=s.isHorizontal(),p,y;if(!o.display){s.width=l.width=s.height=l.height=0;return}p=ie.isArray(o.text)?o.text.length:1,y=p*ie.options._parseFont(o).lineHeight+o.padding*2,s.width=l.width=c?s.maxWidth:y,s.height=l.height=c?y:s.maxHeight},afterFit:Fu,isHorizontal:function(){var s=this.options.position;return s==="top"||s==="bottom"},draw:function(){var s=this,o=s.ctx,l=s.options;if(l.display){var c=ie.options._parseFont(l),p=c.lineHeight,y=p/2+l.padding,M=0,L=s.top,I=s.left,U=s.bottom,Z=s.right,ee,ye,Ce;o.fillStyle=ie.valueOrDefault(l.fontColor,xn.global.defaultFontColor),o.font=c.string,s.isHorizontal()?(ye=I+(Z-I)/2,Ce=L+y,ee=Z-I):(ye=l.position==="left"?I+y:Z-y,Ce=L+(U-L)/2,ee=U-L,M=Math.PI*(l.position==="left"?-.5:.5)),o.save(),o.translate(ye,Ce),o.rotate(M),o.textAlign="center",o.textBaseline="middle";var De=l.text;if(ie.isArray(De))for(var Be=0,ot=0;ot<De.length;++ot)o.fillText(De[ot],0,Be,ee),Be+=p;else o.fillText(De,0,0,ee);o.restore()}}});function sp(s,o){var l=new np({ctx:s.ctx,options:o,chart:s});Pu.configure(s,l,o),Pu.addBox(s,l),s.titleBlock=l}var $v={id:"title",_element:np,beforeInit:function(s){var o=s.options.title;o&&sp(s,o)},beforeUpdate:function(s){var o=s.options.title,l=s.titleBlock;o?(ie.mergeIf(o,xn.global.title),l?(Pu.configure(s,l,o),l.options=o):sp(s,o)):l&&(Pu.removeBox(s,l),delete s.titleBlock)}},Wu={},Sv=_v,xv=kv,Mv=$v;Wu.filler=Sv,Wu.legend=xv,Wu.title=Mv,tu.helpers=ie,_m(),tu._adapters=Gf,tu.Animation=Rf,tu.animationService=Of,tu.controllers=$h,tu.DatasetController=Eu,tu.defaults=xn,tu.Element=Ru,tu.elements=$u,tu.Interaction=ef,tu.layouts=Pu,tu.platform=tf,tu.plugins=du,tu.Scale=Su,tu.scaleService=hf,tu.Ticks=pf,tu.Tooltip=Yf,tu.helpers.each(cv,function(s,o){tu.scaleService.registerScaleType(o,s,s._defaults)});for(var ip in Wu)Wu.hasOwnProperty(ip)&&tu.plugins.register(Wu[ip]);tu.platform.initialize();var Tv=tu;return typeof window<"u"&&(window.Chart=tu),tu.Chart=tu,tu.Legend=Wu.legend._element,tu.Title=Wu.title._element,tu.pluginService=tu.plugins,tu.PluginBase=tu.Element.extend({}),tu.canvasHelpers=tu.helpers.canvas,tu.layoutService=tu.layouts,tu.LinearScaleBase=Sf,tu.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(s){tu[s]=function(o,l){return new tu(o,tu.helpers.merge(l||{},{type:s.charAt(0).toLowerCase()+s.slice(1)}))}}),Tv}))})(Chart$1)),Chart$1.exports}var ChartExports=requireChart();/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const faGear={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},faCog=faGear,faHouse={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},faHome=faHouse,oi=!1;var Zt=Array.isArray,En=Array.prototype.indexOf,pr=Array.from,Is=Object.defineProperty,xt=Object.getOwnPropertyDescriptor,li=Object.getOwnPropertyDescriptors,Pn=Object.prototype,Ln=Array.prototype,mr=Object.getPrototypeOf,Er=Object.isExtensible;function ns(e){return typeof e=="function"}const tt=()=>{};function Vn(e){return typeof e?.then=="function"}function qn(e){return e()}function Ds(e){for(var t=0;t<e.length;t++)e[t]()}function ci(){var e,t,r=new Promise((n,i)=>{e=n,t=i});return{promise:r,resolve:e,reject:t}}const qe=2,gr=4,qs=8,Vt=16,pt=32,qt=64,_r=128,Ue=256,Cs=512,Se=1024,Fe=2048,mt=4096,Ze=8192,Nt=16384,wr=32768,Ns=65536,Pr=1<<17,Nn=1<<18,Jt=1<<19,di=1<<20,rr=1<<21,zs=1<<22,Tt=1<<23,st=Symbol("$state"),ui=Symbol("legacy props"),zn=Symbol(""),cs=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function fi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Kn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function An(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Fn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function jn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Bn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function On(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Gn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Wn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Yn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Un(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ks=1,As=2,vi=4,Hn=8,Xn=16,Zn=1,Jn=2,hi=4,Qn=8,ea=16,pi=1,ta=2,we=Symbol(),sa="http://www.w3.org/1999/xhtml",ra="@attach";function ia(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function na(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let aa=!1;function mi(e){return e===this.v}function br(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function oa(e,t){return e!==t}function gi(e){return!br(e,this.v)}let Qt=!1,la=!1;function ca(){Qt=!0}let me=null;function St(e){me=e}function ne(e,t=!1,r){me={p:me,c:null,e:null,s:e,x:null,l:Qt&&!t?{s:null,u:null,$:[]}:null}}function ae(e){var t=me,r=t.e;if(r!==null){t.e=null;for(var n of r)Li(n)}return me=t.p,{}}function zt(){return!Qt||me!==null&&me.l===null}let Dt=[];function _i(){var e=Dt;Dt=[],Ds(e)}function vt(e){if(Dt.length===0&&!Gt){var t=Dt;queueMicrotask(()=>{t===Dt&&_i()})}Dt.push(e)}function da(){for(;Dt.length>0;)_i()}const ua=new WeakMap;function wi(e){var t=te;if(t===null)return se.f|=Tt,e;if((t.f&wr)===0){if((t.f&_r)===0)throw!t.parent&&e instanceof Error&&bi(e),e;t.b.error(e)}else Yt(e,t)}function Yt(e,t){for(;t!==null;){if((t.f&_r)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&bi(e),e}function bi(e){const t=ua.get(e);t&&(Is(e,"message",{value:t.message}),Is(e,"stack",{value:t.stack}))}const ys=new Set;let ue=null,Rs=null,ir=new Set,et=[],Fs=null,nr=!1,Gt=!1;class Ye{current=new Map;#n=new Map;#r=new Set;#f=0;#i=null;#l=[];#s=[];#t=[];#e=[];#a=[];#u=[];skipped_effects=new Set;process(t){et=[],Rs=null;for(const i of t)this.#c(i);if(this.#f===0){this.#d();var r=this.#s,n=this.#t;this.#s=[],this.#t=[],this.#e=[],Rs=this,ue=null,Lr(r),Lr(n),this.#i?.resolve()}else this.#o(this.#s),this.#o(this.#t),this.#o(this.#e);for(const i of this.#l)Ut(i);this.#l=[]}#c(t){t.f^=Se;for(var r=t.first;r!==null;){var n=r.f,i=(n&(pt|qt))!==0,a=i&&(n&Se)!==0,u=a||(n&Ze)!==0||this.skipped_effects.has(r);if(!u&&r.fn!==null){i?r.f^=Se:(n&gr)!==0?this.#t.push(r):(n&Se)===0&&((n&zs)!==0&&r.b?.is_pending()?this.#l.push(r):_s(r)&&((r.f&Vt)!==0&&this.#e.push(r),Ut(r)));var d=r.first;if(d!==null){r=d;continue}}var m=r.parent;for(r=r.next;r===null&&m!==null;)r=m.next,m=m.parent}}#o(t){for(const r of t)((r.f&Fe)!==0?this.#a:this.#u).push(r),Ie(r,Se);t.length=0}capture(t,r){this.#n.has(t)||this.#n.set(t,r),this.current.set(t,t.v)}activate(){ue=this}deactivate(){ue=null,Rs=null;for(const t of ir)if(ir.delete(t),t(),ue!==null)break}flush(){if(et.length>0){if(this.activate(),xi(),ue!==null&&ue!==this)return}else this.#f===0&&this.#d();this.deactivate()}#d(){for(const t of this.#r)t();if(this.#r.clear(),ys.size>1){this.#n.clear();let t=!0;for(const r of ys){if(r===this){t=!1;continue}for(const[n,i]of this.current){if(r.current.has(n))if(t)r.current.set(n,i);else continue;ki(n)}if(et.length>0){ue=r;for(const n of et)r.#c(n);et=[]}}ue=null}ys.delete(this)}increment(){this.#f+=1}decrement(){if(this.#f-=1,this.#f===0){for(const t of this.#a)Ie(t,Fe),Pt(t);for(const t of this.#u)Ie(t,mt),Pt(t);this.flush()}else this.deactivate()}add_callback(t){this.#r.add(t)}settled(){return(this.#i??=ci()).promise}static ensure(){if(ue===null){const t=ue=new Ye;ys.add(ue),Gt||Ye.enqueue(()=>{ue===t&&t.flush()})}return ue}static enqueue(t){vt(t)}static apply(t){return tt}}function yi(e){var t=Gt;Gt=!0;try{for(var r;;){if(da(),et.length===0&&(ue?.flush(),et.length===0))return Fs=null,r;xi()}}finally{Gt=t}}function xi(){var e=Wt;nr=!0;try{var t=0;for(zr(!0);et.length>0;){var r=Ye.ensure();if(t++>1e3){var n,i;fa()}r.process(et),kt.clear()}}finally{nr=!1,zr(e),Fs=null}}function fa(){try{Bn()}catch(e){Yt(e,Fs)}}let It=null;function Lr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(Nt|Ze))===0&&_s(n)&&(It=[],Ut(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?zi(n):n.fn=null),It?.length>0)){kt.clear();for(const i of It)Ut(i);It=[]}}It=null}}function ki(e){if(e.reactions!==null)for(const t of e.reactions){const r=t.f;(r&qe)!==0?ki(t):(r&(zs|Vt))!==0&&(Ie(t,Fe),Pt(t))}}function Pt(e){for(var t=Fs=e;t.parent!==null;){t=t.parent;var r=t.f;if(nr&&t===te&&(r&Vt)!==0)return;if((r&(qt|pt))!==0){if((r&Se)===0)return;t.f^=Se}}et.push(t)}function va(e){let t=0,r=it(0),n;return()=>{Ia()&&(f$1(r),ss(()=>(t===0&&(n=b$1(()=>e(()=>ds(r)))),t+=1,()=>{vt(()=>{t-=1,t===0&&(n?.(),n=void 0,ds(r))})})))}}var ha=Ns|Jt|_r;function pa(e,t,r){new ma(e,t,r)}class ma{parent;#n=!1;#r;#f=null;#i;#l;#s;#t=null;#e=null;#a=null;#u=null;#c=0;#o=0;#d=!1;#h=null;#g=()=>{this.#h&&dt(this.#h,this.#c)};#y=va(()=>(this.#h=it(this.#c),()=>{this.#h=null}));constructor(t,r,n){this.#r=t,this.#i=r,this.#l=n,this.parent=te.b,this.#n=!!this.#i.pending,this.#s=Kt(()=>{te.b=this;{try{this.#t=Me(()=>n(this.#r))}catch(i){this.error(i)}this.#o>0?this.#m():this.#n=!1}},ha)}#b(){try{this.#t=Me(()=>this.#l(this.#r))}catch(t){this.error(t)}this.#n=!1}#_(){const t=this.#i.pending;t&&(this.#e=Me(()=>t(this.#r)),Ye.enqueue(()=>{this.#t=this.#p(()=>(Ye.ensure(),Me(()=>this.#l(this.#r)))),this.#o>0?this.#m():(rt(this.#e,()=>{this.#e=null}),this.#n=!1)}))}is_pending(){return this.#n||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#i.pending}#p(t){var r=te,n=se,i=me;Ne(this.#s),$e(this.#s),St(this.#s.ctx);try{return t()}catch(a){return wi(a),null}finally{Ne(r),$e(n),St(i)}}#m(){const t=this.#i.pending;this.#t!==null&&(this.#u=document.createDocumentFragment(),ga(this.#t,this.#u)),this.#e===null&&(this.#e=Me(()=>t(this.#r)))}#v(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#v(t);return}this.#o+=t,this.#o===0&&(this.#n=!1,this.#e&&rt(this.#e,()=>{this.#e=null}),this.#u&&(this.#r.before(this.#u),this.#u=null),vt(()=>{Ye.ensure().flush()}))}update_pending_count(t){this.#v(t),this.#c+=t,ir.add(this.#g)}get_effect_pending(){return this.#y(),f$1(this.#h)}error(t){var r=this.#i.onerror;let n=this.#i.failed;if(this.#d||!r&&!n)throw t;this.#t&&(Ee(this.#t),this.#t=null),this.#e&&(Ee(this.#e),this.#e=null),this.#a&&(Ee(this.#a),this.#a=null);var i=!1,a=!1;const u=()=>{if(i){na();return}i=!0,a&&Un(),Ye.ensure(),this.#c=0,this.#a!==null&&rt(this.#a,()=>{this.#a=null}),this.#n=this.has_pending_snippet(),this.#t=this.#p(()=>(this.#d=!1,Me(()=>this.#l(this.#r)))),this.#o>0?this.#m():this.#n=!1};var d=se;try{$e(null),a=!0,r?.(t,u),a=!1}catch(m){Yt(m,this.#s&&this.#s.parent)}finally{$e(d)}n&&vt(()=>{this.#a=this.#p(()=>{this.#d=!0;try{return Me(()=>{n(this.#r,()=>t,()=>u)})}catch(m){return Yt(m,this.#s.parent),null}finally{this.#d=!1}})})}}function ga(e,t){for(var r=e.nodes_start,n=e.nodes_end;r!==null;){var i=r===n?null:gs(r);t.append(r),r=i}}function Si(e,t,r){const n=zt()?js:yr;if(t.length===0){r(e.map(n));return}var i=ue,a=te,u=_a();Promise.all(t.map(d=>wa(d))).then(d=>{i?.activate(),u();try{r([...e.map(n),...d])}catch(m){(a.f&Nt)===0&&Yt(m,a)}i?.deactivate(),Ri()}).catch(d=>{Yt(d,a)})}function _a(){var e=te,t=se,r=me,n=ue;return function(){Ne(e),$e(t),St(r),n?.activate()}}function Ri(){Ne(null),$e(null),St(null)}function js(e){var t=qe|Fe,r=se!==null&&(se.f&qe)!==0?se:null;return te===null||r!==null&&(r.f&Ue)!==0?t|=Ue:te.f|=Jt,{ctx:me,deps:null,effects:null,equals:mi,f:t,fn:e,reactions:null,rv:0,v:we,wv:0,parent:r??te,ac:null}}function wa(e,t){let r=te;r===null&&Kn();var n=r.b,i=void 0,a=it(we),u=!se,d=new Map;return Ta(()=>{var m=ci();i=m.promise;try{Promise.resolve(e()).then(m.resolve,m.reject)}catch(O){m.reject(O)}var g=ue,x=n.is_pending();u&&(n.update_pending_count(1),x||(g.increment(),d.get(g)?.reject(cs),d.set(g,m)));const R=(O,q=void 0)=>{x||g.activate(),q?q!==cs&&(a.f|=Tt,dt(a,q)):((a.f&Tt)!==0&&(a.f^=Tt),dt(a,O)),u&&(n.update_pending_count(-1),x||g.decrement()),Ri()};m.promise.then(R,O=>R(null,O||"unknown"))}),Os(()=>{for(const m of d.values())m.reject(cs)}),new Promise(m=>{function g(x){function R(){x===i?m(a):g(i)}x.then(R,R)}g(i)})}function yr(e){const t=js(e);return t.equals=gi,t}function Mi(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Ee(t[r])}}function ba(e){for(var t=e.parent;t!==null;){if((t.f&qe)===0)return t;t=t.parent}return null}function xr(e){var t,r=te;Ne(ba(e));try{Mi(e),t=Oi(e)}finally{Ne(r)}return t}function $i(e){var t=xr(e);if(e.equals(t)||(e.v=t,e.wv=ji()),!At){var r=(yt||(e.f&Ue)!==0)&&e.deps!==null?mt:Se;Ie(e,r)}}const kt=new Map;function it(e,t){var r={f:0,v:e,reactions:null,equals:mi,rv:0,wv:0};return r}function bt(e,t){const r=it(e);return Pa(r),r}function X(e,t=!1,r=!0){const n=it(e);return t||(n.equals=gi),Qt&&r&&me!==null&&me.l!==null&&(me.l.s??=[]).push(n),n}function ya(e,t){return N(e,b$1(()=>f$1(e))),t}function N(e,t,r=!1){se!==null&&(!Xe||(se.f&Pr)!==0)&&zt()&&(se.f&(qe|Vt|zs|Pr))!==0&&!ut?.includes(e)&&Yn();let n=r?Ot(t):t;return dt(e,n)}function dt(e,t){if(!e.equals(t)){var r=e.v;At?kt.set(e,t):kt.set(e,r),e.v=t;var n=Ye.ensure();n.capture(e,r),(e.f&qe)!==0&&((e.f&Fe)!==0&&xr(e),Ie(e,(e.f&Ue)===0?Se:mt)),e.wv=ji(),Ii(e,Fe),zt()&&te!==null&&(te.f&Se)!==0&&(te.f&(pt|qt))===0&&(Ge===null?La([e]):Ge.push(e))}return t}function Vr(e,t=1){var r=f$1(e),n=t===1?r++:r--;return N(e,r),n}function ds(e){N(e,e.v+1)}function Ii(e,t){var r=e.reactions;if(r!==null)for(var n=zt(),i=r.length,a=0;a<i;a++){var u=r[a],d=u.f;if(!(!n&&u===te)){var m=(d&Fe)===0;m&&Ie(u,t),(d&qe)!==0?Ii(u,mt):m&&((d&Vt)!==0&&It!==null&&It.push(u),Pt(u))}}}function Ot(e){if(typeof e!="object"||e===null||st in e)return e;const t=mr(e);if(t!==Pn&&t!==Ln)return e;var r=new Map,n=Zt(e),i=bt(0),a=Et,u=d=>{if(Et===a)return d();var m=se,g=Et;$e(null),Ar(a);var x=d();return $e(m),Ar(g),x};return n&&r.set("length",bt(e.length)),new Proxy(e,{defineProperty(d,m,g){(!("value"in g)||g.configurable===!1||g.enumerable===!1||g.writable===!1)&&Gn();var x=r.get(m);return x===void 0?x=u(()=>{var R=bt(g.value);return r.set(m,R),R}):N(x,g.value,!0),!0},deleteProperty(d,m){var g=r.get(m);if(g===void 0){if(m in d){const x=u(()=>bt(we));r.set(m,x),ds(i)}}else N(g,we),ds(i);return!0},get(d,m,g){if(m===st)return e;var x=r.get(m),R=m in d;if(x===void 0&&(!R||xt(d,m)?.writable)&&(x=u(()=>{var q=Ot(R?d[m]:we),B=bt(q);return B}),r.set(m,x)),x!==void 0){var O=f$1(x);return O===we?void 0:O}return Reflect.get(d,m,g)},getOwnPropertyDescriptor(d,m){var g=Reflect.getOwnPropertyDescriptor(d,m);if(g&&"value"in g){var x=r.get(m);x&&(g.value=f$1(x))}else if(g===void 0){var R=r.get(m),O=R?.v;if(R!==void 0&&O!==we)return{enumerable:!0,configurable:!0,value:O,writable:!0}}return g},has(d,m){if(m===st)return!0;var g=r.get(m),x=g!==void 0&&g.v!==we||Reflect.has(d,m);if(g!==void 0||te!==null&&(!x||xt(d,m)?.writable)){g===void 0&&(g=u(()=>{var O=x?Ot(d[m]):we,q=bt(O);return q}),r.set(m,g));var R=f$1(g);if(R===we)return!1}return x},set(d,m,g,x){var R=r.get(m),O=m in d;if(n&&m==="length")for(var q=g;q<R.v;q+=1){var B=r.get(q+"");B!==void 0?N(B,we):q in d&&(B=u(()=>bt(we)),r.set(q+"",B))}if(R===void 0)(!O||xt(d,m)?.writable)&&(R=u(()=>bt(void 0)),N(R,Ot(g)),r.set(m,R));else{O=R.v!==we;var F=u(()=>Ot(g));N(R,F)}var D=Reflect.getOwnPropertyDescriptor(d,m);if(D?.set&&D.set.call(x,g),!O){if(n&&typeof m=="string"){var V=r.get("length"),j=Number(m);Number.isInteger(j)&&j>=V.v&&N(V,j+1)}ds(i)}return!0},ownKeys(d){f$1(i);var m=Reflect.ownKeys(d).filter(R=>{var O=r.get(R);return O===void 0||O.v!==we});for(var[g,x]of r)x.v!==we&&!(g in d)&&m.push(g);return m},setPrototypeOf(){Wn()}})}function qr(e){try{if(e!==null&&typeof e=="object"&&st in e)return e[st]}catch{}return e}function xa(e,t){return Object.is(qr(e),qr(t))}var us,Di,Ci,Ti;function ka(){if(us===void 0){us=window,Di=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Ci=xt(t,"firstChild").get,Ti=xt(t,"nextSibling").get,Er(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Er(r)&&(r.__t=void 0)}}function es(e=""){return document.createTextNode(e)}function Ae(e){return Ci.call(e)}function gs(e){return Ti.call(e)}function _$1(e,t){return Ae(e)}function J(e,t=!1){{var r=Ae(e);return r instanceof Comment&&r.data===""?gs(r):r}}function E(e,t=1,r=!1){let n=e;for(;t--;)n=gs(n);return n}function Sa(e){e.textContent=""}function kr(){return!1}function Ra(e,t){if(t){const r=document.body;e.autofocus=!0,vt(()=>{document.activeElement===r&&e.focus()})}}let Nr=!1;function Ma(){Nr||(Nr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Bs(e){var t=se,r=te;$e(null),Ne(null);try{return e()}finally{$e(t),Ne(r)}}function Ei(e,t,r,n=r){e.addEventListener(t,()=>Bs(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),Ma()}function Pi(e){te===null&&se===null&&jn(),se!==null&&(se.f&Ue)!==0&&te===null&&Fn(),At&&An()}function $a(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function nt(e,t,r,n=!0){var i=te;i!==null&&(i.f&Ze)!==0&&(e|=Ze);var a={ctx:me,deps:null,nodes_start:null,nodes_end:null,f:e|Fe,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Ut(a),a.f|=wr}catch(m){throw Ee(a),m}else t!==null&&Pt(a);if(n){var u=a;if(r&&u.deps===null&&u.teardown===null&&u.nodes_start===null&&u.first===u.last&&(u.f&Jt)===0&&(u=u.first),u!==null&&(u.parent=i,i!==null&&$a(u,i),se!==null&&(se.f&qe)!==0&&(e&qt)===0)){var d=se;(d.effects??=[]).push(u)}}return a}function Ia(){return se!==null&&!Xe}function Os(e){const t=nt(qs,null,!1);return Ie(t,Se),t.teardown=e,t}function ar(e){Pi();var t=te.f,r=!se&&(t&pt)!==0&&(t&wr)===0;if(r){var n=me;(n.e??=[]).push(e)}else return Li(e)}function Li(e){return nt(gr|di,e,!1)}function Da(e){return Pi(),nt(qs|di,e,!0)}function Ca(e){Ye.ensure();const t=nt(qt|Jt,e,!0);return(r={})=>new Promise(n=>{r.outro?rt(t,()=>{Ee(t),n(void 0)}):(Ee(t),n(void 0))})}function ts(e){return nt(gr,e,!1)}function Pe(e,t){var r=me,n={effect:null,ran:!1,deps:e};r.l.$.push(n),n.effect=ss(()=>{e(),!n.ran&&(n.ran=!0,b$1(t))})}function je(){var e=me;ss(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&Se)!==0&&Ie(r,mt),_s(r)&&Ut(r),t.ran=!1}})}function Ta(e){return nt(zs|Jt,e,!0)}function ss(e,t=0){return nt(qs|t,e,!0)}function H(e,t=[],r=[]){Si(t,r,n=>{nt(qs,()=>e(...n.map(f$1)),!0)})}function Kt(e,t=0){var r=nt(Vt|t,e,!0);return r}function Me(e,t=!0){return nt(pt|Jt,e,!0,t)}function Vi(e){var t=e.teardown;if(t!==null){const r=At,n=se;Kr(!0),$e(null);try{t.call(null)}finally{Kr(r),$e(n)}}}function qi(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&Bs(()=>{i.abort(cs)});var n=r.next;(r.f&qt)!==0?r.parent=null:Ee(r,t),r=n}}function Ea(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&pt)===0&&Ee(t),t=r}}function Ee(e,t=!0){var r=!1;(t||(e.f&Nn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ni(e.nodes_start,e.nodes_end),r=!0),qi(e,t&&!r),Ts(e,0),Ie(e,Nt);var n=e.transitions;if(n!==null)for(const a of n)a.stop();Vi(e);var i=e.parent;i!==null&&i.first!==null&&zi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ni(e,t){for(;e!==null;){var r=e===t?null:gs(e);e.remove(),e=r}}function zi(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function rt(e,t){var r=[];Sr(e,r,!0),Ki(r,()=>{Ee(e),t&&t()})}function Ki(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function Sr(e,t,r){if((e.f&Ze)===0){if(e.f^=Ze,e.transitions!==null)for(const u of e.transitions)(u.is_global||r)&&t.push(u);for(var n=e.first;n!==null;){var i=n.next,a=(n.f&Ns)!==0||(n.f&pt)!==0;Sr(n,t,a?r:!1),n=i}}}function fs(e){Ai(e,!0)}function Ai(e,t){if((e.f&Ze)!==0){e.f^=Ze,(e.f&Se)===0&&(Ie(e,Fe),Pt(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Ns)!==0||(r.f&pt)!==0;Ai(r,i?t:!1),r=n}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Wt=!1;function zr(e){Wt=e}let At=!1;function Kr(e){At=e}let se=null,Xe=!1;function $e(e){se=e}let te=null;function Ne(e){te=e}let ut=null;function Pa(e){se!==null&&(ut===null?ut=[e]:ut.push(e))}let Te=null,Ke=0,Ge=null;function La(e){Ge=e}let Fi=1,vs=0,Et=vs;function Ar(e){Et=e}let yt=!1;function ji(){return++Fi}function _s(e){var t=e.f;if((t&Fe)!==0)return!0;if((t&mt)!==0){var r=e.deps,n=(t&Ue)!==0;if(r!==null){var i,a,u=(t&Cs)!==0,d=n&&te!==null&&!yt,m=r.length;if((u||d)&&(te===null||(te.f&Nt)===0)){var g=e,x=g.parent;for(i=0;i<m;i++)a=r[i],(u||!a?.reactions?.includes(g))&&(a.reactions??=[]).push(g);u&&(g.f^=Cs),d&&x!==null&&(x.f&Ue)===0&&(g.f^=Ue)}for(i=0;i<m;i++)if(a=r[i],_s(a)&&$i(a),a.wv>e.wv)return!0}(!n||te!==null&&!yt)&&Ie(e,Se)}return!1}function Bi(e,t,r=!0){var n=e.reactions;if(n!==null&&!ut?.includes(e))for(var i=0;i<n.length;i++){var a=n[i];(a.f&qe)!==0?Bi(a,t,!1):t===a&&(r?Ie(a,Fe):(a.f&Se)!==0&&Ie(a,mt),Pt(a))}}function Oi(e){var t=Te,r=Ke,n=Ge,i=se,a=yt,u=ut,d=me,m=Xe,g=Et,x=e.f;Te=null,Ke=0,Ge=null,yt=(x&Ue)!==0&&(Xe||!Wt||se===null),se=(x&(pt|qt))===0?e:null,ut=null,St(e.ctx),Xe=!1,Et=++vs,e.ac!==null&&(Bs(()=>{e.ac.abort(cs)}),e.ac=null);try{e.f|=rr;var R=e.fn,O=R(),q=e.deps;if(Te!==null){var B;if(Ts(e,Ke),q!==null&&Ke>0)for(q.length=Ke+Te.length,B=0;B<Te.length;B++)q[Ke+B]=Te[B];else e.deps=q=Te;if(!yt||(x&qe)!==0&&e.reactions!==null)for(B=Ke;B<q.length;B++)(q[B].reactions??=[]).push(e)}else q!==null&&Ke<q.length&&(Ts(e,Ke),q.length=Ke);if(zt()&&Ge!==null&&!Xe&&q!==null&&(e.f&(qe|mt|Fe))===0)for(B=0;B<Ge.length;B++)Bi(Ge[B],e);return i!==null&&i!==e&&(vs++,Ge!==null&&(n===null?n=Ge:n.push(...Ge))),(e.f&Tt)!==0&&(e.f^=Tt),O}catch(F){return wi(F)}finally{e.f^=rr,Te=t,Ke=r,Ge=n,se=i,yt=a,ut=u,St(d),Xe=m,Et=g}}function Va(e,t){let r=t.reactions;if(r!==null){var n=En.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&qe)!==0&&(Te===null||!Te.includes(t))&&(Ie(t,mt),(t.f&(Ue|Cs))===0&&(t.f^=Cs),Mi(t),Ts(t,0))}function Ts(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Va(e,r[n])}function Ut(e){var t=e.f;if((t&Nt)===0){Ie(e,Se);var r=te,n=Wt;te=e,Wt=!0;try{(t&Vt)!==0?Ea(e):qi(e),Vi(e);var i=Oi(e);e.teardown=typeof i=="function"?i:null,e.wv=Fi;var a;oi&&la&&(e.f&Fe)!==0&&e.deps}finally{Wt=n,te=r}}}async function qa(){await Promise.resolve(),yi()}function f$1(e){var t=e.f,r=(t&qe)!==0;if(se!==null&&!Xe){var n=te!==null&&(te.f&Nt)!==0;if(!n&&!ut?.includes(e)){var i=se.deps;if((se.f&rr)!==0)e.rv<vs&&(e.rv=vs,Te===null&&i!==null&&i[Ke]===e?Ke++:Te===null?Te=[e]:(!yt||!Te.includes(e))&&Te.push(e));else{(se.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[se]:a.includes(se)||a.push(se)}}}else if(r&&e.deps===null&&e.effects===null){var u=e,d=u.parent;d!==null&&(d.f&Ue)===0&&(u.f^=Ue)}if(At){if(kt.has(e))return kt.get(e);if(r){u=e;var m=u.v;return((u.f&Se)===0&&u.reactions!==null||Gi(u))&&(m=xr(u)),kt.set(u,m),m}}else r&&(u=e,_s(u)&&$i(u));if((e.f&Tt)!==0)throw e.v;return e.v}function Gi(e){if(e.v===we)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(kt.has(t)||(t.f&qe)!==0&&Gi(t))return!0;return!1}function b$1(e){var t=Xe;try{return Xe=!0,e()}finally{Xe=t}}const Na=-7169;function Ie(e,t){e.f=e.f&Na|t}function T(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(st in e)or(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&st in r&&or(r)}}}function or(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{or(e[n],t)}catch{}const r=mr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=li(r);for(let i in n){const a=n[i].get;if(a)try{a.call(e)}catch{}}}}}function za(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Ka=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Aa(e){return Ka.includes(e)}const Fa={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ja(e){return e=e.toLowerCase(),Fa[e]??e}const Ba=["touchstart","touchmove"];function Oa(e){return Ba.includes(e)}const Wi=new Set,lr=new Set;function Yi(e,t,r,n={}){function i(a){if(n.capture||ls.call(t,a),!a.cancelBubble)return Bs(()=>r?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?vt(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function pe(e,t,r,n,i){var a={capture:n,passive:i},u=Yi(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Os(()=>{t.removeEventListener(e,u,a)})}function Ga(e){for(var t=0;t<e.length;t++)Wi.add(e[t]);for(var r of lr)r(e)}let Fr=null;function ls(e){var t=this,r=t.ownerDocument,n=e.type,i=e.composedPath?.()||[],a=i[0]||e.target;Fr=e;var u=0,d=Fr===e&&e.__root;if(d){var m=i.indexOf(d);if(m!==-1&&(t===document||t===window)){e.__root=t;return}var g=i.indexOf(t);if(g===-1)return;m<=g&&(u=m)}if(a=i[u]||e.target,a!==t){Is(e,"currentTarget",{configurable:!0,get(){return a||r}});var x=se,R=te;$e(null),Ne(null);try{for(var O,q=[];a!==null;){var B=a.assignedSlot||a.parentNode||a.host||null;try{var F=a["__"+n];if(F!=null&&(!a.disabled||e.target===a))if(Zt(F)){var[D,...V]=F;D.apply(a,[e,...V])}else F.call(a,e)}catch(j){O?q.push(j):O=j}if(e.cancelBubble||B===t||B===null)break;a=B}if(O){for(let j of q)queueMicrotask(()=>{throw j});throw O}}finally{e.__root=t,delete e.currentTarget,$e(x),Ne(R)}}}function Rr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ht(e,t){var r=te;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function P(e,t){var r=(t&pi)!==0,n=(t&ta)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=Rr(a?e:"<!>"+e),r||(i=Ae(i)));var u=n||Di?document.importNode(i,!0):i.cloneNode(!0);if(r){var d=Ae(u),m=u.lastChild;Ht(d,m)}else Ht(u,u);return u}}function Wa(e,t,r="svg"){var n=!e.startsWith("<!>"),i=(t&pi)!==0,a=`<${r}>${n?e:"<!>"+e}</${r}>`,u;return()=>{if(!u){var d=Rr(a),m=Ae(d);if(i)for(u=document.createDocumentFragment();Ae(m);)u.appendChild(Ae(m));else u=Ae(m)}var g=u.cloneNode(!0);if(i){var x=Ae(g),R=g.lastChild;Ht(x,R)}else Ht(g,g);return g}}function ws(e,t){return Wa(e,t,"svg")}function ge(){var e=document.createDocumentFragment(),t=document.createComment(""),r=es();return e.append(t,r),Ht(t,r),e}function $(e,t){e!==null&&e.before(t)}function W(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Ya(e,t){return Ua(e,t)}const Ft=new Map;function Ua(e,{target:t,anchor:r,props:n={},events:i,context:a,intro:u=!0}){ka();var d=new Set,m=R=>{for(var O=0;O<R.length;O++){var q=R[O];if(!d.has(q)){d.add(q);var B=Oa(q);t.addEventListener(q,ls,{passive:B});var F=Ft.get(q);F===void 0?(document.addEventListener(q,ls,{passive:B}),Ft.set(q,1)):Ft.set(q,F+1)}}};m(pr(Wi)),lr.add(m);var g=void 0,x=Ca(()=>{var R=r??t.appendChild(es());return pa(R,{pending:()=>{}},O=>{if(a){ne({});var q=me;q.c=a}i&&(n.$$events=i),g=e(O,n)||{},a&&ae()}),()=>{for(var O of d){t.removeEventListener(O,ls);var q=Ft.get(O);--q===0?(document.removeEventListener(O,ls),Ft.delete(O)):Ft.set(O,q)}lr.delete(m),R!==r&&R.parentNode?.removeChild(R)}});return Ha.set(g,x),g}let Ha=new WeakMap;const Ws=0,xs=1,Ys=2;function Xa(e,t,r,n,i){var a=e,u=zt(),d=me,m=we,g,x,R,O=u?it(void 0):X(void 0,!1,!1),q=u?it(void 0):X(void 0,!1,!1),B=!1;function F(V,j){B=!0,j&&(Ne(D),$e(D),St(d));try{V===Ws&&r&&(g?fs(g):g=Me(()=>r(a))),V===xs&&n&&(x?fs(x):x=Me(()=>n(a,O))),V!==Ws&&g&&rt(g,()=>g=null),V!==xs&&x&&rt(x,()=>x=null),V!==Ys&&R&&rt(R,()=>R=null)}finally{j&&(St(null),$e(null),Ne(null),Gt||yi())}}var D=Kt(()=>{if(m!==(m=t())){if(Vn(m)){var V=m;B=!1,V.then(j=>{V===m&&(dt(O,j),F(xs,!0))},j=>{if(V===m)throw dt(q,j),F(Ys,!0),q.v}),vt(()=>{B||F(Ws,!0)})}else dt(O,m),F(xs,!1);return()=>m=we}})}function A(e,t,r=!1){var n=e,i=null,a=null,u=we,d=r?Ns:0,m=!1;const g=(q,B=!0)=>{m=!0,O(B,q)};var x=null;function R(){x!==null&&(x.lastChild.remove(),n.before(x),x=null);var q=u?i:a,B=u?a:i;q&&fs(q),B&&rt(B,()=>{u?a=null:i=null})}const O=(q,B)=>{if(u!==(u=q)){var F=kr(),D=n;if(F&&(x=document.createDocumentFragment(),x.append(D=es())),u?i??=B&&Me(()=>B(D)):a??=B&&Me(()=>B(D)),F){var V=ue,j=u?i:a,K=u?a:i;j&&V.skipped_effects.delete(j),K&&V.skipped_effects.add(K),V.add_callback(R)}else R()}};Kt(()=>{m=!1,t(g),m||O(null,null)},d)}function Za(e,t,r){var n=e,i=we,a,u,d=null,m=zt()?oa:br;function g(){a&&rt(a),d!==null&&(d.lastChild.remove(),n.before(d),d=null),a=u}Kt(()=>{if(m(i,i=t())){var x=n,R=kr();R&&(d=document.createDocumentFragment(),d.append(x=es())),u=Me(()=>r(x)),R?ue.add_callback(g):g()}})}function fe(e,t){return t}function Ja(e,t,r){for(var n=e.items,i=[],a=t.length,u=0;u<a;u++)Sr(t[u].e,i,!0);var d=a>0&&i.length===0&&r!==null;if(d){var m=r.parentNode;Sa(m),m.append(r),n.clear(),Qe(e,t[0].prev,t[a-1].next)}Ki(i,()=>{for(var g=0;g<a;g++){var x=t[g];d||(n.delete(x.k),Qe(e,x.prev,x.next)),Ee(x.e,!d)}})}function ve(e,t,r,n,i,a=null){var u=e,d={flags:t,items:new Map,first:null},m=(t&vi)!==0;if(m){var g=e;u=g.appendChild(es())}var x=null,R=!1,O=new Map,q=yr(()=>{var V=r();return Zt(V)?V:V==null?[]:pr(V)}),B,F;function D(){Qa(F,B,d,O,u,i,t,n,r),a!==null&&(B.length===0?x?fs(x):x=Me(()=>a(u)):x!==null&&rt(x,()=>{x=null}))}Kt(()=>{F??=te,B=f$1(q);var V=B.length;R&&V===0||(R=V===0,D(),f$1(q))})}function Qa(e,t,r,n,i,a,u,d,m){var g=(u&Hn)!==0,x=(u&(Ks|As))!==0,R=t.length,O=r.items,q=r.first,B=q,F,D=null,V,j=[],K=[],Q,z,G,re;if(g)for(re=0;re<R;re+=1)Q=t[re],z=d(Q,re),G=O.get(z),G!==void 0&&(G.a?.measure(),(V??=new Set).add(G));for(re=0;re<R;re+=1){if(Q=t[re],z=d(Q,re),G=O.get(z),G===void 0){var de=n.get(z);if(de!==void 0){n.delete(z),O.set(z,de);var Oe=D?D.next:B;Qe(r,D,de),Qe(r,de,Oe),Us(de,Oe,i),D=de}else{var Ve=B?B.e.nodes_start:i;D=Hi(Ve,r,D,D===null?r.first:D.next,Q,z,re,a,u,m)}O.set(z,D),j=[],K=[],B=D.next;continue}if(x&&Ui(G,Q,re,u),(G.e.f&Ze)!==0&&(fs(G.e),g&&(G.a?.unfix(),(V??=new Set).delete(G))),G!==B){if(F!==void 0&&F.has(G)){if(j.length<K.length){var wt=K[0],Mt;D=wt.prev;var mn=j[0],bn=j[j.length-1];for(Mt=0;Mt<j.length;Mt+=1)Us(j[Mt],wt,i);for(Mt=0;Mt<K.length;Mt+=1)F.delete(K[Mt]);Qe(r,mn.prev,bn.next),Qe(r,D,mn),Qe(r,bn,wt),B=wt,D=bn,re-=1,j=[],K=[]}else F.delete(G),Us(G,B,i),Qe(r,G.prev,G.next),Qe(r,G,D===null?r.first:D.next),Qe(r,D,G),D=G;continue}for(j=[],K=[];B!==null&&B.k!==z;)(B.e.f&Ze)===0&&(F??=new Set).add(B),K.push(B),B=B.next;if(B===null)continue;G=B}j.push(G),D=G,B=G.next}if(B!==null||F!==void 0){for(var $n=F===void 0?[]:pr(F);B!==null;)(B.e.f&Ze)===0&&$n.push(B),B=B.next;var Rn=$n.length;if(Rn>0){var wn=(u&vi)!==0&&R===0?i:null;if(g){for(re=0;re<Rn;re+=1)$n[re].a?.measure();for(re=0;re<Rn;re+=1)$n[re].a?.fix()}Ja(r,$n,wn)}}g&&vt(()=>{if(V!==void 0)for(G of V)G.a?.apply()}),e.first=r.first&&r.first.e,e.last=D&&D.e;for(var gn of n.values())Ee(gn.e);n.clear()}function Ui(e,t,r,n){(n&Ks)!==0&&dt(e.v,t),(n&As)!==0?dt(e.i,r):e.i=r}function Hi(e,t,r,n,i,a,u,d,m,g,x){var R=(m&Ks)!==0,O=(m&Xn)===0,q=R?O?X(i,!1,!1):it(i):i,B=(m&As)===0?u:it(u),F={i:B,v:q,k:a,a:null,e:null,prev:r,next:n};try{if(e===null){var D=document.createDocumentFragment();D.append(e=es())}return F.e=Me(()=>d(e,q,B,g),aa),F.e.prev=r&&r.e,F.e.next=n&&n.e,r===null?x||(t.first=F):(r.next=F,r.e.next=F.e),n!==null&&(n.prev=F,n.e.prev=F.e),F}finally{}}function Us(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,a=e.e.nodes_start;a!==null&&a!==n;){var u=gs(a);i.before(a),a=u}}function Qe(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ce(e,t,r=!1,n=!1,i=!1){var a=e,u="";H(()=>{var d=te;if(u!==(u=t()??"")&&(d.nodes_start!==null&&(Ni(d.nodes_start,d.nodes_end),d.nodes_start=d.nodes_end=null),u!=="")){var m=u+"";r?m=`<svg>${m}</svg>`:n&&(m=`<math>${m}</math>`);var g=Rr(m);if((r||n)&&(g=Ae(g)),Ht(Ae(g),g.lastChild),r||n)for(;Ae(g);)a.before(Ae(g));else a.before(g)}})}function Mr(e,t,r,n,i){var a=t.$$slots?.[r],u=!1;a===!0&&(a=t.children,u=!0),a===void 0?i!==null&&i(e):a(e,u?()=>n:n)}function oe(e,t){ts(()=>{var r=e.getRootNode(),n=r.host?r:r.head??r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){const i=document.createElement("style");i.id=t.hash,i.textContent=t.code,n.appendChild(i)}})}function eo(e,t,r){ts(()=>{var n=b$1(()=>t(e,r?.())||{});if(n?.destroy)return()=>n.destroy()})}function to(e,t){var r=void 0,n;Kt(()=>{r!==(r=t())&&(n&&(Ee(n),n=null),r&&(n=Me(()=>{ts(()=>r(e))})))})}function Xi(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Xi(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function so(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Xi(e))&&(n&&(n+=" "),n+=t);return n}function Es(e){return typeof e=="object"?so(e):e??""}const jr=[...` 	
\r\f\v\uFEFF`];function ro(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var a=i.length,u=0;(u=n.indexOf(i,u))>=0;){var d=u+a;(u===0||jr.includes(n[u-1]))&&(d===n.length||jr.includes(n[d]))?n=(u===0?"":n.substring(0,u))+n.substring(d+1):u=d}}return n===""?null:n}function Br(e,t=!1){var r=t?" !important;":";",n="";for(var i in e){var a=e[i];a!=null&&a!==""&&(n+=" "+i+": "+a+r)}return n}function Hs(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function io(e,t){if(t){var r="",n,i;if(Array.isArray(t)?(n=t[0],i=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,u=0,d=!1,m=[];n&&m.push(...Object.keys(n).map(Hs)),i&&m.push(...Object.keys(i).map(Hs));var g=0,x=-1;const F=e.length;for(var R=0;R<F;R++){var O=e[R];if(d?O==="/"&&e[R-1]==="*"&&(d=!1):a?a===O&&(a=!1):O==="/"&&e[R+1]==="*"?d=!0:O==='"'||O==="'"?a=O:O==="("?u++:O===")"&&u--,!d&&a===!1&&u===0){if(O===":"&&x===-1)x=R;else if(O===";"||R===F-1){if(x!==-1){var q=Hs(e.substring(g,x).trim());if(!m.includes(q)){O!==";"&&R++;var B=e.substring(g,R).trim();r+=" "+B+";"}}g=R+1,x=-1}}}}return n&&(r+=Br(n)),i&&(r+=Br(i,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function xe(e,t,r,n,i,a){var u=e.__className;if(u!==r||u===void 0){var d=ro(r,n,a);d==null?e.removeAttribute("class"):t?e.className=d:e.setAttribute("class",d),e.__className=r}else if(a&&i!==a)for(var m in a){var g=!!a[m];(i==null||g!==!!i[m])&&e.classList.toggle(m,g)}return a}function Xs(e,t={},r,n){for(var i in r){var a=r[i];t[i]!==a&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,n))}}function ke(e,t,r,n){var i=e.__style;if(i!==t){var a=io(t,n);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}else n&&(Array.isArray(n)?(Xs(e,r?.[0],n[0]),Xs(e,r?.[1],n[1],"important")):Xs(e,r,n));return n}function cr(e,t,r=!1){if(e.multiple){if(t==null)return;if(!Zt(t))return ia();for(var n of e.options)n.selected=t.includes(Or(n));return}for(n of e.options){var i=Or(n);if(xa(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function no(e){var t=new MutationObserver(()=>{cr(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Os(()=>{t.disconnect()})}function Or(e){return"__value"in e?e.__value:e.value}const Bt=Symbol("class"),as=Symbol("style"),Zi=Symbol("is custom element"),Ji=Symbol("is html");function dr(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Ps(e,t,r,n){var i=Qi(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[zn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&en(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ao(e,t,r,n,i=!1,a=!1){var u=Qi(e),d=u[Zi],m=!u[Ji],g=t||{},x=e.tagName==="OPTION";for(var R in t)R in r||(r[R]=null);r.class?r.class=Es(r.class):(n||r[Bt])&&(r.class=null),r[as]&&(r.style??=null);var O=en(e);for(const K in r){let Q=r[K];if(x&&K==="value"&&Q==null){e.value=e.__value="",g[K]=Q;continue}if(K==="class"){var q=e.namespaceURI==="http://www.w3.org/1999/xhtml";xe(e,q,Q,n,t?.[Bt],r[Bt]),g[K]=Q,g[Bt]=r[Bt];continue}if(K==="style"){ke(e,Q,t?.[as],r[as]),g[K]=Q,g[as]=r[as];continue}var B=g[K];if(!(Q===B&&!(Q===void 0&&e.hasAttribute(K)))){g[K]=Q;var F=K[0]+K[1];if(F!=="$$")if(F==="on"){const z={},G="$$"+K;let re=K.slice(2);var D=Aa(re);if(za(re)&&(re=re.slice(0,-7),z.capture=!0),!D&&B){if(Q!=null)continue;e.removeEventListener(re,g[G],z),g[G]=null}if(Q!=null)if(D)e[`__${re}`]=Q,Ga([re]);else{let de=function(Oe){g[K].call(this,Oe)};g[G]=Yi(re,e,de,z)}else D&&(e[`__${re}`]=void 0)}else if(K==="style")Ps(e,K,Q);else if(K==="autofocus")Ra(e,!!Q);else if(!d&&(K==="__value"||K==="value"&&Q!=null))e.value=e.__value=Q;else if(K==="selected"&&x)dr(e,Q);else{var V=K;m||(V=ja(V));var j=V==="defaultValue"||V==="defaultChecked";if(Q==null&&!d&&!j)if(u[K]=null,V==="value"||V==="checked"){let z=e;const G=t===void 0;if(V==="value"){let re=z.defaultValue;z.removeAttribute(V),z.defaultValue=re,z.value=z.__value=G?re:null}else{let re=z.defaultChecked;z.removeAttribute(V),z.defaultChecked=re,z.checked=G?re:!1}}else e.removeAttribute(K);else j||O.includes(V)&&(d||typeof Q!="string")?(e[V]=Q,V in u&&(u[V]=we)):typeof Q!="function"&&Ps(e,V,Q)}}}return g}function ur(e,t,r=[],n=[],i,a=!1,u=!1){Si(r,n,d=>{var m=void 0,g={},x=e.nodeName==="SELECT",R=!1;if(Kt(()=>{var q=t(...d.map(f$1)),B=ao(e,m,q,i,a,u);R&&x&&"value"in q&&cr(e,q.value);for(let D of Object.getOwnPropertySymbols(g))q[D]||Ee(g[D]);for(let D of Object.getOwnPropertySymbols(q)){var F=q[D];D.description===ra&&(!m||F!==m[D])&&(g[D]&&Ee(g[D]),g[D]=Me(()=>to(e,()=>F))),B[D]=F}m=B}),x){var O=e;ts(()=>{cr(O,m.value,!0),no(O)})}R=!0})}function Qi(e){return e.__attributes??={[Zi]:e.nodeName.includes("-"),[Ji]:e.namespaceURI===sa}}var Gr=new Map;function en(e){var t=e.getAttribute("is")||e.nodeName,r=Gr.get(t);if(r)return r;Gr.set(t,r=[]);for(var n,i=e,a=Element.prototype;a!==i;){n=li(i);for(var u in n)n[u].set&&r.push(u);i=mr(i)}return r}function oo(e,t,r=t){var n=new WeakSet;Ei(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Zs(e)?Js(a):a,r(a),ue!==null&&n.add(ue),await qa(),a!==(a=t())){var u=e.selectionStart,d=e.selectionEnd;e.value=a??"",d!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(d,e.value.length))}}),b$1(t)==null&&e.value&&(r(Zs(e)?Js(e.value):e.value),ue!==null&&n.add(ue)),ss(()=>{var i=t();if(e===document.activeElement){var a=Rs??ue;if(n.has(a))return}Zs(e)&&i===Js(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Wr(e,t,r=t){Ei(e,"change",n=>{var i=n?e.defaultChecked:e.checked;r(i)}),b$1(t)==null&&r(e.checked),ss(()=>{var n=t();e.checked=!!n})}function Zs(e){var t=e.type;return t==="number"||t==="range"}function Js(e){return e===""?null:+e}function Yr(e,t){return e===t||e?.[st]===t}function hs(e={},t,r,n){return ts(()=>{var i,a;return ss(()=>{i=a,a=[],b$1(()=>{e!==r(...a)&&(t(e,...a),i&&Yr(r(...i),e)&&t(null,...i))})}),()=>{vt(()=>{a&&Yr(r(...a),e)&&t(null,...a)})}}),e}function tn(e){return function(...t){var r=t[0];return r.preventDefault(),e?.apply(this,t)}}function le(e=!1){const t=me,r=t.l.u;if(!r)return;let n=()=>T(t.s);if(e){let i=0,a={};const u=js(()=>{let d=!1;const m=t.s;for(const g in m)m[g]!==a[g]&&(a[g]=m[g],d=!0);return d&&i++,i});n=()=>f$1(u)}r.b.length&&Da(()=>{Ur(t,n),Ds(r.b)}),ar(()=>{const i=b$1(()=>r.m.map(qn));return()=>{for(const a of i)typeof a=="function"&&a()}}),r.a.length&&ar(()=>{Ur(t,n),Ds(r.a)})}function Ur(e,t){if(e.l.s)for(const r of e.l.s)f$1(r);t()}function We(e,t){var r=e.$$events?.[t.type],n=Zt(r)?r.slice():r==null?[]:[r];for(var i of n)i.call(this,t)}function $r(e,t,r){if(e==null)return t(void 0),r&&r(void 0),tt;const n=b$1(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const jt=[];function lo(e,t){return{subscribe:he(e,t).subscribe}}function he(e,t=tt){let r=null;const n=new Set;function i(d){if(br(e,d)&&(e=d,r)){const m=!jt.length;for(const g of n)g[1](),jt.push(g,e);if(m){for(let g=0;g<jt.length;g+=2)jt[g][0](jt[g+1]);jt.length=0}}}function a(d){i(d(e))}function u(d,m=tt){const g=[d,m];return n.add(g),n.size===1&&(r=t(i,a)||tt),d(e),()=>{n.delete(g),n.size===0&&r&&(r(),r=null)}}return{set:i,update:a,subscribe:u}}function ht(e,t,r){const n=!Array.isArray(e),i=n?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return lo(r,(u,d)=>{let m=!1;const g=[];let x=0,R=tt;const O=()=>{if(x)return;R();const B=t(n?g[0]:g,u,d);a?u(B):R=typeof B=="function"?B:tt},q=i.map((B,F)=>$r(B,D=>{g[F]=D,x&=~(1<<F),m&&O()},()=>{x|=1<<F}));return m=!0,O(),function(){Ds(q),R(),m=!1}})}function ft(e){let t;return $r(e,r=>t=r)(),t}let ks=!1,fr=Symbol();function be(e,t,r){const n=r[t]??={store:null,source:X(void 0),unsubscribe:tt};if(n.store!==e&&!(fr in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=tt;else{var i=!0;n.unsubscribe=$r(e,a=>{i?n.source.v=a:N(n.source,a)}),i=!1}return e&&fr in r?ft(e):f$1(n.source)}function Xt(e,t,r){let n=r[t];return n&&n.store!==e&&(n.unsubscribe(),n.unsubscribe=tt),e}function Qs(e,t){return e.set(t),t}function He(){const e={};function t(){Os(()=>{for(var r in e)e[r].unsubscribe();Is(e,fr,{enumerable:!1,value:!0})})}return[e,t]}function co(e){var t=ks;try{return ks=!1,[e(),ks]}finally{ks=t}}const uo={get(e,t){if(!e.exclude.includes(t))return f$1(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,r){if(!(t in e.special)){var n=te;try{Ne(e.parent_effect),e.special[t]=Y({get[t](){return e.props[t]}},t,hi)}finally{Ne(n)}}return e.special[t](r),Vr(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Vr(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Ls(e,t){return new Proxy({props:e,exclude:t,special:{},version:it(0),parent_effect:te},uo)}const fo={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(ns(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let i=e.props[n];ns(i)&&(i=i());const a=xt(i,t);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(ns(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const i=xt(n,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===st||t===ui)return!1;for(let r of e.props)if(ns(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props)if(ns(r)&&(r=r()),!!r){for(const n in r)t.includes(n)||t.push(n);for(const n of Object.getOwnPropertySymbols(r))t.includes(n)||t.push(n)}return t}};function vo(...e){return new Proxy({props:e},fo)}function Y(e,t,r,n){var i=!Qt||(r&Jn)!==0,a=(r&Qn)!==0,u=(r&ea)!==0,d=n,m=!0,g=()=>(m&&(m=!1,d=u?b$1(n):n),d),x;if(a){var R=st in e||ui in e;x=xt(e,t)?.set??(R&&t in e?K=>e[t]=K:void 0)}var O,q=!1;a?[O,q]=co(()=>e[t]):O=e[t],O===void 0&&n!==void 0&&(O=g(),x&&(i&&On(),x(O)));var B;if(i?B=()=>{var K=e[t];return K===void 0?g():(m=!0,K)}:B=()=>{var K=e[t];return K!==void 0&&(d=void 0),K===void 0?d:K},i&&(r&hi)===0)return B;if(x){var F=e.$$legacy;return(function(K,Q){return arguments.length>0?((!i||!Q||F||q)&&x(Q?B():K),K):B()})}var D=!1,V=((r&Zn)!==0?js:yr)(()=>(D=!1,B()));a&&f$1(V);var j=te;return(function(K,Q){if(arguments.length>0){const z=Q?f$1(V):i&&a?Ot(K):K;return N(V,z),D=!0,d!==void 0&&(d=z),K}return At&&D||(j.f&Nt)!==0?V.v:f$1(V)})}function Gs(e){me===null&&fi(),Qt&&me.l!==null?po(me).m.push(e):ar(()=>{const t=b$1(e);if(typeof t=="function")return t})}function ho(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function Rt(){const e=me;return e===null&&fi(),(t,r,n)=>{const i=e.s.$$events?.[t];if(i){const a=Zt(i)?i.slice():[i],u=ho(t,r,n);for(const d of a)d.call(e.x,u);return!u.defaultPrevented}return!0}}function po(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}class mo{constructor(t){this.config=t,this.checkDataCoordinator=new CheckDataCoordinator(t.check.bundle.model),t.comparison&&(this.comparisonDataCoordinator=new ComparisonDataCoordinator(t.comparison.bundleL.model,t.comparison.bundleR.model))}}async function go(e){const t=await createConfig(e);return new mo(t)}const _o="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(_o);ca();function wo(e){const t=r=>{e&&!e.contains(r.target)&&!r.defaultPrevented&&e.dispatchEvent(new CustomEvent("clickout"))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}var bo=P('<hr class="svelte-1qkoku4"/>'),yo=P('<li class="svelte-1qkoku4"><button><i></i> </button></li>'),xo=P('<nav class="svelte-1qkoku4"><div class="navbar svelte-1qkoku4" id="navbar"><ul class="svelte-1qkoku4"></ul></div></nav>');const ko={hash:"svelte-1qkoku4",code:".svelte-1qkoku4 {padding:0;margin:0;}nav.svelte-1qkoku4 {z-index:200;}.navbar.svelte-1qkoku4 {display:inline-flex;flex-direction:column;width:170px;background-color:#fff;border-radius:0.4rem;box-shadow:0 0.2rem 0.4rem rgba(0, 0, 0, 0.8);overflow:hidden;}.navbar.svelte-1qkoku4 ul:where(.svelte-1qkoku4) {margin:6px;}ul.svelte-1qkoku4 li:where(.svelte-1qkoku4) {display:block;list-style-type:none;width:1fr;}ul.svelte-1qkoku4 li:where(.svelte-1qkoku4) button:where(.svelte-1qkoku4) {font-family:Roboto, sans-serif;font-weight:700;font-size:1rem;color:#222;width:100%;height:30px;text-align:left;border:0px;background-color:#fff;}ul.svelte-1qkoku4 li:where(.svelte-1qkoku4) button.disabled:where(.svelte-1qkoku4) {color:#888;pointer-events:none;}ul.svelte-1qkoku4 li:where(.svelte-1qkoku4) button:where(.svelte-1qkoku4):not(.disabled):hover {color:#000;text-align:left;border-radius:0.3rem;background-color:#eee;}ul.svelte-1qkoku4 li:where(.svelte-1qkoku4) button:where(.svelte-1qkoku4) i:where(.svelte-1qkoku4) {padding:0px 15px 0px 10px;}hr.svelte-1qkoku4 {border:none;border-bottom:1px solid #ccc;margin:5px 0px;}"};function So(e,t){ne(t,!1),oe(e,ko);let r=Y(t,"items",8),n=Y(t,"parentElem",8),i=Y(t,"initialEvent",8);const a=Rt();let u=X({x:0,y:0}),d=X(!1);function m(O){a("item-selected",O)}Pe(()=>(T(i()),T(n())),()=>{if(i()){const O=n().getBoundingClientRect();N(u,{x:i().clientX-O.left,y:i().clientY-O.top}),N(d,!0)}else N(d,!1)}),je(),le();var g=ge(),x=J(g);{var R=O=>{var q=xo(),B=_$1(q),F=_$1(B);ve(F,5,r,fe,(D,V)=>{var j=ge(),K=J(j);{var Q=G=>{var re=bo();$(G,re)},z=G=>{var re=yo(),de=_$1(re);let Oe;var Ve=_$1(de),wt=E(Ve,1,!0);H(Mt=>{Oe=xe(de,1,"svelte-1qkoku4",null,Oe,Mt),xe(Ve,1,Es((f$1(V),b$1(()=>f$1(V).iconClass))),"svelte-1qkoku4"),W(wt,(f$1(V),b$1(()=>f$1(V).displayText)))},[()=>({disabled:f$1(V).disabled===!0})]),pe("click",de,()=>m(f$1(V).key)),$(G,re)};A(K,G=>{f$1(V),b$1(()=>f$1(V).key=="hr")?G(Q):G(z,!1)})}$(D,j)}),eo(q,D=>wo?.(D)),ts(()=>pe("clickout",q,function(D){We.call(this,t,D)})),H(()=>ke(q,`position: absolute; top:${f$1(u),b$1(()=>f$1(u).y)??""}px; left:${f$1(u),b$1(()=>f$1(u).x)??""}px`)),$(O,q)};A(x,O=>{f$1(d)&&O(R)})}$(e,g),ae()}var Ro=P('<div class="lazy-container svelte-tqw4wl"><!></div>');const Mo={hash:"svelte-tqw4wl",code:".lazy-container.svelte-tqw4wl {position:relative;display:flex;height:100%;}"};function Ir(e,t){ne(t,!1),oe(e,Mo);let r=Y(t,"visible",12,!1),n=Y(t,"syncInit",8,!1),i=X();Gs(()=>{const m=f$1(i).closest(".scroll-container");if(m===void 0)throw new Error("Lazy component requires an ancestor marked with the 'scroll-container' class");function g(){const R=m.getBoundingClientRect(),O=f$1(i).getBoundingClientRect();return O.bottom>R.top&&O.top<R.bottom&&O.right>R.left&&O.left<R.right}let x=new IntersectionObserver(R=>{const O=R[0].isIntersecting;O&&!r()?r(!0):!O&&r()&&r(!1)},{root:m,rootMargin:"100% 200% 200% 100%"});return x.observe(f$1(i)),n()&&g()&&r(!0),()=>{r(!1),x.disconnect()}}),le();var a=Ro(),u=_$1(a);{var d=m=>{var g=ge(),x=J(g);Mr(x,t,"default",{},null),$(m,g)};A(u,m=>{r()&&m(d)})}hs(a,m=>N(i,m),()=>f$1(i)),$(e,a),ae()}var $o=P('<div class="graph-inner-container svelte-1nn7ai2"><canvas></canvas></div>');const Io={hash:"svelte-1nn7ai2",code:".graph-inner-container.svelte-1nn7ai2 {position:absolute;top:0;left:0;bottom:0;right:0;}"};function Do(e,t){ne(t,!1),oe(e,Io);let r=Y(t,"config",8),n=Y(t,"viewModel",8),i=`width: ${r().width}rem; height: 20rem;`,a=X(),u;Gs(()=>(u=n().createGraphView(f$1(a)),()=>{u?.destroy(),u=void 0})),le();var d=$o(),m=_$1(d);hs(m,g=>N(a,g),()=>f$1(a)),H(()=>ke(d,i)),$(e,d),ae()}var Co=P('<div class="legend-item svelte-19bjhkv"> </div>'),To=P('<div class="legend-container svelte-19bjhkv"></div>');const Eo={hash:"svelte-19bjhkv",code:'.legend-container.svelte-19bjhkv {display:flex;flex-direction:row;flex-wrap:wrap;flex:0 0 3.5rem;justify-content:center;align-items:center;width:100%;margin-top:-0.45rem;font-family:"Roboto Condensed";font-weight:700;font-size:1rem;line-height:1.2;}.legend-item.svelte-19bjhkv {margin:0 0.2rem 0.1rem 0.2rem;padding:0.25rem 0.6rem 0.2rem 0.6rem;color:#fff;text-align:center;}'};function Po(e,t){ne(t,!1),oe(e,Eo);let r=Y(t,"graphSpec",8);le();var n=To();ve(n,5,()=>(T(r()),b$1(()=>r().legendItems)),fe,(i,a)=>{var u=Co(),d=_$1(u);H(m=>{ke(u,`background-color: ${f$1(a),b$1(()=>f$1(a).color)??""};`),W(d,m)},[()=>(f$1(a),b$1(()=>f$1(a).label.toUpperCase()))]),$(i,u)}),$(e,n),ae()}var Lo=P('<div class="link-row svelte-tkhsbk"> </div>'),Vo=P('<div class="link-container svelte-tkhsbk"></div>'),qo=P('<div class="graph-container svelte-tkhsbk"><!></div> <!> <!>',1),No=P('<div class="message not-shown svelte-tkhsbk"><span>Graph not shown: scenario is invalid in&nbsp;</span> <span> </span></div>'),zo=P('<div class="graph-and-info svelte-tkhsbk"><div><!></div> <!></div>'),Ko=P('<div class="message not-included svelte-tkhsbk"><span>Graph not included in&nbsp;</span> <span> </span></div>'),Ao=P('<div class="context-graph-container svelte-tkhsbk"><!></div>');const Fo={hash:"svelte-tkhsbk",code:'.context-graph-container.svelte-tkhsbk {display:inline-flex;flex-direction:column;flex:0 0 38rem;background-color:#fff;}.graph-and-info.svelte-tkhsbk {display:flex;flex-direction:column;}.graph-title.svelte-tkhsbk {margin:0.5rem 0;padding:0 0.8rem;font-family:"Roboto Condensed";font-size:1.55rem;}.graph-container.svelte-tkhsbk {display:block;position:relative;width:38rem;height:20rem;}.message.svelte-tkhsbk {display:flex;flex:1;min-height:20rem;align-items:center;justify-content:center;color:#aaa;border:solid 1px #fff;}.message.not-included.svelte-tkhsbk {background-color:#555;}.link-container.svelte-tkhsbk {display:flex;flex-direction:column;align-items:flex-start;margin-bottom:0.4rem;}.link-row.svelte-tkhsbk {height:1.2rem;margin:0 0.8rem;color:#999;cursor:pointer;}.link-row.svelte-tkhsbk:hover {color:#000;}'};function Vs(e,t){ne(t,!1),oe(e,Fo);const r=()=>be(f$1(u),"$content",n),[n,i]=He();let a=Y(t,"viewModel",8),u=X(a().content),d=X(!1);const m={width:38};let g=X(f$1(d)),x=X();function R(D){switch(D.kind){case"url":window.open(D.content,"_blank");break;case"copy":copyTextToClipboard(D.content);break;default:ms$1(D.kind)}}Pe(()=>(f$1(d),f$1(g),T(a()),f$1(x)),()=>{(f$1(d)!==f$1(g)||a().requestKey!==f$1(x)?.requestKey)&&(f$1(x)?.clearData(),N(g,f$1(d)),N(x,a()),Xt(N(u,a().content),"$content",n),f$1(d)&&a().requestData())}),je(),le();var O=Ao(),q=_$1(O);{var B=D=>{var V=zo(),j=_$1(V),K=_$1(j);ce(K,()=>(T(a()),b$1(()=>a().graphSpec.title)));var Q=E(j,2);{var z=re=>{var de=qo(),Oe=J(de),Ve=_$1(Oe);Ir(Ve,{get visible(){return f$1(d)},set visible(bn){N(d,bn)},children:(bn,$n)=>{var Rn=ge(),wn=J(Rn);{var gn=Sn=>{Do(Sn,{get viewModel(){return r(),b$1(()=>r().graphData)},get config(){return m}})};A(wn,Sn=>{r(),b$1(()=>r()&&r().graphData)&&Sn(gn)})}$(bn,Rn)},$$slots:{default:!0},$$legacy:!0});var wt=E(Oe,2);Po(wt,{get graphSpec(){return T(a()),b$1(()=>a().graphSpec)}});var Mt=E(wt,2);{var mn=bn=>{var $n=Vo();ve($n,5,()=>(T(a()),b$1(()=>a().linkItems)),fe,(Rn,wn)=>{var gn=Lo(),Sn=_$1(gn);H(()=>W(Sn,(f$1(wn),b$1(()=>f$1(wn).text)))),pe("click",gn,()=>R(f$1(wn))),$(Rn,gn)}),$(bn,$n)};A(Mt,bn=>{T(a()),b$1(()=>a().linkItems)&&bn(mn)})}$(re,de)},G=re=>{var de=No(),Oe=E(_$1(de),2),Ve=_$1(Oe);H(()=>{xe(Oe,1,Es((T(a()),b$1(()=>a().datasetClass))),"svelte-tkhsbk"),W(Ve,(T(a()),b$1(()=>a().bundleName)))}),$(re,de)};A(Q,re=>{T(a()),b$1(()=>a().requestKey)?re(z):re(G,!1)})}H(()=>xe(j,1,(T(a()),b$1(()=>`graph-title ${a().datasetClass}`)),"svelte-tkhsbk")),$(D,V)},F=D=>{var V=Ko(),j=E(_$1(V),2),K=_$1(j);H(()=>{xe(j,1,Es((T(a()),b$1(()=>a().datasetClass))),"svelte-tkhsbk"),W(K,(T(a()),b$1(()=>a().bundleName)))}),$(D,V)};A(q,D=>{T(a()),b$1(()=>a().graphSpec)?D(B):D(F,!1)})}$(e,O),ae(),i()}let jo=1;class sn{constructor(t,r,n,i,a){this.dataCoordinator=r,this.bundle=n,this.scenario=i,this.graphSpec=a,this.dataRequested=!1,this.dataLoaded=!1;const u=n==="right"?t.bundleR:t.bundleL;if(this.bundleName=u.name,this.datasetClass=`dataset-color-${n==="right"?"1":"0"}`,a){const d=n==="right"?i.specR:i.specL;d!==void 0?(this.linkItems=u.model.getGraphLinksForScenario(d,a.id),this.requestKey=`context-graph::${jo++}::${n}::${a.id}::${i.key}`):this.linkItems=[],this.writableContent=he(void 0),this.content=this.writableContent}}requestData(){if(this.requestKey===void 0){this.dataRequested=!0,this.dataLoaded=!0;return}if(this.dataRequested)return;this.dataRequested=!0;const t=this.bundle==="left"?this.scenario.specL:void 0,r=this.bundle==="right"?this.scenario.specR:void 0;this.dataCoordinator.requestGraphData(this.requestKey,t,r,this.graphSpec.id,(n,i)=>{if(!this.dataRequested)return;const a=r?i:n;this.writableContent.set({graphData:a}),this.dataLoaded=!0})}clearData(){this.dataRequested&&(this.writableContent.set(void 0),this.dataLoaded||this.dataCoordinator.cancelRequest(this.requestKey),this.dataRequested=!1,this.dataLoaded=!1)}}function Dr(e,t){if(e===0)return 0;for(let r=0;r<t.length;r++)if(e<t[r])return r+1;return t.length+1}function Hr(e){return e===void 0?!0:e.some((t,r)=>r>0&&t>0)}function Lt(e,t){return`<span class="dataset-color-${t==="left"?0:1}">${e}</span>`}function Ms(e){if(!e)return[];const t=-Number.MAX_VALUE/2,r=Number.MAX_VALUE/2,n=[];for(const[i,a]of e.entries())a<t||a>r||n.push({x:i,y:a});return n}let Bo=1;class rn{constructor(t,r,n,i,a,u,d,m){this.comparisonConfig=t,this.dataCoordinator=r,this.kind=n,this.title=i,this.subtitle=a,this.scenario=u,this.datasetKey=d,this.pinnedItemKey=m,this.dataRequested=!1,this.dataLoaded=!1,this.requestKey=`detail-box::${Bo++}::${u.key}::${d}`,this.writableContent=he(void 0),this.content=this.writableContent,this.writableYRange=he(void 0),this.yRange=this.writableYRange}requestData(){if(this.dataRequested)return;this.dataRequested=!0;const t=[this.datasetKey],r=this.comparisonConfig.datasets.getReferencePlotsForDataset(this.datasetKey,this.scenario);t.push(...r.map(n=>n.datasetKey)),this.dataCoordinator.requestDatasetMaps(this.requestKey,this.scenario.specL,this.scenario.specR,t,(n,i)=>{if(!this.dataRequested)return;const a=Oo(this.scenario.key,this.datasetKey,n,i),u=de=>{const Oe=this.comparisonConfig,Ve=de==="left"?Oe.bundleL.name:Oe.bundleR.name;return`Data only defined in ${Lt(Ve,de)}`},d=a.diffReport;let m,g;switch(d.validity){case"both":m=Dr(d.maxDiff,this.comparisonConfig.thresholds),d.maxDiff===0?g="No differences":g=void 0;break;case"left-only":m=void 0,g=u("left");break;case"right-only":m=void 0,g=u("right");break;default:m=void 0,g="Dataset not defined for this scenario";break}const x=this.dataCoordinator.bundleModelL.modelSpec,R=this.dataCoordinator.bundleModelR.modelSpec,O=x.outputVars.get(this.datasetKey),q=R.outputVars.get(this.datasetKey)||O;let B,F;q.sourceName===void 0&&(x.startTime!==void 0&&R.startTime!==void 0&&(B=Math.min(x.startTime,R.startTime)),x.endTime!==void 0&&R.endTime!==void 0&&(F=Math.max(x.endTime,R.endTime)));const D=Ms(n?.get(this.datasetKey)),V=Ms(i?.get(this.datasetKey)),j=[];function K(de,Oe,Ve,wt){j.push({points:de,color:Oe,style:Ve||"normal",lineWidth:wt})}K(V,"deepskyblue"),K(D,"crimson");for(const de of r){const Oe=Ms(i?.get(de.datasetKey));K(Oe,de.color,de.style,de.lineWidth)}let Q=Number.POSITIVE_INFINITY,z=Number.NEGATIVE_INFINITY;function G(de){for(const Oe of de)Oe.y<Q&&(Q=Oe.y),Oe.y>z&&(z=Oe.y)}for(const de of j)G(de.points);this.writableYRange.set({min:Q,max:z});const re={key:this.requestKey,plots:j,xMin:B,xMax:F,yMin:this.activeYMin,yMax:this.activeYMax};this.localContent={bucketClass:`bucket-border-${m!==void 0?m:"undefined"}`,message:g,diffReport:d,comparisonGraphViewModel:re},this.writableContent.set(this.localContent),this.dataLoaded=!0})}updateYAxisRange(t){if(this.activeYMin=t?.min,this.activeYMax=t?.max,this.localContent){const r=this.localContent.comparisonGraphViewModel;r.yMin=this.activeYMin,r.yMax=this.activeYMax,r.onUpdated?.()}}clearData(){this.dataRequested&&(this.localContent=void 0,this.writableContent.set(void 0),this.dataLoaded||this.dataCoordinator.cancelRequest(this.requestKey),this.dataRequested=!1,this.dataLoaded=!1)}}function Oo(e,t,r,n){const i=r?.get(t),a=n?.get(t),u=diffDatasets(i,a);return{scenarioKey:e,datasetKey:t,diffReport:u}}function ps(e,t,r,n,i,a,u){const d=[];for(const x of u){if(x===void 0){d.push(void 0);continue}let R,O;switch(n){case"scenarios":R="scenario",O=x.scenario.key;break;case"datasets":R="dataset",O=x.testSummary.d;break;case"freeform":R="freeform",O=`${x.scenario.key}::${x.testSummary.d}`;break;default:ms$1(n)}d.push(new rn(e,t,R,x.title,x.subtitle,x.scenario,x.testSummary.d,O))}const m=ht(d.map(x=>x.yRange),x=>{let R=Number.POSITIVE_INFINITY,O=Number.NEGATIVE_INFINITY;for(const q of x)q?.min<R&&(R=q.min),q?.max>O&&(O=q.max);return{min:R,max:O}});ht([r.consistentYRange,m],([x,R])=>x?R:void 0).subscribe(x=>{for(const R of d)R.updateYAxisRange(x)});const g=`row_${d.map(x=>x.pinnedItemKey).join("_")}`;return{kind:n,title:i,subtitle:a,items:u,boxes:d,pinnedItemKey:g}}function Go(e){const t=e.comparisonConfig,r=e.dataCoordinator,n=r.bundleModelL,i=r.bundleModelR;function a(m,g,x){return new sn(t,r,x,m,g)}const u=t.datasets.getContextGraphIdsForDataset(e.datasetKey,e.scenario),d=[];for(const m of u){const g=n.modelSpec.graphSpecs?.find(R=>R.id===m),x=i.modelSpec.graphSpecs?.find(R=>R.id===m);d.push({graphL:a(e.scenario,g,"left"),graphR:a(e.scenario,x,"right")})}return d}const Xr="#444",Ss="Roboto Condensed",Zr=14,Jr="#777",Qr="rgba(0, 0, 0, 0)",Wo={beforeDatasetsDraw:e=>{const t=e.ctx;t.save();const r=e.data.datasets;for(let n=0;n<r.length;n++){const i=r[n];if(i.data.length!==1)continue;const a=e.getDatasetMeta(n).data[0];let u;if(i.fill==="+1"){if(n+1>=r.length)break;const d=e.getDatasetMeta(n+1).data[0];u={x:d._view.x,y:d._view.y}}else if(i.fill==="start")u={x:a._view.x,y:e.chartArea.bottom};else if(i.fill==="end")u={x:a._view.x,y:e.chartArea.top};else return;t.beginPath(),t.moveTo(a._view.x,a._view.y),t.lineTo(u.x,u.y),t.closePath(),t.strokeStyle=i.backgroundColor,t.lineWidth=4,t.stroke()}t.restore()}};ChartExports.Chart.pluginService.register(Wo);class Yo{constructor(t,r){this.canvas=t,this.viewModel=r,this.chart=Uo(t,r)}update(){const t=this.chart;function r(n,i){const a=t.data.datasets.find(u=>u.label===n);if(a){const u=a.data[0];u.y=i}}t&&(r("hidden-y-min",this.viewModel.yMin),r("hidden-y-max",this.viewModel.yMax),t.update())}destroy(){this.chart?.destroy(),this.chart=void 0}}function Uo(e,t){const r=[],n=(x,R,O)=>{r.push({label:x,type:"scatter",fill:!1,borderColor:Qr,backgroundColor:Qr,pointHitRadius:0,pointHoverRadius:0,pointRadius:0,data:[{x:R,y:O}]})};let i=Number.NEGATIVE_INFINITY;function a(x){let R,O=!1;switch(x.style){case"dashed":R=[8,2];break;case"fill-to-next":O="+1";break;case"fill-above":O="end";break;case"fill-below":O="start";break}let q;O!==!1&&(q=`rgba(0, 128, 0, ${x.points.length>1?.1:.3})`);let B=0,F;x.points.length===1&&x.style!=="dashed"&&(B=5,F=x.color);for(const D of x.points)D.x>i&&(i=D.x);r.push({data:x.points,borderColor:x.color,borderWidth:x.lineWidth!==void 0?x.lineWidth:3,borderDash:R,backgroundColor:q,fill:O,pointRadius:B,pointBackgroundColor:F,pointBorderWidth:0,pointBorderColor:"transparent",lineTension:0})}for(const x of t.plots)a(x);const u=t.xMin,d=t.xMax,m=u===1990,g=d!==void 0?d:i;return n("hidden-y-min",g,t.yMin),n("hidden-y-max",g,t.yMax),new ChartExports.Chart(e,{type:"line",data:{datasets:r},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0,title:{display:!1},legend:{display:!1},elements:{point:{radius:0}},tooltips:{titleFontFamily:Ss,bodyFontFamily:Ss},scales:{xAxes:[{type:"linear",position:"bottom",gridLines:{color:Xr},ticks:{maxTicksLimit:6,maxRotation:0,min:u,max:d,fontFamily:Ss,fontSize:Zr,fontColor:Jr,callback:(x,R)=>m&&R===0?"":x}}],yAxes:[{gridLines:{color:Xr},ticks:{fontFamily:Ss,fontSize:Zr,fontColor:Jr}}]}}})}var Ho=P('<div class="graph-inner-container svelte-1ez5fe6"></div>');const Xo={hash:"svelte-1ez5fe6",code:".graph-inner-container.svelte-1ez5fe6 {position:absolute;top:0;left:0;bottom:0;right:0;}"};function nn(e,t){ne(t,!1),oe(e,Xo);let r=Y(t,"viewModel",12),n=X(),i=X(),a=X();function u(){f$1(i)?.destroy();const m=document.createElement("canvas");for(;f$1(n).firstChild;)f$1(n).firstChild.remove();f$1(n).appendChild(m),N(a,r().key),N(i,new Yo(m,r())),r(r().onUpdated=()=>{f$1(i)?.update()},!0)}Gs(()=>(u(),()=>{f$1(i)?.destroy(),N(i,void 0)})),Pe(()=>(f$1(i),T(r()),f$1(a)),()=>{f$1(i)&&r().key!==f$1(a)&&u()}),je(),le();var d=Ho();hs(d,m=>N(n,m),()=>f$1(n)),$(e,d),ae()}var Zo=P('<span class="subtitle svelte-15isgd1"><!></span>'),Jo=P('<div class="title-row no-selection svelte-15isgd1"><div class="title-content svelte-15isgd1"><span class="title svelte-15isgd1"><!></span> <!></div></div>'),Qo=P('<div class="message svelte-15isgd1"><!></div>'),el=P('<div class="data-row svelte-15isgd1"><div class="data-label svelte-15isgd1">avg</div> <div class="data-value svelte-15isgd1"> </div></div> <div class="data-row svelte-15isgd1"><div class="data-label svelte-15isgd1">min</div> <div class="data-value svelte-15isgd1"> </div></div> <div class="data-row svelte-15isgd1"><div class="data-label svelte-15isgd1">max</div> <div class="data-value svelte-15isgd1"><!></div></div>',1),tl=P('<div><div class="graph-container svelte-15isgd1"><!></div> <div class="message-container svelte-15isgd1"><!></div></div>'),sl=P('<div class="detail-box svelte-15isgd1"><!> <div class="content-container svelte-15isgd1"><!></div></div>');const rl={hash:"svelte-15isgd1",code:".detail-box.svelte-15isgd1 {display:flex;flex-direction:column;--box-graph-w: calc(30rem * var(--graph-zoom));--box-graph-h: calc(22rem * var(--graph-zoom));}.title-row.svelte-15isgd1 {position:relative;max-width:calc(var(--box-graph-w) + 1rem);height:1.4rem;cursor:pointer;}.title-content.svelte-15isgd1 {position:absolute;max-width:calc(var(--box-graph-w) + 1rem);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.title-content.svelte-15isgd1:hover {width:max-content;max-width:unset;overflow:unset;z-index:100;background-color:#3c3c3c;}.title.svelte-15isgd1 {margin-left:0.7rem;font-size:1.1em;font-weight:700;}.subtitle.svelte-15isgd1 {color:#aaa;margin-left:0.4rem;margin-right:0.7rem;}.content-container.svelte-15isgd1 {display:flex;flex-direction:column;width:calc(var(--box-graph-w) + 1rem + 0.6rem);max-width:calc(var(--box-graph-w) + 1rem + 0.6rem);height:calc(var(--box-graph-h) + 4rem + 1rem + 0.6rem);max-height:calc(var(--box-graph-h) + 4rem + 1rem + 0.6rem);}.content.svelte-15isgd1 {display:flex;flex-direction:column;height:calc(var(--box-graph-h) + 4rem);padding:0.5rem;border-width:0.3rem;border-style:solid;border-radius:0.8rem;}.graph-container.svelte-15isgd1 {position:relative;display:flex;width:var(--box-graph-w);height:var(--box-graph-h);}.message-container.svelte-15isgd1 {display:flex;flex-direction:column;max-width:var(--box-graph-w);height:4rem;justify-content:flex-end;}.message.svelte-15isgd1 {white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.data-row.svelte-15isgd1 {display:flex;flex-direction:row;align-items:baseline;}.data-label.svelte-15isgd1 {font-size:0.9em;color:#aaa;min-width:2rem;margin-right:0.4rem;text-align:right;}.data-value.svelte-15isgd1 {white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"};function an(e,t){ne(t,!1),oe(e,rl);const r=()=>be(f$1(u),"$content",n),[n,i]=He();let a=Y(t,"viewModel",8),u=X(a().content),d=X(!1),m=X(f$1(d)),g=X();const x=Rt();function R(){x("toggle-context-graphs")}function O(z){a().kind!=="freeform"&&x("show-context-menu",{kind:"box",itemKey:a().pinnedItemKey,clickEvent:z})}function q(z){return z!=null?`${z.toFixed(2)}%`:"n/a"}function B(z){return z!=null?z.toFixed(4):"undefined"}function F(z){const G=z.diffReport.maxDiffPoint;let re="";return re+=q(z.diffReport.maxDiff),G&&(re+="&nbsp;(",re+=`<span class="dataset-color-0">${B(G.valueL)}</span>`,re+="&nbsp;|&nbsp;",re+=`<span class="dataset-color-1">${B(G.valueR)}</span>`,re+=`) at ${G.time}`),re}Pe(()=>(f$1(d),f$1(m),T(a()),f$1(g)),()=>{(f$1(d)!==f$1(m)||a().requestKey!==f$1(g)?.requestKey)&&(f$1(g)?.clearData(),N(m,f$1(d)),N(g,a()),Xt(N(u,a().content),"$content",n),f$1(d)&&a().requestData())}),je(),le();var D=sl(),V=_$1(D);{var j=z=>{var G=Jo(),re=_$1(G),de=_$1(re),Oe=_$1(de);ce(Oe,()=>(T(a()),b$1(()=>a().title)));var Ve=E(de,2);{var wt=Mt=>{var mn=Zo(),bn=_$1(mn);ce(bn,()=>(T(a()),b$1(()=>a().subtitle))),$(Mt,mn)};A(Ve,Mt=>{T(a()),b$1(()=>a().subtitle)&&Mt(wt)})}pe("click",G,R),pe("contextmenu",G,tn(O)),$(z,G)};A(V,z=>{T(a()),b$1(()=>a().title)&&z(j)})}var K=E(V,2),Q=_$1(K);Ir(Q,{get visible(){return f$1(d)},set visible(z){N(d,z)},children:(z,G)=>{var re=ge(),de=J(re);{var Oe=Ve=>{var wt=tl(),Mt=_$1(wt),mn=_$1(Mt);nn(mn,{get viewModel(){return r(),b$1(()=>r().comparisonGraphViewModel)}});var bn=E(Mt,2),$n=_$1(bn);{var Rn=gn=>{var Sn=Qo(),Je=_$1(Sn);ce(Je,()=>(r(),b$1(()=>r().message))),$(gn,Sn)},wn=gn=>{var Sn=el(),Je=J(Sn),Le=E(_$1(Je),2),ct=_$1(Le),ze=E(Je,2),_e=E(_$1(ze),2),Re=_$1(_e),$t=E(ze,2),Mn=E(_$1($t),2),Dn=_$1(Mn);ce(Dn,()=>(r(),b$1(()=>F(r())))),H((is,$s)=>{W(ct,is),W(Re,$s)},[()=>(r(),b$1(()=>q(r().diffReport.avgDiff))),()=>(r(),b$1(()=>q(r().diffReport.minDiff)))]),$(gn,Sn)};A($n,gn=>{r(),b$1(()=>r().message)?gn(Rn):gn(wn,!1)})}H(()=>xe(wt,1,(r(),b$1(()=>`content ${r().bucketClass}`)),"svelte-15isgd1")),$(Ve,wt)};A(de,Ve=>{r()&&Ve(Oe)})}$(z,re)},$$slots:{default:!0},$$legacy:!0}),$(e,D),ae(),i()}var il=P('<div class="subtitle svelte-p46ums"><!></div>'),nl=P('<div class="title-row svelte-p46ums"><div class="title svelte-p46ums"><!></div> <!></div>'),al=P('<div class="spacer-fixed svelte-p46ums"></div>'),ol=P("<!> <div><!></div>",1),ll=P('<div class="context-graph-row svelte-p46ums"><!> <div class="context-graph-spacer svelte-p46ums"></div> <!></div>'),cl=P('<div class="context-graphs-container svelte-p46ums"><div></div> <div class="context-graphs-column svelte-p46ums"><!></div></div>'),dl=P('<div class="detail-row svelte-p46ums"><!> <div class="boxes svelte-p46ums"></div> <!></div>');const ul={hash:"svelte-p46ums",code:".detail-row.svelte-p46ums {display:flex;flex-direction:column;}.title-row.svelte-p46ums {align-items:baseline;margin-bottom:0.5rem;}.title.svelte-p46ums {margin-right:0.8rem;font-size:1.5em;font-weight:700;}.subtitle.svelte-p46ums {font-size:1.3em;color:#aaa;}.subtitle.svelte-p46ums .subtitle-sep {color:#666;}.boxes.svelte-p46ums {display:flex;flex-direction:row;}.box-container.dimmed.svelte-p46ums {opacity:0.2;}.spacer-fixed.svelte-p46ums {min-width:1.5rem;}.context-graphs-container.svelte-p46ums {display:inline-flex;flex-direction:row;margin-top:1rem;padding:0 1rem;background-color:#555;}.context-graphs-column.svelte-p46ums {display:inline-flex;flex-direction:column;}.context-graph-row.svelte-p46ums {display:flex;flex-direction:row;width:77.5rem;margin:1rem 0;}.context-graph-spacer.svelte-p46ums {min-width:1.5rem;}"};function ei(e,t){ne(t,!1),oe(e,ul);let r=Y(t,"viewModel",8),n=X(),i=X();const a=Rt();function u(D){a("show-context-menu",{kind:"row",itemKey:r().pinnedItemKey,clickEvent:D})}function d(D,V){return V!==void 0&&D!==V}function m(D){D===f$1(n)?(N(n,void 0),N(i,void 0)):(N(n,D),N(i,Go(r().boxes[D])))}function g(D){return D===void 0?0:r().boxes.length>0?(D+.5)/r().boxes.length*100:0}Pe(()=>T(r()),()=>{r()&&(N(n,void 0),N(i,void 0))}),je(),le();var x=dl(),R=_$1(x);{var O=D=>{var V=nl(),j=_$1(V),K=_$1(j);ce(K,()=>(T(r()),b$1(()=>r().title)));var Q=E(j,2);{var z=G=>{var re=il(),de=_$1(re);ce(de,()=>(T(r()),b$1(()=>r().subtitle))),$(G,re)};A(Q,G=>{T(r()),b$1(()=>r().subtitle)&&G(z)})}pe("contextmenu",V,tn(u)),$(D,V)};A(R,D=>{T(r()),b$1(()=>r().title)&&D(O)})}var q=E(R,2);ve(q,5,()=>(T(r()),b$1(()=>r().boxes)),fe,(D,V,j)=>{var K=ol(),Q=J(K);{var z=Oe=>{var Ve=al();$(Oe,Ve)};A(Q,Oe=>{j>0&&Oe(z)})}var G=E(Q,2);let re;var de=_$1(G);an(de,{get viewModel(){return f$1(V)},$$events:{"toggle-context-graphs":()=>m(j),"show-context-menu"(Oe){We.call(this,t,Oe)}}}),H(Oe=>re=xe(G,1,"box-container svelte-p46ums",null,re,Oe),[()=>({dimmed:d(j,f$1(n))})]),$(D,K)});var B=E(q,2);{var F=D=>{var V=cl(),j=_$1(V),K=E(j,2),Q=_$1(K);{var z=G=>{var re=ge(),de=J(re);ve(de,1,()=>f$1(i),fe,(Oe,Ve)=>{var wt=ll(),Mt=_$1(wt);Vs(Mt,{get viewModel(){return f$1(Ve),b$1(()=>f$1(Ve).graphL)}});var mn=E(Mt,4);Vs(mn,{get viewModel(){return f$1(Ve),b$1(()=>f$1(Ve).graphR)}}),$(Oe,wt)}),$(G,re)};A(Q,G=>{f$1(i)&&G(z)})}H(G=>ke(j,`min-width: max(0%, min(calc(${G??""}% - 38.75rem), calc(100% - 77.5rem)))`),[()=>(f$1(n),b$1(()=>g(f$1(n))))]),$(D,V)};A(B,D=>{f$1(n)!==void 0&&D(F)})}$(e,x),ae()}var fl=P('<div class="legend-item svelte-ili0m8"><!></div>'),vl=P('<div class="legend-item svelte-ili0m8"><!></div>'),hl=P('<div> </div> <span class="dataset-arrow svelte-ili0m8">&nbsp;-&gt;&nbsp;</span> <div> </div>',1),pl=P("<div> </div>"),ml=P("<div> </div>"),gl=P('<div class="detail-box-container svelte-ili0m8"><!></div>'),_l=P('<div class="dataset-container svelte-ili0m8"><div class="dataset-row svelte-ili0m8"><!> <!></div> <!></div>');const wl={hash:"svelte-ili0m8",code:'.dataset-container.svelte-ili0m8 {display:flex;flex:1;flex-direction:column;}.dataset-row.svelte-ili0m8 {display:flex;flex:1;align-items:baseline;margin-left:0.6rem;cursor:pointer;}.dataset-row.svelte-ili0m8:hover {background-color:rgba(255, 255, 255, 0.05);}.dataset-arrow.svelte-ili0m8 {color:#777;}.legend-item.svelte-ili0m8 {font-family:"Roboto Condensed";font-weight:700;font-size:1rem;margin:0.2rem 0.4rem;padding:0.25rem 0.6rem 0.2rem 0.6rem;color:#fff;text-align:center;}.detail-box-container.svelte-ili0m8 {display:flex;flex:1;margin-top:0.2rem;margin-bottom:0.8rem;margin-left:0.4rem;}'};function bl(e,t){ne(t,!1),oe(e,wl);const r=()=>be(q,"$detailBoxVisible",n),[n,i]=He();let a=Y(t,"viewModel",8);const u=a().nameL,d=a().nameR,m=a().legendColorL,g=a().legendColorR,x=a().legendLabelL,R=a().legendLabelR,O=a().bucketClass,q=a().detailBoxVisible;function B(){q.update(Oe=>!Oe)}le();var F=_l(),D=_$1(F),V=_$1(D);{var j=Oe=>{var Ve=fl(),wt=_$1(Ve);ce(wt,()=>b$1(()=>x.toUpperCase())),H(()=>ke(Ve,`background-color: ${m??""};`)),$(Oe,Ve)},K=Oe=>{var Ve=ge(),wt=J(Ve);{var Mt=mn=>{var bn=vl(),$n=_$1(bn);ce($n,()=>b$1(()=>R.toUpperCase())),H(()=>ke(bn,`background-color: ${g??""};`)),$(mn,bn)};A(wt,mn=>{R&&mn(Mt)},!0)}$(Oe,Ve)};A(V,Oe=>{x&&!R?Oe(j):Oe(K,!1)})}var Q=E(V,2);{var z=Oe=>{var Ve=hl(),wt=J(Ve),Mt=_$1(wt),mn=E(wt,4),bn=_$1(mn);H(()=>{xe(wt,1,`dataset-name ${O}`,"svelte-ili0m8"),W(Mt,u),xe(mn,1,`dataset-name ${O}`,"svelte-ili0m8"),W(bn,d)}),$(Oe,Ve)},G=Oe=>{var Ve=ge(),wt=J(Ve);{var Mt=bn=>{var $n=pl(),Rn=_$1($n);H(()=>{xe($n,1,`dataset-name ${O}`,"svelte-ili0m8"),W(Rn,u)}),$(bn,$n)},mn=bn=>{var $n=ge(),Rn=J($n);{var wn=gn=>{var Sn=ml(),Je=_$1(Sn);H(()=>{xe(Sn,1,`dataset-name ${O}`,"svelte-ili0m8"),W(Je,d)}),$(gn,Sn)};A(Rn,gn=>{d&&gn(wn)},!0)}$(bn,$n)};A(wt,bn=>{u&&!d?bn(Mt):bn(mn,!1)},!0)}$(Oe,Ve)};A(Q,Oe=>{u&&d&&u!==d?Oe(z):Oe(G,!1)})}var re=E(D,2);{var de=Oe=>{var Ve=gl(),wt=_$1(Ve);an(wt,{get viewModel(){return T(a()),b$1(()=>a().detailBoxViewModel)}}),$(Oe,Ve)};A(re,Oe=>{r()&&Oe(de)})}pe("click",D,B),$(e,F),ae(),i()}var yl=P('<div class="spacer-flex svelte-1sxfmis"></div>'),xl=P('<div class="metadata-row svelte-1sxfmis"><div class="metadata-col svelte-1sxfmis"><div class="metadata-key svelte-1sxfmis"> </div> <span>&nbsp;</span> <div class="metadata-value"> </div></div> <div class="spacer-fixed svelte-1sxfmis"></div> <div class="metadata-col svelte-1sxfmis"><div class="metadata-key svelte-1sxfmis"> </div> <span>&nbsp;</span> <div class="metadata-value"> </div></div></div>'),kl=P('<div class="metadata-header svelte-1sxfmis">Metadata differences:</div> <!>',1),Sl=P('<div class="metadata-header svelte-1sxfmis">Dataset differences:</div> <!>',1),Rl=P('<div class="spacer-flex svelte-1sxfmis"></div>'),Ml=P('<div class="graphs-row svelte-1sxfmis"><!> <div class="content svelte-1sxfmis"><div class="graphs-container svelte-1sxfmis"><!> <div class="spacer-fixed svelte-1sxfmis"></div> <!></div> <div class="metadata-container svelte-1sxfmis"><div class="metadata-header svelte-1sxfmis"> </div> <!> <!></div></div> <!></div>');const $l={hash:"svelte-1sxfmis",code:".graphs-row.svelte-1sxfmis {display:flex;flex-direction:row;flex:1;}.spacer-flex.svelte-1sxfmis {flex:1;}.spacer-fixed.svelte-1sxfmis {flex:0 0 2rem;}.content.svelte-1sxfmis {display:flex;flex-direction:column;flex:1;}.graphs-container.svelte-1sxfmis {display:flex;flex-direction:row;}.metadata-container.svelte-1sxfmis {display:flex;flex-direction:column;}.metadata-header.svelte-1sxfmis {margin-top:0.6rem;}.metadata-row.svelte-1sxfmis {display:flex;flex-direction:row;}.metadata-row.svelte-1sxfmis:hover {background-color:rgba(255, 255, 255, 0.05);}.metadata-col.svelte-1sxfmis {display:flex;width:38rem;align-items:baseline;}.metadata-key.svelte-1sxfmis {color:#aaa;font-size:0.8em;margin-left:1rem;}"};function Il(e,t){ne(t,!1),oe(e,$l);let r=Y(t,"viewModel",8),n=Y(t,"align",8,"center");le();var i=Ml(),a=_$1(i);{var u=Q=>{var z=yl();$(Q,z)};A(a,Q=>{n()==="center"&&Q(u)})}var d=E(a,2),m=_$1(d),g=_$1(m);Vs(g,{get viewModel(){return T(r()),b$1(()=>r().graphL)}});var x=E(g,4);Vs(x,{get viewModel(){return T(r()),b$1(()=>r().graphR)}});var R=E(m,2),O=_$1(R),q=_$1(O),B=E(O,2);{var F=Q=>{var z=kl(),G=E(J(z),2);ve(G,1,()=>(T(r()),b$1(()=>r().metadataRows)),fe,(re,de)=>{var Oe=xl(),Ve=_$1(Oe),wt=_$1(Ve),Mt=_$1(wt),mn=E(wt,4),bn=_$1(mn),$n=E(Ve,4),Rn=_$1($n),wn=_$1(Rn),gn=E(Rn,4),Sn=_$1(gn);H(()=>{W(Mt,(f$1(de),b$1(()=>f$1(de).key))),W(bn,(f$1(de),b$1(()=>f$1(de).valueL||"n/a"))),W(wn,(f$1(de),b$1(()=>f$1(de).key))),W(Sn,(f$1(de),b$1(()=>f$1(de).valueR||"n/a")))}),$(re,Oe)}),$(Q,z)};A(B,Q=>{T(r()),b$1(()=>r().metadataRows.length>0)&&Q(F)})}var D=E(B,2);{var V=Q=>{var z=Sl(),G=E(J(z),2);ve(G,1,()=>(T(r()),b$1(()=>r().datasetRows)),fe,(re,de)=>{bl(re,{get viewModel(){return f$1(de)}})}),$(Q,z)};A(D,Q=>{T(r()),b$1(()=>r().datasetRows.length>0)&&Q(V)})}var j=E(d,2);{var K=Q=>{var z=Rl();$(Q,z)};A(j,Q=>{n()==="center"&&Q(K)})}H(()=>W(q,`id ${T(r()),b$1(()=>r().graphId)??""}`)),$(e,i),ae()}var Dl=P('<div class="pretitle svelte-4i7ul9"><!></div>'),Cl=P('<div class="subtitle svelte-4i7ul9"><!></div>'),Tl=P('<div class="annotations svelte-4i7ul9"><!></div>'),El=P('<li class="related-item"><!></li>'),Pl=P('<div class="related svelte-4i7ul9"><span> </span> <ul class="svelte-4i7ul9"></ul></div>'),Ll=P('<div class="row-container svelte-4i7ul9"><!></div>'),Vl=P('<div class="section-title svelte-4i7ul9"> </div> <!>',1),ql=P('<div class="section-title svelte-4i7ul9"> </div>'),Nl=P("<!> <!>",1),zl=P('<div class="row-container svelte-4i7ul9"><!></div>'),Kl=P('<div class="section-title svelte-4i7ul9"> </div> <!>',1),Al=P('<div class="section-title svelte-4i7ul9"> </div>'),Fl=P('<div class="row-container svelte-4i7ul9"><!></div>'),jl=P('<div class="compare-detail-container svelte-4i7ul9"><div class="header-container svelte-4i7ul9"><div class="title-and-links svelte-4i7ul9"><div class="title-container svelte-4i7ul9"><!> <div class="title-and-subtitle svelte-4i7ul9"><div class="title svelte-4i7ul9"><!></div> <!> <!></div></div> <div class="spacer-flex svelte-4i7ul9"></div> <div class="nav-links no-selection svelte-4i7ul9"><div class="nav-link svelte-4i7ul9">previous</div> <div class="nav-link-sep svelte-4i7ul9">&nbsp;|&nbsp;</div> <div class="nav-link svelte-4i7ul9">next</div></div></div> <!></div> <div class="scroll-container svelte-4i7ul9" tabindex="0"><div class="scroll-content svelte-4i7ul9"><!> <!> <!> <!> <div class="footer svelte-4i7ul9"></div> <!></div></div></div>');const Bl={hash:"svelte-4i7ul9",code:".compare-detail-container.svelte-4i7ul9 {display:flex;flex-direction:column;flex:1;}.header-container.svelte-4i7ul9 {display:flex;flex-direction:column;width:calc(100vw - 2rem);margin:0 -1rem;padding:0 2rem;box-shadow:0 1rem 0.5rem -0.5rem rgba(0, 0, 0, 0.5);z-index:1;}.title-and-links.svelte-4i7ul9 {display:flex;flex-direction:row;align-items:center;height:4.5rem;}.spacer-flex.svelte-4i7ul9 {flex:1;}.nav-links.svelte-4i7ul9 {display:flex;flex-direction:row;font-size:0.8em;}.nav-link-sep.svelte-4i7ul9 {color:#444;}.nav-link.svelte-4i7ul9 {cursor:pointer;color:#777;}.title-container.svelte-4i7ul9 {display:flex;flex-direction:column;}.pretitle.svelte-4i7ul9 {margin-bottom:0.2rem;font-size:0.9em;font-weight:700;color:#aaa;}.title-and-subtitle.svelte-4i7ul9 {display:flex;flex-direction:row;align-items:baseline;}.title.svelte-4i7ul9 {margin-bottom:0.4rem;font-size:2em;font-weight:700;cursor:pointer;}.subtitle.svelte-4i7ul9 {font-size:1.2em;font-weight:700;margin-left:1.2rem;color:#aaa;}.annotations.svelte-4i7ul9 {margin-left:0.3rem;color:#aaa;}.annotations.svelte-4i7ul9 .annotation {margin:0 0.3rem;padding:0.1rem 0.3rem;background-color:#222;border:0.5px solid #555;border-radius:0.4rem;}.related.svelte-4i7ul9 {font-size:1em;color:#aaa;margin-bottom:0.6rem;}.related.svelte-4i7ul9 .related-sep {color:#666;}ul.svelte-4i7ul9 {margin:0.1rem 0;padding-left:2rem;}.scroll-container.svelte-4i7ul9 {display:flex;flex-direction:row;max-width:100vw;flex:1 0 1px;overflow:auto;outline:none;background-color:#3c3c3c;}.scroll-content.svelte-4i7ul9 {position:relative;}.section-title.svelte-4i7ul9 {width:calc(100vw - 2rem);margin:1.5rem 1rem 2rem 1rem;padding:0.2rem 0;border-bottom:solid 1px #555;color:#ccc;font-size:1.4em;font-weight:700;}.section-title.svelte-4i7ul9:not(:first-child) {margin-top:5rem;}.row-container.svelte-4i7ul9 {display:flex;flex-direction:row;margin-top:0.5rem;margin-bottom:3rem;margin-left:1rem;margin-right:1rem;}.row-container.svelte-4i7ul9:first-child {margin-top:3rem;}.footer.svelte-4i7ul9 {height:1rem;}"};function Ol(e,t){ne(t,!1),oe(e,Bl);const r=()=>be(f$1(m),"$pinnedDetailRows",n),[n,i]=He();let a=Y(t,"viewModel",8),u=X(),d=X(),m=X(),g=X(),x=X(),R,O=X([]),q=X(),B=X(!1);const F=Rt();function D(pn){switch(pn){case"detail-previous":case"detail-next":{let kn;switch(a().kind){case"freeform-view":case"scenario-view":kn="views";break;case"scenario":kn="by-scenario";break;case"dataset":kn="by-dataset";break;default:ms$1(a().kind)}F("command",{cmd:pn==="detail-previous"?"show-comparison-detail-for-previous":"show-comparison-detail-for-next",kind:kn,summaryRowKey:a().summaryRowKey});break}default:F("command",{cmd:pn});break}}function V(pn){const kn=pn.detail?.kind;switch(kn){case"box":case"row":{const Tn=pn.detail.itemKey,su=ft(a().pinnedItemState.getPinned(Tn)),xn=su?"Unpin":"Pin",ru=kn==="row"?"Row":f$1(u);if(R=Tn,N(O,[{key:"toggle-item-pinned",displayText:`${xn} ${ru}`}]),su){const iu=ft(a().pinnedItemState.orderedKeys);iu.length>1&&iu[0]!==Tn&&f$1(O).push({key:"move-item-to-top",displayText:`Move ${ru} to Top`})}N(q,pn.detail.clickEvent);break}default:R=void 0,N(O,[]),N(q,void 0);break}}function j(){N(q,void 0)}function K(pn){N(q,void 0);const kn=R,Tn=pn.detail;switch(Tn){case"toggle-item-pinned":a().pinnedItemState.toggleItemPinned(kn);break;case"move-item-to-top":a().pinnedItemState.moveItemToTop(kn);break;default:console.error(`ERROR: Unhandled context menu command '${Tn}'`);break}}function Q(pn){pn.key==="ArrowLeft"?(D("detail-previous"),pn.preventDefault()):pn.key==="ArrowRight"?(D("detail-next"),pn.preventDefault()):pn.key==="ArrowUp"&&f$1(g).scrollTop===0&&(D("show-summary"),pn.preventDefault())}function z(){N(B,!f$1(B))}Gs(()=>{f$1(g).focus()}),Pe(()=>(T(a()),f$1(u),f$1(g)),()=>{if(a()){switch(a().kind){case"freeform-view":N(u,"Row");break;case"scenario":case"scenario-view":N(u,"Dataset");break;case"dataset":N(u,"Scenario");break;default:N(u,"Item");break}N(d,`${f$1(u)}s`),Xt(N(m,a().pinnedDetailRows),"$pinnedDetailRows",n),f$1(g)&&ya(g,f$1(g).scrollTop=0),N(B,!1)}}),je(),le();var G=jl();pe("keydown",us,Q);var re=_$1(G),de=_$1(re),Oe=_$1(de),Ve=_$1(Oe);{var wt=pn=>{var kn=Dl(),Tn=_$1(kn);ce(Tn,()=>(T(a()),b$1(()=>a().pretitle))),$(pn,kn)};A(Ve,pn=>{T(a()),b$1(()=>a().pretitle)&&pn(wt)})}var Mt=E(Ve,2),mn=_$1(Mt),bn=_$1(mn);ce(bn,()=>(T(a()),b$1(()=>a().title)));var $n=E(mn,2);{var Rn=pn=>{var kn=Cl(),Tn=_$1(kn);ce(Tn,()=>(T(a()),b$1(()=>a().subtitle))),$(pn,kn)};A($n,pn=>{T(a()),b$1(()=>a().subtitle)&&pn(Rn)})}var wn=E($n,2);{var gn=pn=>{var kn=Tl(),Tn=_$1(kn);ce(Tn,()=>(T(a()),b$1(()=>a().annotations))),$(pn,kn)};A(wn,pn=>{T(a()),b$1(()=>a().annotations)&&pn(gn)})}var Sn=E(Oe,4),Je=_$1(Sn),Le=E(Je,4),ct=E(de,2);{var ze=pn=>{var kn=Pl(),Tn=_$1(kn),su=_$1(Tn),xn=E(Tn,2);ve(xn,5,()=>(T(a()),b$1(()=>a().relatedItems)),fe,(ru,iu)=>{var au=El(),gu=_$1(au);ce(gu,()=>f$1(iu)),$(ru,au)}),H(()=>W(su,(T(a()),b$1(()=>a().relatedListHeader)))),$(pn,kn)};A(ct,pn=>{f$1(B),T(a()),b$1(()=>f$1(B)&&a().relatedItems.length>0)&&pn(ze)})}var _e=E(re,2),Re=_$1(_e),$t=_$1(Re);{var Mn=pn=>{var kn=Nl(),Tn=J(kn);ve(Tn,1,()=>(T(a()),b$1(()=>a().graphSections)),fe,(ru,iu)=>{var au=Vl(),gu=J(au),uu=_$1(gu),pu=E(gu,2);ve(pu,1,()=>(f$1(iu),b$1(()=>f$1(iu).rows)),fe,(wu,hu)=>{var yu=Ll(),Iu=_$1(yu);Za(Iu,()=>f$1(hu),Tu=>{Il(Tu,{get viewModel(){return f$1(hu)},align:"left"})}),$(wu,yu)}),H(()=>W(uu,(f$1(iu),b$1(()=>f$1(iu).title)))),$(ru,au)});var su=E(Tn,2);{var xn=ru=>{var iu=ql(),au=_$1(iu);H(()=>W(au,`All ${f$1(d)??""}`)),$(ru,iu)};A(su,ru=>{r(),b$1(()=>r().length===0)&&ru(xn)})}$(pn,kn)};A($t,pn=>{T(a()),b$1(()=>a().graphSections.length>0)&&pn(Mn)})}var Dn=E($t,2);{var is=pn=>{var kn=Kl(),Tn=J(kn),su=_$1(Tn),xn=E(Tn,2);ve(xn,1,r,fe,(ru,iu)=>{var au=zl(),gu=_$1(au);ei(gu,{get viewModel(){return f$1(iu)},$$events:{"show-context-menu":V}}),$(ru,au)}),H(()=>W(su,`Pinned ${f$1(d)??""}`)),$(pn,kn)};A(Dn,pn=>{r(),b$1(()=>r().length>0)&&pn(is)})}var $s=E(Dn,2);{var at=pn=>{var kn=Al(),Tn=_$1(kn);H(()=>W(Tn,`All ${f$1(d)??""}`)),$(pn,kn)};A($s,pn=>{r(),b$1(()=>r().length>0)&&pn(at)})}var _t=E($s,2);ve(_t,1,()=>(T(a()),b$1(()=>a().regularDetailRows)),fe,(pn,kn)=>{var Tn=Fl(),su=_$1(Tn);ei(su,{get viewModel(){return f$1(kn)},$$events:{"show-context-menu":V}}),$(pn,Tn)});var yn=E(_t,4);So(yn,{get items(){return f$1(O)},get parentElem(){return f$1(x)},get initialEvent(){return f$1(q)},$$events:{"item-selected":K,clickout:j}}),hs(Re,pn=>N(x,pn),()=>f$1(x)),hs(_e,pn=>N(g,pn),()=>f$1(g)),pe("click",mn,z),pe("click",Je,()=>D("detail-previous")),pe("click",Le,()=>D("detail-next")),$(e,G),ae(),i()}var Gl=ws("<g><!></g>");function Wl(e,t){ne(t,!1);let r=870711;function n(){return r+=1,`fa-${r.toString(16)}`}let i=X(""),a=Y(t,"data",8);function u(g){if(!g||!g.raw)return"";let x=g.raw;const R={};return x=x.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(O,q)=>{const B=n();return R[q]=B,` id="${B}"`}),x=x.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(O,q,B,F)=>{const D=q||F;return!D||!R[D]?O:`#${R[D]}`}),x}Pe(()=>T(a()),()=>{N(i,u(a()))}),je();var d=Gl(),m=_$1(d);ce(m,()=>f$1(i),!0),$(e,d),ae()}var Yl=ws("<svg><!></svg>");const Ul={hash:"svelte-4tj8j2",code:`.fa-icon.svelte-4tj8j2 {display:inline-block;fill:currentColor;}.fa-flip-horizontal.svelte-4tj8j2 {transform:scale(-1, 1);}.fa-flip-vertical.svelte-4tj8j2 {transform:scale(1, -1);}.fa-spin.svelte-4tj8j2 {
    animation: svelte-4tj8j2-fa-spin 1s 0s infinite linear;}.fa-inverse.svelte-4tj8j2 {color:#fff;}.fa-pulse.svelte-4tj8j2 {
    animation: svelte-4tj8j2-fa-spin 1s infinite steps(8);}
  @keyframes svelte-4tj8j2-fa-spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }`};function Hl(e,t){const r=Ls(t,["children","$$slots","$$events","$$legacy"]),n=Ls(r,["class","width","height","box","spin","inverse","pulse","flip","style","label"]);oe(e,Ul);let i=Y(t,"class",8,""),a=Y(t,"width",8),u=Y(t,"height",8),d=Y(t,"box",8,"0 0 0 0"),m=Y(t,"spin",8,!1),g=Y(t,"inverse",8,!1),x=Y(t,"pulse",8,!1),R=Y(t,"flip",8,"none"),O=Y(t,"style",8,""),q=Y(t,"label",8,"");var B=Yl();ur(B,D=>({version:"1.1",class:`fa-icon ${i()??""}`,width:a(),height:u(),"aria-label":q(),role:q()?"img":"presentation",viewBox:d(),style:O(),...n,[Bt]:D}),[()=>({"fa-spin":m(),"fa-pulse":x(),"fa-inverse":g(),"fa-flip-horizontal":R()==="horizontal","fa-flip-vertical":R()==="vertical"})],void 0,"svelte-4tj8j2");var F=_$1(B);Mr(F,t,"default",{},null),$(e,B)}var Xl=ws("<path></path>"),Zl=ws("<polygon></polygon>"),Jl=ws("<!><!><!>",1);function ti(e,t){const r=Ls(t,["children","$$slots","$$events","$$legacy"]),n=Ls(r,["class","data","scale","spin","inverse","pulse","flip","label","style"]);ne(t,!1);let i=Y(t,"class",8,""),a=Y(t,"data",8),u=X(),d=Y(t,"scale",8,1),m=Y(t,"spin",8,!1),g=Y(t,"inverse",8,!1),x=Y(t,"pulse",8,!1),R=Y(t,"flip",8,void 0),O=Y(t,"label",8,""),q=Y(t,"style",8,""),B=1,F=X(10),D=X(10),V=X(),j=X();function K(Ve){let wt,Mt;if(Ve)if("definition"in Ve){console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead");return}else if("iconName"in Ve&&"icon"in Ve){wt=Ve.iconName;const[mn,bn,,,$n]=Ve.icon,Rn=Array.isArray($n)?$n:[$n];Mt={width:mn,height:bn,paths:Rn.map(wn=>({d:wn}))}}else wt=Object.keys(Ve)[0],Mt=Ve[wt];else return;return Mt}function Q(){let Ve=1;return typeof d()<"u"&&(Ve=Number(d())),isNaN(Ve)||Ve<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),B):Ve*B}function z(){return f$1(u)?`0 0 ${f$1(u).width} ${f$1(u).height}`:`0 0 ${f$1(F)} ${f$1(D)}`}function G(){return f$1(u)?Math.max(f$1(u).width,f$1(u).height)/16:1}function re(){return f$1(u)?f$1(u).width/G()*Q():0}function de(){return f$1(u)?f$1(u).height/G()*Q():0}function Oe(){let Ve="";q()!==null&&(Ve+=q());let wt=Q();return wt===1?Ve.length===0?"":Ve:(Ve!==""&&!Ve.endsWith(";")&&(Ve+="; "),`${Ve}font-size: ${wt}em`)}Pe(()=>(T(a()),T(q()),T(d())),()=>{N(u,K(a())),q(),d(),N(F,re()),N(D,de()),N(V,Oe()),N(j,z())}),je(),le(),Hl(e,vo({get label(){return O()},get width(){return f$1(F)},get height(){return f$1(D)},get box(){return f$1(j)},get style(){return f$1(V)},get spin(){return m()},get flip(){return R()},get inverse(){return g()},get pulse(){return x()},get class(){return i()}},()=>n,{children:(Ve,wt)=>{var Mt=ge(),mn=J(Mt);Mr(mn,t,"default",{},bn=>{var $n=Jl(),Rn=J($n);ve(Rn,1,()=>(f$1(u),b$1(()=>f$1(u)?.paths||[])),fe,(Je,Le)=>{var ct=Xl();ur(ct,()=>({...f$1(Le)})),$(Je,ct)});var wn=E(Rn);ve(wn,1,()=>(f$1(u),b$1(()=>f$1(u)?.polygons||[])),fe,(Je,Le)=>{var ct=Zl();ur(ct,()=>({...f$1(Le)})),$(Je,ct)});var gn=E(wn);{var Sn=Je=>{Wl(Je,{get data(){return f$1(u)},set data(Le){N(u,Le)},$$legacy:!0})};A(gn,Je=>{f$1(u),b$1(()=>f$1(u)?.raw)&&Je(Sn)})}$(bn,$n)}),$(Ve,Mt)},$$slots:{default:!0}})),ae()}var Ql=P('<div class="header-group svelte-1u5zf43"><input class="checkbox" type="checkbox" name="simplify-toggle"/> <label for="simplify-toggle">Simplify Scenarios</label></div>'),ec=P("<option> </option>"),tc=P('<select class="selector dataset-color-0 svelte-1u5zf43"></select>'),sc=P('<div class="label dataset-color-0 svelte-1u5zf43"> </div>'),rc=P("<option> </option>"),ic=P('<select class="selector dataset-color-1 svelte-1u5zf43"></select>'),nc=P('<div class="label dataset-color-1 svelte-1u5zf43"> </div>'),ac=P('<div class="spacer-fixed svelte-1u5zf43"></div> <div class="header-group svelte-1u5zf43"><div class="label svelte-1u5zf43">Comparing:</div> <!> <!></div> <div class="spacer-fixed svelte-1u5zf43"></div> <div class="header-group svelte-1u5zf43"><div class="label svelte-1u5zf43">Thresholds:</div> <div class="label bucket-color-0 svelte-1u5zf43"><!></div> <div class="label bucket-color-1 svelte-1u5zf43"><!></div> <div class="label bucket-color-2 svelte-1u5zf43"><!></div> <div class="label bucket-color-3 svelte-1u5zf43"><!></div> <div class="label bucket-color-4 svelte-1u5zf43"><!></div></div> <div class="spacer-fixed svelte-1u5zf43"></div> <div class="header-group svelte-1u5zf43"><div class="icon-button controls svelte-1u5zf43"><!></div></div>',1),oc=P('<div class="header-controls svelte-1u5zf43"><div class="spacer-flex svelte-1u5zf43"></div> <input class="checkbox" type="checkbox" name="toggle-consistent-y-range"/> <label for="toggle-consistent-y-range">Consistent Y-Axis Ranges</label> <div class="spacer-fixed svelte-1u5zf43"></div> <div class="control-label">Graph Zoom:</div> <input type="range" min="0.3" max="2.5" step="0.1" class="svelte-1u5zf43"/> <div class="control-label"> </div></div>'),lc=P('<div class="header-container svelte-1u5zf43"><div class="header-content svelte-1u5zf43"><div class="header-group svelte-1u5zf43"><div class="icon-button home svelte-1u5zf43"><!></div></div> <div class="spacer-flex svelte-1u5zf43"></div> <!> <!></div> <!> <div class="line svelte-1u5zf43"></div></div>');const cc={hash:"svelte-1u5zf43",code:`.header-container.svelte-1u5zf43 {display:flex;flex-direction:column;box-sizing:border-box;width:100vw;padding:0 1rem;color:#aaa;}.header-content.svelte-1u5zf43 {display:flex;flex-direction:row;margin:0.4rem 0;}.header-group.svelte-1u5zf43 {display:flex;flex-direction:row;align-items:center;}.spacer-flex.svelte-1u5zf43 {flex:1;}.spacer-fixed.svelte-1u5zf43 {width:2rem;}.icon-button.svelte-1u5zf43 {color:#bbb;cursor:pointer;}.icon-button.svelte-1u5zf43:hover {color:#fff;}.label.svelte-1u5zf43:not(:last-child) {margin-right:1rem;}select.svelte-1u5zf43 {margin-right:1rem;font-family:Roboto, sans-serif;font-size:1em;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0.2rem 1.6rem 0.2rem 0.4rem;background:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='%23555'><polygon points='0,0 100,0 50,60'/></svg>") no-repeat;background-size:0.8rem;background-position:calc(100% - 0.4rem) 70%;background-repeat:no-repeat;background-color:#353535;border:none;border-radius:0.4rem;}.header-controls.svelte-1u5zf43 {display:flex;flex-direction:row;margin:0.4rem 0;align-items:center;}input[type=range].svelte-1u5zf43 {width:10rem;margin:0 0.4rem;}.line.svelte-1u5zf43 {min-height:1px;margin-bottom:1rem;background-color:#555;}`};function dc(e,t){ne(t,!1),oe(e,cc);const r=()=>be(R,"$simplifyScenarios",m),n=()=>be(q,"$bundleNamesL",m),i=()=>be(B,"$bundleNamesR",m),a=()=>be(F,"$controlsVisible",m),u=()=>be(V,"$consistentYRange",m),d=()=>be(D,"$zoom",m),[m,g]=He();let x=Y(t,"viewModel",8);const R=x().simplifyScenarios,O=x().thresholds,q=x().bundleNamesL,B=x().bundleNamesR,F=x().controlsVisible,D=x().zoom,V=x().consistentYRange,j=Rt();function K(){j("command",{cmd:"show-summary"})}function Q(){x().controlsVisible.update(Je=>!Je)}function z(Je,Le){const ct=new CustomEvent("sde-check-bundle",{detail:{kind:Je,name:Le}});document.dispatchEvent(ct)}function G(Je){z("left",Je.target.value)}function re(Je){z("right",Je.target.value)}let de=X(!0);Pe(()=>(r(),f$1(de)),()=>{r()!==void 0&&(f$1(de)?N(de,!1):document.dispatchEvent(new CustomEvent("sde-check-simplify-scenarios-toggled")))}),je(),le();var Oe=lc(),Ve=_$1(Oe),wt=_$1(Ve),Mt=_$1(wt),mn=_$1(Mt);ti(mn,{class:"icon",get data(){return faHome}});var bn=E(wt,4);{var $n=Je=>{var Le=Ql(),ct=_$1(Le);Wr(ct,r,ze=>Qs(R,ze)),$(Je,Le)};A(bn,Je=>{R!==void 0&&Je($n)})}var Rn=E(bn,2);{var wn=Je=>{var Le=ac(),ct=E(J(Le),2),ze=E(_$1(ct),2);{var _e=uu=>{var pu=tc();ve(pu,5,n,fe,(wu,hu)=>{var yu=ec(),Iu=_$1(yu),Tu={};H(()=>{dr(yu,(f$1(hu),T(x()),b$1(()=>f$1(hu)===x().nameL))),W(Iu,f$1(hu)),Tu!==(Tu=f$1(hu))&&(yu.__value=f$1(hu))}),$(wu,yu)}),pe("change",pu,G),$(uu,pu)},Re=uu=>{var pu=sc(),wu=_$1(pu);H(()=>W(wu,(T(x()),b$1(()=>x().nameL)))),$(uu,pu)};A(ze,uu=>{n(),b$1(()=>n().length>1)?uu(_e):uu(Re,!1)})}var $t=E(ze,2);{var Mn=uu=>{var pu=ic();ve(pu,5,i,fe,(wu,hu)=>{var yu=rc(),Iu=_$1(yu),Tu={};H(()=>{dr(yu,(f$1(hu),T(x()),b$1(()=>f$1(hu)===x().nameR))),W(Iu,f$1(hu)),Tu!==(Tu=f$1(hu))&&(yu.__value=f$1(hu))}),$(wu,yu)}),pe("change",pu,re),$(uu,pu)},Dn=uu=>{var pu=nc(),wu=_$1(pu);H(()=>W(wu,(T(x()),b$1(()=>x().nameR)))),$(uu,pu)};A($t,uu=>{i(),b$1(()=>i().length>1)?uu(Mn):uu(Dn,!1)})}var is=E(ct,4),$s=E(_$1(is),2),at=_$1($s);ce(at,()=>b$1(()=>O[0]));var _t=E($s,2),yn=_$1(_t);ce(yn,()=>b$1(()=>O[1]));var pn=E(_t,2),kn=_$1(pn);ce(kn,()=>b$1(()=>O[2]));var Tn=E(pn,2),su=_$1(Tn);ce(su,()=>b$1(()=>O[3]));var xn=E(Tn,2),ru=_$1(xn);ce(ru,()=>b$1(()=>O[4]));var iu=E(is,4),au=_$1(iu),gu=_$1(au);ti(gu,{class:"icon",get data(){return faCog}}),pe("click",au,Q),$(Je,Le)};A(Rn,Je=>{T(x()),n(),b$1(()=>x().nameL||n().length>1)&&Je(wn)})}var gn=E(Ve,2);{var Sn=Je=>{var Le=oc(),ct=E(_$1(Le),2),ze=E(ct,8),_e=E(ze,2),Re=_$1(_e);H($t=>W(Re,$t),[()=>(d(),b$1(()=>`${d().toFixed(1)}x`))]),Wr(ct,u,$t=>Qs(V,$t)),oo(ze,d,$t=>Qs(D,$t)),$(Je,Le)};A(gn,Je=>{a()&&Je(Sn)})}pe("click",Mt,K),$(e,Oe),ae(),g()}var uc=P("<div></div>"),fc=P('<div class="dot-plot-container svelte-yxhckp"><div class="hline svelte-yxhckp"></div> <div class="vline end-line svelte-yxhckp" style="left: 0;"></div> <div class="vline end-line svelte-yxhckp" style="left: 100%;"></div> <!> <div></div></div>');const vc={hash:"svelte-yxhckp",code:".dot-plot-container.svelte-yxhckp {position:relative;width:100%;height:1.6rem;}.hline.svelte-yxhckp {position:absolute;left:0;top:0.7rem;width:100%;height:1px;background-color:#555;}.vline.svelte-yxhckp {position:absolute;left:0;height:1.4rem;width:1px;}.vline.end-line.svelte-yxhckp {background-color:#555;}.vline.avg-line.svelte-yxhckp {width:2px;margin-left:-1px;}.dot.svelte-yxhckp {position:absolute;top:0.3rem;width:0.8rem;height:0.8rem;margin-left:-0.4rem;border-radius:0.4rem;opacity:0.2;}"};function vr(e,t){ne(t,!1),oe(e,vc);let r=Y(t,"viewModel",8),n=Y(t,"colorClass",8);le();var i=fc(),a=E(_$1(i),6);ve(a,1,()=>(T(r()),b$1(()=>r().points)),fe,(d,m)=>{var g=uc();H(()=>{xe(g,1,`dot ${n()}`,"svelte-yxhckp"),ke(g,`left: ${f$1(m)??""}%;`)}),$(d,g)});var u=E(a,2);H(()=>{xe(u,1,`vline avg-line ${n()}`,"svelte-yxhckp"),ke(u,`left: ${T(r()),b$1(()=>r().avgPoint)??""}%;`)}),$(e,i),ae()}var hc=P('<button class="run">Run</button>'),pc=P("<div>Running performance tests, please wait</div>"),mc=P('<tr><td class="rownum svelte-180kq73" rowspan="2"> </td><td class="dim svelte-180kq73"> </td><td class="value dataset-color-0 svelte-180kq73"> </td><td class="dim svelte-180kq73"> </td><td class="plot svelte-180kq73"><!></td></tr> <tr><td class="dim svelte-180kq73"> </td><td class="value dataset-color-1 svelte-180kq73"> </td><td class="dim svelte-180kq73"> </td><td class="plot svelte-180kq73"><!></td></tr>',1),gc=P('<table class="svelte-180kq73"><thead><tr><th class="svelte-180kq73">run</th><th class="svelte-180kq73">min</th><th class="svelte-180kq73">avg</th><th class="svelte-180kq73">max</th></tr></thead><tbody></tbody></table>'),_c=P('<div class="perf-container svelte-180kq73"><div class="controls-container svelte-180kq73"><!></div> <div class="table-container svelte-180kq73"><!></div></div>');const wc={hash:"svelte-180kq73",code:`.perf-container.svelte-180kq73 {display:flex;flex-direction:column;padding:0 1rem;}.controls-container.svelte-180kq73 {display:flex;flex-direction:column;align-items:flex-start;height:3rem;}.table-container.svelte-180kq73 {display:flex;flex:1;}table.svelte-180kq73 {border-collapse:collapse;}td.svelte-180kq73,
th.svelte-180kq73 {padding-top:0.2rem;padding-bottom:0.2rem;}th.svelte-180kq73 {color:#aaa;text-align:right;font-weight:500;}td.svelte-180kq73 {width:4.5rem;text-align:right;font-family:monospace;}td.rownum.svelte-180kq73 {width:2rem;}td.dim.svelte-180kq73 {color:#777;}td.plot.svelte-180kq73 {width:30rem;padding-left:2rem;padding-right:2rem;}`};function bc(e,t){ne(t,!1),oe(e,wc);const r=()=>be(u,"$rows",n),[n,i]=He();let a=Y(t,"viewModel",8);const u=a().rows;let d=X(!1);function m(){N(d,!0);const V=new PerfRunner(a().bundleModelL,a().bundleModelR);V.onComplete=(j,K)=>{a().addRow(j,K),N(d,!1)},V.onError=j=>{console.error(j),N(d,!1)},V.start()}le();var g=_c(),x=_$1(g),R=_$1(x);{var O=V=>{var j=hc();H(()=>j.disabled=f$1(d)),pe("click",j,m),$(V,j)},q=V=>{var j=pc();$(V,j)};A(R,V=>{f$1(d)?V(q,!1):V(O)})}var B=E(x,2),F=_$1(B);{var D=V=>{var j=gc(),K=E(_$1(j));ve(K,5,r,fe,(Q,z)=>{var G=mc(),re=J(G),de=_$1(re),Oe=_$1(de),Ve=E(de),wt=_$1(Ve),Mt=E(Ve),mn=_$1(Mt),bn=E(Mt),$n=_$1(bn),Rn=E(bn),wn=_$1(Rn);vr(wn,{get viewModel(){return f$1(z),b$1(()=>f$1(z).dotPlotL)},colorClass:"dataset-bg-0"});var gn=E(re,2),Sn=_$1(gn),Je=_$1(Sn),Le=E(Sn),ct=_$1(Le),ze=E(Le),_e=_$1(ze),Re=E(ze),$t=_$1(Re);vr($t,{get viewModel(){return f$1(z),b$1(()=>f$1(z).dotPlotR)},colorClass:"dataset-bg-1"}),H(()=>{W(Oe,(f$1(z),b$1(()=>f$1(z).num))),W(wt,(f$1(z),b$1(()=>f$1(z).minTimeL))),W(mn,(f$1(z),b$1(()=>f$1(z).avgTimeL))),W($n,(f$1(z),b$1(()=>f$1(z).maxTimeL))),W(Je,(f$1(z),b$1(()=>f$1(z).minTimeR))),W(ct,(f$1(z),b$1(()=>f$1(z).avgTimeR))),W(_e,(f$1(z),b$1(()=>f$1(z).maxTimeR)))}),$(Q,G)}),$(V,j)};A(F,V=>{r(),b$1(()=>r().length>0)&&V(D)})}$(e,g),ae(),i()}var yc=P('<div class="graph-container svelte-hxzd9c"><!></div>');const xc={hash:"svelte-hxzd9c",code:".graph-container.svelte-hxzd9c {position:relative;display:flex;width:36rem;height:22rem;margin-left:1rem;margin-top:0.5rem;margin-bottom:1rem;}"};function kc(e,t){ne(t,!1),oe(e,xc);const r=()=>be(f$1(u),"$content",n),[n,i]=He();let a=Y(t,"viewModel",8),u=X(a().content),d=X(!1),m=X(f$1(d)),g=X();Pe(()=>(f$1(d),f$1(m),T(a()),f$1(g)),()=>{(f$1(d)!==f$1(m)||a().baseRequestKey!==f$1(g)?.baseRequestKey)&&(f$1(g)?.clearData(),N(m,f$1(d)),N(g,a()),Xt(N(u,a().content),"$content",n),f$1(d)&&a().requestData())}),je(),le(),Ir(e,{get visible(){return f$1(d)},set visible(x){N(d,x)},children:(x,R)=>{var O=ge(),q=J(O);{var B=F=>{var D=yc(),V=_$1(D);nn(V,{get viewModel(){return r(),b$1(()=>r().comparisonGraphViewModel)}}),$(F,D)};A(q,F=>{r()&&F(B)})}$(x,O)},$$slots:{default:!0},$$legacy:!0}),ae(),i()}var Sc=P('<div class="row check-graph svelte-hx6uys"><!></div>'),Rc=P('<div class="child-rows"></div>'),Mc=P('<div><span class="label"><!></span></div> <!>',1);const $c={hash:"svelte-hx6uys",code:".check-graph.svelte-hx6uys {height:23rem;margin-left:8.5rem;}"};function on(e,t){ne(t,!1),oe(e,$c);const r=()=>be(f$1(d),"$expanded",i),n=()=>be(f$1(u),"$childRows",i),[i,a]=He(),u=X(),d=X();let m=Y(t,"viewModel",8);function g(){m().onClicked()}Pe(()=>T(m()),()=>{Xt(N(u,m().childRows),"$childRows",i)}),Pe(()=>T(m()),()=>{Xt(N(d,m().expanded),"$expanded",i)}),je(),le();var x=Mc(),R=J(x),O=_$1(R),q=_$1(O);ce(q,()=>(T(m()),b$1(()=>m().span)));var B=E(R,2);{var F=D=>{var V=ge(),j=J(V);{var K=z=>{var G=Sc(),re=_$1(G);kc(re,{get viewModel(){return T(m()),b$1(()=>m().graphBoxViewModel)}}),$(z,G)},Q=z=>{var G=Rc();ve(G,5,n,fe,(re,de)=>{var Oe=ge(),Ve=J(Oe);on(Ve,{get viewModel(){return f$1(de)}}),$(re,Oe)}),$(z,G)};A(j,z=>{T(m()),b$1(()=>m().graphBoxViewModel)?z(K):z(Q,!1)})}$(D,V)};A(B,D=>{r()&&D(F)})}H(()=>xe(R,1,(T(m()),b$1(()=>`row ${m().rowClasses}`)),"svelte-hx6uys")),pe("click",O,g),$(e,x),ae(),a()}var Ic=P('<div class="bar bucket-bg-0 svelte-148uwot"></div> <div class="bar status-bg-failed svelte-148uwot"></div> <div class="bar status-bg-error svelte-148uwot"></div>',1),Dc=P('<div class="bar gray svelte-148uwot" style="width: 100%"></div>'),Cc=P("<span>No checks</span>"),Tc=P("<span> </span>"),Ec=P('<span class="sep svelte-148uwot">&nbsp;|&nbsp;</span> <span class="status-color-passed"> </span>',1),Pc=P('<span class="sep svelte-148uwot">&nbsp;|&nbsp;</span> <span class="status-color-failed"> </span>',1),Lc=P('<span class="status-color-error"> </span>'),Vc=P('<span class="status-color-error"> </span>'),qc=P('<span class="sep svelte-148uwot">&nbsp;|&nbsp;</span> <!>',1),Nc=P("<span> </span> <!> <!> <!>",1),zc=P('<div class="group-container svelte-148uwot"><div class="row group"><div class="label"> </div></div> <!></div>'),Kc=P('<div class="check-detail svelte-148uwot"></div>'),Ac=P('<div class="check-summary-container svelte-148uwot"><div class="summary-bar-row svelte-148uwot"><div class="bar-container svelte-148uwot"><!></div> <span class="summary-label svelte-148uwot"><!></span></div> <!></div>');const Fc={hash:"svelte-148uwot",code:`.check-summary-container.svelte-148uwot {display:flex;flex-direction:column;}.check-detail.svelte-148uwot {display:flex;flex-direction:column;}.group-container.svelte-148uwot {margin-bottom:1.2rem;}.group-container.svelte-148uwot .test-rows {display:flex;flex-direction:column;}.group-container.svelte-148uwot .test-rows:not(.children-visible) {display:none;}.group-container.svelte-148uwot .test-rows.children-visible {display:flex;}.group-container.svelte-148uwot .row {display:flex;flex-direction:row;}.group-container.svelte-148uwot .row.group {position:sticky;top:50px;height:32px;z-index:6;background-color:#272727;font-size:1.2em;}.group-container.svelte-148uwot .row.group > .label {margin-top:8px;}.group-container.svelte-148uwot .row.test {position:sticky;display:flex;align-items:center;top:82px;height:20px;z-index:5;background-color:#272727;}.group-container.svelte-148uwot .row.scenario {position:sticky;top:102px;height:18px;z-index:4;background-color:#272727;}.group-container.svelte-148uwot .row.dataset {position:sticky;top:120px;height:18px;z-index:3;background-color:#272727;}.group-container.svelte-148uwot .row.predicate {position:sticky;top:138px;height:18px;z-index:2;background-color:#272727;}.group-container.svelte-148uwot .row.placeholder {height:18px;}.group-container.svelte-148uwot .row > .label {cursor:pointer;}.group-container.svelte-148uwot .row.scenario,
.group-container.svelte-148uwot .row.dataset,
.group-container.svelte-148uwot .row.predicate {color:#777;}.group-container.svelte-148uwot .bold {font-weight:700;color:#bbb;}.summary-bar-row.svelte-148uwot {display:flex;flex-direction:row;align-items:baseline;align-self:flex-start;margin:2.6rem 0;opacity:1;}.bar-container.svelte-148uwot {display:flex;flex-direction:row;width:15rem;height:0.8rem;}.bar.svelte-148uwot {height:0.8rem;}.bar.gray.svelte-148uwot {background-color:#777;}.summary-label.svelte-148uwot {margin-left:0.8rem;color:#fff;}.sep.svelte-148uwot {color:#777;}`};function jc(e,t){ne(t,!1),oe(e,Fc);let r=Y(t,"viewModel",8);le();var n=Ac(),i=_$1(n),a=_$1(i),u=_$1(a);{var d=F=>{var D=Ic(),V=J(D),j=E(V,2),K=E(j,2);H(()=>{ke(V,`width: ${T(r()),b$1(()=>r().percents[0])??""}%;`),ke(j,`width: ${T(r()),b$1(()=>r().percents[1])??""}%;`),ke(K,`width: ${T(r()),b$1(()=>r().percents[2])??""}%;`)}),$(F,D)},m=F=>{var D=Dc();$(F,D)};A(u,F=>{T(r()),b$1(()=>r().total>0)?F(d):F(m,!1)})}var g=E(a,2),x=_$1(g);{var R=F=>{var D=Cc();$(F,D)},O=F=>{var D=ge(),V=J(D);{var j=Q=>{var z=Tc(),G=_$1(z);H(()=>W(G,`${T(r()),b$1(()=>r().total)??""} total passed`)),$(Q,z)},K=Q=>{var z=Nc(),G=J(z),re=_$1(G),de=E(G,2);{var Oe=bn=>{var $n=Ec(),Rn=E(J($n),2),wn=_$1(Rn);H(()=>W(wn,`${T(r()),b$1(()=>r().passed)??""} passed`)),$(bn,$n)};A(de,bn=>{T(r()),b$1(()=>r().passed)&&bn(Oe)})}var Ve=E(de,2);{var wt=bn=>{var $n=Pc(),Rn=E(J($n),2),wn=_$1(Rn);H(()=>W(wn,`${T(r()),b$1(()=>r().failed)??""} failed`)),$(bn,$n)};A(Ve,bn=>{T(r()),b$1(()=>r().failed)&&bn(wt)})}var Mt=E(Ve,2);{var mn=bn=>{var $n=qc(),Rn=E(J($n),2);{var wn=Sn=>{var Je=Lc(),Le=_$1(Je);H(()=>W(Le,`${T(r()),b$1(()=>r().errors)??""} errors`)),$(Sn,Je)},gn=Sn=>{var Je=Vc(),Le=_$1(Je);H(()=>W(Le,`${T(r()),b$1(()=>r().errors)??""} error`)),$(Sn,Je)};A(Rn,Sn=>{T(r()),b$1(()=>r().errors>1)?Sn(wn):Sn(gn,!1)})}$(bn,$n)};A(Mt,bn=>{T(r()),b$1(()=>r().errors)&&bn(mn)})}H(()=>W(re,`${T(r()),b$1(()=>r().total)??""} total`)),$(Q,z)};A(V,Q=>{T(r()),b$1(()=>r().total===r().passed)?Q(j):Q(K,!1)},!0)}$(F,D)};A(x,F=>{T(r()),b$1(()=>r().total===0)?F(R):F(O,!1)})}var q=E(i,2);{var B=F=>{var D=Kc();ve(D,5,()=>(T(r()),b$1(()=>r().groups)),fe,(V,j)=>{var K=zc(),Q=_$1(K),z=_$1(Q),G=_$1(z),re=E(Q,2);ve(re,1,()=>(f$1(j),b$1(()=>f$1(j).tests)),fe,(de,Oe)=>{on(de,{get viewModel(){return f$1(Oe)}})}),H(()=>W(G,(f$1(j),b$1(()=>f$1(j).name)))),$(V,K)}),$(F,D)};A(q,F=>{F(B)})}$(e,n),ae()}var Bc=P('<div class="bar striped svelte-st0o1s"></div>'),Oc=P('<div class="bar bucket-bg-0 svelte-st0o1s"></div> <div class="bar bucket-bg-1 svelte-st0o1s"></div> <div class="bar bucket-bg-2 svelte-st0o1s"></div> <div class="bar bucket-bg-3 svelte-st0o1s"></div> <div class="bar bucket-bg-4 svelte-st0o1s"></div>',1),Gc=P('<div class="subtitle svelte-st0o1s"><!></div>'),Wc=P('<div class="annotations svelte-st0o1s"><!></div>'),Yc=P('<div class="summary-row svelte-st0o1s"><div class="bar-container svelte-st0o1s"><!></div> <div class="title-container svelte-st0o1s"><div class="title-part svelte-st0o1s"><div class="title svelte-st0o1s"><!></div> <!> <!></div></div></div>');const Uc={hash:"svelte-st0o1s",code:".summary-row.svelte-st0o1s {display:flex;flex-direction:row;flex:0 0 auto;align-items:flex-end;margin:0.2rem 0;opacity:0.8;}.summary-row.svelte-st0o1s:hover {opacity:1;}.bar-container.svelte-st0o1s {display:flex;flex-direction:row;width:15rem;height:0.8rem;margin-bottom:0.25rem;cursor:pointer;}.bar.svelte-st0o1s {height:0.8rem;}.bar.striped.svelte-st0o1s {width:100%;background:repeating-linear-gradient(-45deg, goldenrod, goldenrod 0.4rem, darkgoldenrod 0.4rem, darkgoldenrod 1rem);}.title-container.svelte-st0o1s {display:flex;flex-direction:column;margin-left:0.8rem;}.title-part.svelte-st0o1s {display:flex;flex-direction:row;align-items:baseline;}.title.svelte-st0o1s {color:#fff;cursor:pointer;}.subtitle.svelte-st0o1s {font-size:0.8em;margin-left:0.6rem;color:#aaa;cursor:pointer;}.annotations.svelte-st0o1s {font-size:0.8em;margin-left:0.3rem;color:#aaa;}.annotations.svelte-st0o1s .annotation {margin:0 0.3rem;padding:0.1rem 0.3rem;background-color:#1c1c1c;border:0.5px solid #555;border-radius:0.4rem;}"};function Hc(e,t){ne(t,!1),oe(e,Uc);let r=Y(t,"viewModel",8);const n=r().diffPercentByBucket,i=Rt();function a(){r().itemKey&&i("command",{cmd:"show-comparison-detail",summaryRow:r()})}le();var u=Yc(),d=_$1(u),m=_$1(d);{var g=K=>{var Q=Bc();$(K,Q)},x=K=>{var Q=Oc(),z=J(Q),G=E(z,2),re=E(G,2),de=E(re,2),Oe=E(de,2);H(()=>{ke(z,`width: ${b$1(()=>n[0])??""}%;`),ke(G,`width: ${b$1(()=>n[1])??""}%;`),ke(re,`width: ${b$1(()=>n[2])??""}%;`),ke(de,`width: ${b$1(()=>n[3])??""}%;`),ke(Oe,`width: ${b$1(()=>n[4])??""}%;`)}),$(K,Q)};A(m,K=>{T(r()),b$1(()=>r().diffPercentByBucket===void 0)?K(g):K(x,!1)})}var R=E(d,2),O=_$1(R),q=_$1(O),B=_$1(q);ce(B,()=>(T(r()),b$1(()=>r().title)));var F=E(q,2);{var D=K=>{var Q=Gc(),z=_$1(Q);ce(z,()=>(T(r()),b$1(()=>r().subtitle))),pe("click",Q,a),$(K,Q)};A(F,K=>{T(r()),b$1(()=>r().subtitle)&&K(D)})}var V=E(F,2);{var j=K=>{var Q=Wc(),z=_$1(Q);ce(z,()=>(T(r()),b$1(()=>r().annotations))),$(K,Q)};A(V,K=>{T(r()),b$1(()=>r().annotations)&&K(j)})}pe("click",d,a),pe("click",q,a),$(e,u),ae()}var Xc=P('<div class="header-count svelte-lq58a5"> </div>'),Zc=P('<div class="section-container svelte-lq58a5"><div><div class="header-bar svelte-lq58a5"></div> <div class="header-title svelte-lq58a5"><!></div> <!></div> <!></div>');const Jc={hash:"svelte-lq58a5",code:".section-container.svelte-lq58a5 {display:flex;flex-direction:column;}.section-container.svelte-lq58a5:not(:last-child) {margin-bottom:1.5rem;}.header-row.svelte-lq58a5 {display:flex;flex-direction:row;align-items:center;margin:0.4rem 0;cursor:pointer;}.header-row.collapsed.svelte-lq58a5 {opacity:0.5;}.header-row.svelte-lq58a5:hover {opacity:0.8;}.header-bar.svelte-lq58a5 {display:flex;width:15rem;height:1px;background-color:#555;}.header-title.svelte-lq58a5 {margin-left:0.8rem;color:#fff;font-size:1.2em;}.header-count.svelte-lq58a5 {margin-left:0.5rem;padding:0.1rem 0.5rem;border-radius:1rem;background-color:rgba(255, 165, 0, 0.7);color:#eee;font-size:0.85em;}"};function Qc(e,t){ne(t,!1),oe(e,Jc);const r=()=>be(u,"$expanded",n),[n,i]=He();let a=Y(t,"viewModel",8);const u=a().expanded;function d(){u.update(D=>!D)}le();var m=Zc(),g=_$1(m),x=E(_$1(g),2),R=_$1(x);ce(R,()=>(T(a()),b$1(()=>a().header.title)));var O=E(x,2);{var q=D=>{var V=Xc(),j=_$1(V);H(()=>W(j,(T(a()),b$1(()=>a().rowsWithDiffs)))),$(D,V)};A(O,D=>{T(a()),b$1(()=>a().rowsWithDiffs>0)&&D(q)})}var B=E(g,2);{var F=D=>{var V=ge(),j=J(V);ve(j,1,()=>(T(a()),b$1(()=>a().rows)),fe,(K,Q)=>{Hc(K,{get viewModel(){return f$1(Q)},$$events:{command(z){We.call(this,t,z)}}})}),$(D,V)};A(B,D=>{r()&&D(F)})}H(()=>xe(g,1,`header-row ${r()?"expanded":"collapsed"}`,"svelte-lq58a5")),pe("click",g,d),$(e,m),ae(),i()}var ed=P('<a class="toc-entry svelte-j667he"><span class="title svelte-j667he"><!></span> <span class="row-count svelte-j667he"> </span></a>'),td=P('<div class="toc-all-clear svelte-j667he">No differences detected</div>'),sd=P('<div class="toc-container svelte-j667he"><div class="toc-title svelte-j667he">Groups with differences</div> <div class="toc-entries svelte-j667he"><!></div></div>');const rd={hash:"svelte-j667he",code:".toc-container.svelte-j667he {position:relative;width:fit-content;min-width:13rem;margin-top:0.4rem;margin-bottom:1.2rem;border:0.5px solid #444;border-radius:0.4rem;}.toc-title.svelte-j667he {position:absolute;top:-0.6rem;left:0.4rem;font-weight:700;padding:0 0.4rem;background-color:#272727;color:#999;}.toc-all-clear.svelte-j667he {color:var(--status-passed);}.toc-entries.svelte-j667he {display:flex;flex-direction:column;gap:0.4rem;margin-top:0.4rem;padding:0.8rem;}.toc-entry.svelte-j667he {text-decoration:none;font-weight:700;color:#ccc;}.toc-entry.svelte-j667he:hover {color:#fff;}.title.svelte-j667he {flex:1;}.row-count.svelte-j667he {margin-left:0.2rem;padding:0.1rem 0.5rem;border-radius:1rem;background-color:#7f5f25;color:#eee;font-size:0.85em;}"};function id(e,t){ne(t,!1),oe(e,rd);const r=X();let n=Y(t,"sections",8);Pe(()=>T(n()),()=>{N(r,n().filter(g=>g.rowsWithDiffs>0))}),je(),le();var i=sd(),a=E(_$1(i),2),u=_$1(a);{var d=g=>{var x=ge(),R=J(x);ve(R,1,()=>f$1(r),fe,(O,q)=>{var B=ed(),F=_$1(B),D=_$1(F);ce(D,()=>(f$1(q),b$1(()=>f$1(q).header.title)));var V=E(F,2),j=_$1(V);H(()=>{Ps(B,"href",`#${f$1(q),b$1(()=>f$1(q).header.rowKey)??""}`),W(j,(f$1(q),b$1(()=>f$1(q).rows.length)))}),$(O,B)}),$(g,x)},m=g=>{var x=td();$(g,x)};A(u,g=>{f$1(r),b$1(()=>f$1(r).length>0)?g(d):g(m,!1)})}$(e,i),ae()}var nd=P('<div class="section-container svelte-1ewsx3b"><!></div>'),ad=P('<div class="comparison-summary-container svelte-1ewsx3b"><!> <!> <div class="footer svelte-1ewsx3b"></div></div>');const od={hash:"svelte-1ewsx3b",code:".comparison-summary-container.svelte-1ewsx3b {display:flex;flex-direction:column;padding-top:2rem;}.section-container.svelte-1ewsx3b {display:flex;flex-direction:column;scroll-margin-top:5rem;}.section-container.svelte-1ewsx3b:not(:last-child) {margin-bottom:1.5rem;}.footer.svelte-1ewsx3b {flex:0 0 1rem;}"};function er(e,t){ne(t,!1),oe(e,od);let r=Y(t,"viewModel",8);le();var n=ad(),i=_$1(n);{var a=d=>{id(d,{get sections(){return T(r()),b$1(()=>r().sections)}})};A(i,d=>{T(r()),b$1(()=>r().kind==="")&&d(a)})}var u=E(i,2);ve(u,1,()=>(T(r()),b$1(()=>r().sections)),fe,(d,m)=>{var g=nd(),x=_$1(g);Qc(x,{get viewModel(){return f$1(m)},$$events:{command(R){We.call(this,t,R)}}}),H(()=>Ps(g,"id",(f$1(m),b$1(()=>f$1(m).header.rowKey)))),$(d,g)}),$(e,n),ae()}var ld=P('<td class="plot svelte-t7dc3f"><!></td>'),cd=P('<td> </td> <td class="svelte-t7dc3f"><div class="cell svelte-t7dc3f"><div class="value svelte-t7dc3f"> </div> <div class="change svelte-t7dc3f"></div></div></td> <td class="svelte-t7dc3f"><div class="cell svelte-t7dc3f"><div class="value svelte-t7dc3f"> </div> <div class="change svelte-t7dc3f"></div></div></td> <td class="svelte-t7dc3f"><div class="cell svelte-t7dc3f"><div class="value svelte-t7dc3f"> </div> <div class="change svelte-t7dc3f"> </div></div></td> <td class="svelte-t7dc3f"><div class="cell svelte-t7dc3f"><div class="value svelte-t7dc3f"> </div> <div class="change svelte-t7dc3f"> </div></div></td> <td class="svelte-t7dc3f"><div class="cell svelte-t7dc3f"><div class="value svelte-t7dc3f"> </div> <div class="change svelte-t7dc3f"> </div></div></td> <td class="svelte-t7dc3f"><div class="cell dim svelte-t7dc3f"><div class="value svelte-t7dc3f"> </div> <div class="change svelte-t7dc3f"></div></div></td> <td class="svelte-t7dc3f"><div class="cell dim svelte-t7dc3f"><div class="value svelte-t7dc3f"> </div> <div class="change svelte-t7dc3f"></div></div></td> <!>',1);const dd={hash:"svelte-t7dc3f",code:"td.svelte-t7dc3f {padding:0;height:1.8rem;}.name.svelte-t7dc3f {padding-right:3rem;max-width:20rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.row-header {color:#aaa;}.cell.svelte-t7dc3f {display:flex;width:100%;flex-direction:row;align-items:baseline;font-family:monospace;}.cell.dim.svelte-t7dc3f {color:#777;}.value.svelte-t7dc3f {flex:1;padding-right:0.4rem;text-align:right;}.change.svelte-t7dc3f {flex:1;padding-left:0.4rem;text-align:left;font-size:0.8em;}.plot.svelte-t7dc3f {width:12rem;padding-left:2rem;padding-right:2rem;cursor:pointer;}"};function tr(e,t){ne(t,!1),oe(e,dd);let r=Y(t,"viewModel",8);const n=r().datasetClassIndex,i=n!==void 0?`dataset-color-${n}`:"row-header",a=n!==void 0?`dataset-bg-${n}`:"",u=Rt();function d(){u("command",{cmd:"show-perf"})}le();var m=cd(),g=J(m),x=_$1(g),R=E(g,2),O=_$1(R),q=_$1(O),B=_$1(q),F=E(R,2),D=_$1(F),V=_$1(D),j=_$1(V),K=E(F,2),Q=_$1(K),z=_$1(Q),G=_$1(z),re=E(z,2),de=_$1(re),Oe=E(K,2),Ve=_$1(Oe),wt=_$1(Ve),Mt=_$1(wt),mn=E(wt,2),bn=_$1(mn),$n=E(Oe,2),Rn=_$1($n),wn=_$1(Rn),gn=_$1(wn),Sn=E(wn,2),Je=_$1(Sn),Le=E($n,2),ct=_$1(Le),ze=_$1(ct),_e=_$1(ze),Re=E(Le,2),$t=_$1(Re),Mn=_$1($t),Dn=_$1(Mn),is=E(Re,2);{var $s=at=>{var _t=ld(),yn=_$1(_t);vr(yn,{get viewModel(){return T(r()),b$1(()=>r().dotPlot)},get colorClass(){return a}}),pe("click",_t,d),$(at,_t)};A(is,at=>{T(r()),b$1(()=>r().dotPlot)&&at($s)})}H(()=>{xe(g,1,`name ${i}`,"svelte-t7dc3f"),W(x,(T(r()),b$1(()=>r().modelName))),W(B,(T(r()),b$1(()=>r().inputs))),W(j,(T(r()),b$1(()=>r().outputs))),W(G,(T(r()),b$1(()=>r().modelSize))),W(de,(T(r()),b$1(()=>r().modelSizePctChange))),W(Mt,(T(r()),b$1(()=>r().dataSize))),W(bn,(T(r()),b$1(()=>r().dataSizePctChange))),W(gn,(T(r()),b$1(()=>r().avgTime))),W(Je,(T(r()),b$1(()=>r().avgTimePctChange))),W(_e,(T(r()),b$1(()=>r().minTime))),W(Dn,(T(r()),b$1(()=>r().maxTime)))}),$(e,m),ae()}var ud=P('<table class="header svelte-183yv7e"><thead><tr><th class="svelte-183yv7e"></th><th class="svelte-183yv7e">inputs</th><th class="svelte-183yv7e">outputs</th><th class="svelte-183yv7e">model size (bytes)</th><th class="svelte-183yv7e">data size (bytes)</th><th class="svelte-183yv7e">avg time (ms)</th><th class="dim svelte-183yv7e">min time (ms)</th><th class="dim svelte-183yv7e">max time (ms)</th><th class="svelte-183yv7e"></th></tr></thead><tbody><tr><!></tr><tr><!></tr><tr><!></tr></tbody></table>');const fd={hash:"svelte-183yv7e",code:"table.svelte-183yv7e {border-collapse:collapse;}th.svelte-183yv7e {color:#aaa;text-align:left;font-family:Roboto;font-weight:500;}th.dim.svelte-183yv7e {color:#555;}th.svelte-183yv7e:nth-child(2), th.svelte-183yv7e:nth-child(3) {width:6rem;}th.svelte-183yv7e:nth-child(4), th.svelte-183yv7e:nth-child(5) {width:10rem;}th.svelte-183yv7e:nth-child(6) {width:8rem;}th.svelte-183yv7e:nth-child(7), th.svelte-183yv7e:nth-child(8) {width:8rem;}"};function vd(e,t){ne(t,!1),oe(e,fd);let r=Y(t,"viewModel",8);le();var n=ud(),i=E(_$1(n)),a=_$1(i),u=_$1(a);tr(u,{get viewModel(){return T(r()),b$1(()=>r().row1)},$$events:{command(R){We.call(this,t,R)}}});var d=E(a),m=_$1(d);tr(m,{get viewModel(){return T(r()),b$1(()=>r().row2)},$$events:{command(R){We.call(this,t,R)}}});var g=E(d),x=_$1(g);tr(x,{get viewModel(){return T(r()),b$1(()=>r().row3)},$$events:{command(R){We.call(this,t,R)}}}),$(e,n),ae()}var hd=P('<div><div class="tab-title svelte-6ugrco"> </div> <div> </div></div>'),pd=P('<div class="tab-bar svelte-6ugrco"></div>');const md={hash:"svelte-6ugrco",code:".tab-bar.svelte-6ugrco {position:sticky;top:0;display:flex;flex-direction:row;gap:3rem;background-color:#272727;z-index:1000;margin:0 -1rem;padding:0 1rem;box-shadow:0 1rem 0.5rem -0.5rem rgba(0, 0, 0, 0.8);}.tab-item.svelte-6ugrco {display:flex;flex-direction:column;padding:0.5rem 3rem 0.3rem 0;cursor:pointer;opacity:0.7;border-bottom:solid 1px transparent;}.tab-item.svelte-6ugrco:hover {opacity:1;}.tab-item.selected.svelte-6ugrco {opacity:1;border-bottom:solid 1px #555;}.tab-title.svelte-6ugrco {font-size:1.6rem;font-weight:700;color:#fff;margin-bottom:0.2rem;cursor:pointer;}.tab-subtitle.svelte-6ugrco {font-size:1rem;font-weight:400;}"};function gd(e,t){ne(t,!1),oe(e,md);const r=()=>be(u,"$selectedItemId",n),[n,i]=He();let a=Y(t,"viewModel",8);const u=a().selectedItemId,d=Rt();function m(R){a().selectedIndex.set(R)}function g(R){R.key==="ArrowLeft"?(a().selectedIndex.update(O=>O>0?O-1:O),R.preventDefault()):R.key==="ArrowRight"?(a().selectedIndex.update(O=>O<a().items.length-1?O+1:O),R.preventDefault()):R.key==="ArrowDown"&&(d("command",{cmd:"enter-tab",itemId:r()}),R.preventDefault())}le();var x=pd();pe("keydown",us,g),ve(x,5,()=>(T(a()),b$1(()=>a().items)),fe,(R,O,q)=>{var B=hd();let F;var D=_$1(B),V=_$1(D),j=E(D,2),K=_$1(j);H(Q=>{F=xe(B,1,"tab-item svelte-6ugrco",null,F,Q),W(V,(f$1(O),b$1(()=>f$1(O).title))),xe(j,1,(f$1(O),b$1(()=>`tab-subtitle ${f$1(O).subtitleClass}`)),"svelte-6ugrco"),W(K,(f$1(O),b$1(()=>f$1(O).subtitle)))},[()=>({selected:f$1(O).id===r()})]),pe("click",B,()=>m(q)),$(R,B)}),$(e,x),ae(),i()}var _d=P('<div class="header-container svelte-3dzbgn"><!></div> <div class="line svelte-3dzbgn"></div>',1),wd=P('<div class="summary-container svelte-3dzbgn"><div class="scroll-container svelte-3dzbgn"><!> <!> <!></div></div>');const bd={hash:"svelte-3dzbgn",code:".summary-container.svelte-3dzbgn {display:flex;flex-direction:column;flex:1;}.scroll-container.svelte-3dzbgn {position:relative;display:flex;flex:1 1 1px;flex-direction:column;padding:0 1rem;overflow:auto;}.header-container.svelte-3dzbgn {margin-bottom:1rem;}.line.svelte-3dzbgn {min-height:1px;margin-bottom:0.5rem;background-color:#555;}"};function yd(e,t){ne(t,!1),oe(e,bd);const r=()=>be(u,"$selectedTabId",n),[n,i]=He();let a=Y(t,"viewModel",8);const u=a().tabBarViewModel.selectedItemId;le();var d=wd(),m=_$1(d),g=_$1(m);{var x=F=>{var D=_d(),V=J(D),j=_$1(V);vd(j,{get viewModel(){return T(a()),b$1(()=>a().statsTableViewModel)},$$events:{command(K){We.call(this,t,K)}}}),$(F,D)};A(g,F=>{T(a()),b$1(()=>a().statsTableViewModel)&&F(x)})}var R=E(g,2);gd(R,{get viewModel(){return T(a()),b$1(()=>a().tabBarViewModel)},$$events:{command(F){We.call(this,t,F)}}});var O=E(R,2);{var q=F=>{jc(F,{get viewModel(){return T(a()),b$1(()=>a().checkSummaryViewModel)}})},B=F=>{var D=ge(),V=J(D);{var j=Q=>{er(Q,{get viewModel(){return T(a()),b$1(()=>a().comparisonViewsSummaryViewModel)},$$events:{command(z){We.call(this,t,z)}}})},K=Q=>{var z=ge(),G=J(z);{var re=Oe=>{er(Oe,{get viewModel(){return T(a()),b$1(()=>a().comparisonsByScenarioSummaryViewModel)},$$events:{command(Ve){We.call(this,t,Ve)}}})},de=Oe=>{var Ve=ge(),wt=J(Ve);{var Mt=mn=>{er(mn,{get viewModel(){return T(a()),b$1(()=>a().comparisonsByDatasetSummaryViewModel)},$$events:{command(bn){We.call(this,t,bn)}}})};A(wt,mn=>{r()==="comps-by-dataset"&&mn(Mt)},!0)}$(Oe,Ve)};A(G,Oe=>{r()==="comps-by-scenario"?Oe(re):Oe(de,!1)},!0)}$(Q,z)};A(V,Q=>{r()==="comp-views"?Q(j):Q(K,!1)},!0)}$(F,D)};A(O,F=>{r()==="checks"?F(q):F(B,!1)})}$(e,d),ae(),i()}var xd=P('<div class="progress-container svelte-1nkjba2"><div class="progress"> </div></div>'),kd=P('<div class="app-container svelte-1nkjba2"><!> <!></div>'),Sd=P('<div class="loading-container svelte-1nkjba2"></div>');const Rd={hash:"svelte-1nkjba2",code:".app-container.svelte-1nkjba2 {display:flex;flex-direction:column;flex:1;}.loading-container.svelte-1nkjba2 {display:flex;flex-direction:column;flex:1 1 auto;align-items:center;justify-content:center;}.progress-container.svelte-1nkjba2 {display:flex;height:100vh;align-items:center;justify-content:center;font-size:2em;}"};function Md(e,t){ne(t,!1),oe(e,Rd);const r=()=>be(R,"$zoom",a),n=()=>be(g,"$checksInProgress",a),i=()=>be(x,"$progress",a),[a,u]=He(),d=X();let m=Y(t,"viewModel",8);const g=m().checksInProgress,x=m().progress,R=m().headerViewModel.zoom;let O=X(),q=X(),B=X("summary");const F=new In("Roboto Condensed",{weight:400});let D=X(!1);F.load().then(()=>{N(D,!0)});let V=X(!1);function j(){N(O,void 0),N(B,"summary")}function K(re){const de=re.detail,Oe=de.cmd;switch(Oe){case"show-summary":j();break;case"enter-tab":if(de.itemId!=="checks"){let Ve;switch(de.itemId){case"comp-views":Ve="views";break;case"comps-by-scenario":Ve="by-scenario";break;case"comps-by-dataset":Ve="by-dataset";break;default:return}const wt=m().createCompareDetailViewModelForFirstSummaryRow(Ve);wt&&(N(O,wt),N(B,"comparison-detail"))}break;case"show-comparison-detail":N(O,m().createCompareDetailViewModelForSummaryRow(de.summaryRow)),N(B,"comparison-detail");break;case"show-comparison-detail-for-previous":case"show-comparison-detail-for-next":{const Ve=Oe==="show-comparison-detail-for-previous"?-1:1,wt=m().createCompareDetailViewModelForSummaryRowWithDelta(de.kind,de.summaryRowKey,Ve);wt&&(N(O,wt),N(B,"comparison-detail"));break}case"show-perf":f$1(q)||N(q,m().createPerfViewModel()),N(B,"perf");break;default:console.error(`ERROR: Unhandled command ${Oe}`);break}}function Q(re){if(!(re.altKey||re.ctrlKey||re.metaKey||re.shiftKey||re.isComposing))switch(re.key){case"c":m().headerViewModel.controlsVisible.update(de=>!de),re.preventDefault();break;case"h":j(),re.preventDefault();break}}Pe(()=>r(),()=>{N(d,`--graph-zoom: ${r()}`)}),Pe(()=>(f$1(D),T(m())),()=>{f$1(D)&&(N(V,!0),m().runTestSuite())}),je(),le();var z=ge();pe("keydown",us,Q);var G=J(z);Xa(G,()=>f$1(V),re=>{var de=Sd();$(re,de)},re=>{var de=kd(),Oe=_$1(de);dc(Oe,{get viewModel(){return T(m()),b$1(()=>m().headerViewModel)},$$events:{command:K}});var Ve=E(Oe,2);{var wt=mn=>{var bn=xd(),$n=_$1(bn),Rn=_$1($n);H(()=>W(Rn,i())),$(mn,bn)},Mt=mn=>{var bn=ge(),$n=J(bn);{var Rn=gn=>{Ol(gn,{get viewModel(){return f$1(O)},$$events:{command:K}})},wn=gn=>{var Sn=ge(),Je=J(Sn);{var Le=ze=>{bc(ze,{get viewModel(){return f$1(q)},$$events:{command:K}})},ct=ze=>{yd(ze,{get viewModel(){return T(m()),b$1(()=>m().summaryViewModel)},$$events:{command:K}})};A(Je,ze=>{f$1(B)==="perf"?ze(Le):ze(ct,!1)},!0)}$(gn,Sn)};A($n,gn=>{f$1(B)==="comparison-detail"?gn(Rn):gn(wn,!1)},!0)}$(mn,bn)};A(Ve,mn=>{n()?mn(wt):mn(Mt,!1)})}H(()=>ke(de,f$1(d))),$(re,de)}),$(e,z),ae(),u()}function $d(e,t){let r=Y(t,"appViewModel",8);var n=ge(),i=J(n);{var a=u=>{Md(u,{get viewModel(){return r()}})};A(i,u=>{r()&&u(a)})}$(e,n)}function Id(e,t){const r=localStorage.getItem(e);let n;if(r!==null){const m=parseFloat(r);n=isNaN(m)?t:m}else n=t;let i=n;const{subscribe:a,set:u}=he(n),d=m=>{i=m,localStorage.setItem(e,m.toString()),u(m)};return{subscribe:a,set:d,update:m=>{d(m(i))}}}function si(e,t){const r=localStorage.getItem(e);let n;r!==null?n=r==="1":n=t;let i=n;const{subscribe:a,set:u}=he(n),d=m=>{i=m,localStorage.setItem(e,m?"1":"0"),u(m)};return{subscribe:a,set:d,update:m=>{d(m(i))}}}class sr{constructor(){this.itemStates=new Map,this.writableOrderedKeys=he([]),this.orderedKeys=this.writableOrderedKeys}getPinned(t){return os(t),this.getWritableItemState(t)}getWritableItemState(t){os(t);let r=this.itemStates.get(t);return r===void 0&&(r=he(!1),this.itemStates.set(t,r)),r}toggleItemPinned(t){os(t);const r=this.getWritableItemState(t);ft(r)?(r.set(!1),this.removePinnedItem(t)):(r.set(!0),this.addPinnedItem(t))}addPinnedItem(t){this.writableOrderedKeys.update(r=>(r.push(t),r))}removePinnedItem(t){this.writableOrderedKeys.update(r=>{const n=r.findIndex(i=>i===t);return n>=0&&r.splice(n,1),r})}moveItemToTop(t){os(t),this.writableOrderedKeys.update(r=>{const n=r.findIndex(i=>i===t);return n>=0&&(r.splice(n,1),r.unshift(t)),r})}setItemOrder(t){t.forEach(os),this.writableOrderedKeys.set(t)}}function os(e){if(e.startsWith("pinned_"))throw new Error(`PinnedItemState expects regular keys but got ${e}`)}function Dd(){return{pinnedDatasets:new sr,pinnedScenarios:new sr,pinnedFreeformRows:new sr}}function ln(e,t,r){const n=[];return e.outputVarL&&e.outputVarR?e.outputVarR.varName!==e.outputVarL.varName&&n.push(Ct("warn",`variable renamed, previously '${e.outputVarL.varName}'`)):e.outputVarL!==void 0?n.push(Ct("warn",`variable only defined in ${Lt(t,"left")}`)):e.outputVarR!==void 0&&n.push(Ct("warn",`variable only defined in ${Lt(r,"right")}`)),n}function cn(e,t,r){const n=[];if(e.settings.kind==="all-inputs-settings")return[];const i=[],a=[],u=[];for(const g of e.settings.inputs){const x=g.stateL.error?.kind,R=g.stateR.error?.kind,O=x==="unknown-input-setting-group",q=R==="unknown-input-setting-group",B=x==="unknown-input",F=R==="unknown-input",D=x==="invalid-value",V=R==="invalid-value";if(O||q){const j={requestedName:g.requestedName,kind:"unknown-input-setting-group"};O&&q?i.push(j):O?a.push(j):q&&u.push(j)}if(B||F){const j={requestedName:g.requestedName,kind:"unknown-input"};B&&F?i.push(j):B?a.push(j):F&&u.push(j)}if(D||V){const j={requestedName:g.requestedName,kind:"invalid-value"};D&&V?i.push(j):D?a.push(j):V&&u.push(j)}}function d(g,x){const R=g.filter(O=>O.kind===x).map(O=>`'${O.requestedName}'`);if(R.length!==0)return x==="unknown-input"?`unknown ${R.length===1?"input":"inputs"} ${R.join(", ")}`:x==="unknown-input-setting-group"?`unknown input setting group ${R[0]}`:`value out of range for ${R.join(", ")}`}function m(g){return[d(g,"unknown-input-setting-group"),d(g,"unknown-input"),d(g,"invalid-value")].filter(x=>x!==void 0).join("; ")}if(i.length>0&&n.push(Ct("err",`invalid scenario: ${m(i)}`)),a.length>0){const g=`scenario not valid in ${Lt(t,"left")}`;n.push(Ct("warn",`${g}: ${m(a)}`))}if(u.length>0){const g=`scenario not valid in ${Lt(r,"right")}`;n.push(Ct("warn",`${g}: ${m(u)}`))}return e.settings.settingsDiffer===!0&&n.push(Ct("warn","input settings differ between the two models")),n}function Ct(e,t){return`<span class="annotation"><span class="${`status-color-${e==="err"?"failed":"warning"}`}">${e==="err"?"":""}</span>&ensp;${t}</span>`}function Cd(e,t,r){const n=new Map;for(const i of t){const a=e.scenarios.getScenario(i.s);if(a===void 0)continue;let u,d;switch(r){case"dataset":{const x=e.datasets.getDataset(i.d);if(x===void 0)continue;const R=x.outputVarR||x.outputVarL;u=R.varName,d=R.sourceName;break}case"scenario":{u=a.title,d=a.subtitle;break}default:assertNeverExports$1.assertNever(r)}let m=n.get(u);m===void 0&&(m={title:u,score:0,items:[]},n.set(u,m));const g={title:u,subtitle:d,scenario:a,testSummary:i};m.items.push(g),m.score+=g.testSummary.md}return[...n.values()].sort((i,a)=>i.score>a.score?-1:i.score<a.score?1:0)}function dn(e,t,r,n,i){const a=(q,B)=>new sn(e,t,B,r,q),u=e.bundleL.model.modelSpec.graphSpecs?.find(q=>q.id===n),d=e.bundleR.model.modelSpec.graphSpecs?.find(q=>q.id===n),m=a(u,"left"),g=a(d,"right"),x=new Set;if(u)for(const q of u.datasets)x.add(q.datasetKey);if(d)for(const q of d.datasets)x.add(q.datasetKey);const R=[];let O=0;if(i.inclusion==="both")for(const q of x){const B=u?.datasets?.find(Ve=>Ve.datasetKey===q),F=d?.datasets?.find(Ve=>Ve.datasetKey===q),D=B?.varName,V=F?.varName,j=B?.color||"#777",K=F?.color||"#777",Q=B?.label,z=F?.label,G=i.datasetReports.find(Ve=>Ve.datasetKey===q);let re=0;if(G){if(G.maxDiff===void 0||G.maxDiff===0)continue;re=G.maxDiff,re>O&&(O=re)}const de=`bucket-color-${Dr(re,e.thresholds)}`,Oe=new rn(e,t,"freeform","","",r,q,void 0);R.push({datasetKey:q,nameL:D,nameR:V,legendColorL:j,legendColorR:K,legendLabelL:Q,legendLabelR:z,bucketClass:de,maxDiff:re,detailBoxViewModel:Oe,detailBoxVisible:he(!1)})}return{graphId:n,graphL:m,graphR:g,metadataRows:i.metadataReports,datasetRows:R,maxDiffPct:O}}function Td(e,t,r){return{kind:"freeform-view",summaryRowKey:e,pretitle:t?.title,title:"Unresolved view",annotations:void 0,relatedListHeader:"",relatedItems:[],graphSections:[],regularDetailRows:[],pinnedDetailRows:he([]),pinnedItemState:void 0}}function Ed(e,t,r,n,i,a,u){const d=[];for(const g of a.rows||[]){const x=[];for(const O of g.boxes){const q={title:O.title,subtitle:O.subtitle,scenario:O.scenario,testSummary:{d:O.dataset.key,s:O.scenario.key,md:0}};x.push(q)}const R=ps(t,r,n,"freeform",g.title,g.subtitle,x);d.push(R)}const m=ht(u.orderedKeys,g=>{const x=[];for(const R of g)if(R.startsWith("row")){const O=d.find(q=>q.pinnedItemKey===R);O&&x.push(Cr(t,r,n,O))}return x});return{kind:"freeform-view",summaryRowKey:e,pretitle:i?.title,title:a.title,subtitle:a.subtitle,annotations:void 0,relatedListHeader:"",relatedItems:[],graphSections:[],regularDetailRows:d,pinnedDetailRows:m,pinnedItemState:u}}function Pd(e,t,r,n,i,a){const u=t.bundleL.name,d=t.bundleR.name,m=i.root,g=m.outputVarR||m.outputVarL,x=g.varName,R=g.sourceName,O=ln(m,u,d).join(" "),q=[];function B(K){const Q=K.join('&nbsp;<span class="related-sep">&gt;</span>&nbsp;');q.push(Q)}if(g.relatedItems)for(const K of g.relatedItems)B(K.locationPath);let F=Cd(t,i.group.testSummaries,"scenario");if(t.reportOptions?.detailRowsForDataset)F=t.reportOptions.detailRowsForDataset(F);else{let K;const Q=F.findIndex(z=>z.title==="All inputs");if(Q>=0){const z=F.splice(Q,1)[0];K=z.items.find(G=>{const re=G.scenario.settings;return re.kind==="all-inputs-settings"&&re.position==="at-default"}),F.unshift(z)}K&&(K.title="at default",K.subtitle=void 0);for(const z of F.slice(1)){for(const G of z.items)G.title=`${G.subtitle}`,G.subtitle=void 0;z.items[0]!==K&&z.items.unshift(K)}}const D=[];for(const K of F){const Q=ps(t,r,n,"scenarios",K.title,K.subtitle,K.items);D.push(Q)}function V(K){for(const Q of F)for(const z of Q.items)if(z.scenario.key===K)return[Q.title,z]}const j=ht(a.orderedKeys,K=>{const Q=[];for(const z of K)if(z.startsWith("row")){const G=D.find(re=>re.pinnedItemKey===z);G&&Q.push(Cr(t,r,n,G))}else{const G=V(z);if(G){const re=G[0],de=G[1];Q.push(ps(t,r,n,"scenarios",re,void 0,[de]))}}return Q});return{kind:"dataset",summaryRowKey:e,title:x,subtitle:R,annotations:O,relatedListHeader:"Appears in:",relatedItems:q,graphSections:[],regularDetailRows:D,pinnedDetailRows:j,pinnedItemState:a}}function Ld(e,t,r,n,i,a,u,d){const m=t.bundleL.name,g=t.bundleR.name,x=i.root,R=cn(x,m,g).join(" ");let O,q,B,F;u?(O="scenario-view",q=a?.title,B=u.title,F=u.subtitle):(O="scenario",B=x.title,F=x.subtitle);const D=[];function V(de){const Oe=de.join('&nbsp;<span class="related-sep">&gt;</span>&nbsp;');D.push(Oe)}if(x.settings.kind==="input-settings")for(const de of x.settings.inputs){const Oe=de.stateR.inputVar;Oe?.relatedItem&&V(Oe.relatedItem.locationPath)}const j=i.group.testSummaries;let K=[];for(const de of j){const Oe=t.scenarios.getScenario(de.s);if(Oe===void 0)continue;const Ve=t.datasets.getDataset(de.d);if(Ve===void 0)continue;const wt=Ve.outputVarR||Ve.outputVarL,Mt={title:wt.varName,subtitle:wt.sourceName,scenario:Oe,testSummary:de};K.push({title:"",score:de.md,items:[Mt]})}K=K.sort((de,Oe)=>{const Ve=de.items[0],wt=Oe.items[0],Mt=de.score,mn=Oe.score;if(Mt!==mn)return Mt>mn?-1:1;{const bn=Ve.title.toLowerCase(),$n=wt.title.toLowerCase();return bn.localeCompare($n)}}),t.reportOptions?.detailRowsForScenario&&(K=t.reportOptions.detailRowsForScenario(K));const Q=[];for(const de of K){const Oe=ps(t,r,n,"datasets",de.title,de.subtitle,de.items);Q.push(Oe)}function z(de){return Q.find(Oe=>Oe.items[0].testSummary.d===de)}const G=ht(d.orderedKeys,de=>{const Oe=[];for(const Ve of de){const wt=z(Ve);wt&&Oe.push(Cr(t,r,n,wt))}return Oe});let re;if(u){const de=i.group.testSummaries;re=Vd(t,r,u,de)}else re=[];return{kind:O,summaryRowKey:e,pretitle:q,title:B,subtitle:F,annotations:R,relatedListHeader:"Related items:",relatedItems:D,graphSections:re,regularDetailRows:Q,pinnedDetailRows:G,pinnedItemState:d}}function Vd(e,t,r,n){if(r.rows!==void 0)throw new Error("Graphs section is not yet supported in a freeform view");if(r.graphIds.length===0)return[];if(r.graphOrder==="grouped-by-diffs")return un(e,t,r.scenario,n,r.graphIds).sections;{const i=e.bundleL.model.modelSpec.graphSpecs,a=e.bundleR.model.modelSpec.graphSpecs,u=r.scenario,d=[];for(const m of r.graphIds){const g=i?.find(O=>O.id===m),x=a?.find(O=>O.id===m),R=diffGraphs(g,x,u.key,n);d.push(dn(e,t,u,m,R))}return[{title:"Featured graphs",rows:d}]}}function un(e,t,r,n,i){const a=[],u=[],d=[],m=[],g=[],x=[],R=e.bundleL.model.modelSpec.graphSpecs,O=e.bundleR.model.modelSpec.graphSpecs,q=Array(e.thresholds.length+2).fill(0);for(const K of i){const Q=R?.find(Ve=>Ve.id===K),z=O?.find(Ve=>Ve.id===K),G=diffGraphs(Q,z,r.key,n),re=qd(G),de=dn(e,t,r,K,G);let Oe;switch(G.inclusion){case"right-only":Oe=1,a.push(de);break;case"left-only":Oe=1,u.push(de);break;case"both":re>0?(Oe=Dr(re,e.thresholds),G.metadataReports.length>0?d.push(de):g.push(de)):G.metadataReports.length>0?(Oe=1,m.push(de)):(Oe=0,x.push(de));break;case"neither":Oe=0,x.push(de);break;default:ms$1(G.inclusion)}q[Oe]++}const B=i.length,F=B-q[0],D=q.map(K=>K/B*100),V=[];function j(K,Q,z){if(K.length>0){const G=z?K.sort((re,de)=>re.maxDiffPct>de.maxDiffPct?-1:1):K;V.push({title:Q,rows:G})}}return j(a,"Added graphs",!1),j(u,"Removed graphs",!1),j(d,"Graphs with metadata and dataset changes",!0),j(m,"Graphs with metadata changes only",!1),j(g,"Graphs with dataset changes only",!0),j(x,"Unchanged graphs",!1),{sections:V,nonZeroDiffCount:F,diffPercentByBucket:D}}function qd(e){let t=0;for(const r of e.datasetReports)r.maxDiff!==void 0&&r.maxDiff>t&&(t=r.maxDiff);return t}function Cr(e,t,r,n){return ps(e,t,r,n.kind,n.title,n.subtitle,n.items)}function Nd(e,t,r,n){const i=he(!1);if(e){const a=e.thresholds,u=[];u.push("no diff");for(let d=0;d<3;d++)u.push(`diff &lt; ${a[d]}%`);return u.push(`diff &gt;= ${a[2]}%`),{nameL:e.bundleL.name,nameR:e.bundleR.name,bundleNamesL:he([e.bundleL.name]),bundleNamesR:he([e.bundleR.name]),thresholds:u,simplifyScenarios:t,controlsVisible:i,zoom:r,consistentYRange:n}}else return{bundleNamesL:he([]),bundleNamesR:he([]),simplifyScenarios:t,controlsVisible:i,zoom:r,consistentYRange:n}}function hr(e,t,r,n){const i=r-t;function a(u){return i!==0?(u-t)/(r-t)*100:0}return{values:e,avg:n,points:e.map(u=>a(u)),avgPoint:a(n)}}class zd{constructor(t,r){this.bundleModelL=t,this.bundleModelR=r,this.minTime=Number.MAX_VALUE,this.maxTime=0,this.writableRows=he([]),this.rows=this.writableRows}addRow(t,r){const n=Math.min(t.minTime,r.minTime),i=Math.max(t.maxTime,r.maxTime),a=Math.min(this.minTime,n),u=Math.max(this.maxTime,i);this.minTime=a,this.maxTime=u;function d(x){return hr(x.values,a,u,x.avg)}const m=ft(this.writableRows);for(const x of m)x.dotPlotL=d(x.dotPlotL),x.dotPlotR=d(x.dotPlotR);function g(x){return hr(x.allTimes,a,u,x.avgTime)}m.push({num:m.length+1,minTimeL:t.minTime.toFixed(1),avgTimeL:t.avgTime.toFixed(1),maxTimeL:t.maxTime.toFixed(1),minTimeR:r.minTime.toFixed(1),avgTimeR:r.avgTime.toFixed(1),maxTimeR:r.maxTime.toFixed(1),dotPlotL:g(t),dotPlotR:g(r)}),this.writableRows.set(m)}}function Kd(e){return new zd(e.comparison.bundleL.model,e.comparison.bundleR.model)}let Ad=1;class Fd{constructor(t,r,n,i){this.dataCoordinator=t,this.scenario=r,this.datasetKey=n,this.predicateReport=i,this.requestKeys=[],this.expectedDataKeys=[],this.resolvedDataKeys=[],this.opConstantRefs=new Map,this.resolvedData=new Map,this.dataRequested=!1,this.dataLoaded=!1,this.baseRequestKey=`check-graph-box::${Ad++}`,this.writableContent=he(void 0),this.content=this.writableContent}requestData(){if(this.dataRequested)return;this.dataRequested=!0,this.expectedDataKeys=[],this.resolvedDataKeys=[],this.requestKeys=[],this.resolvedData.clear(),this.expectedDataKeys.push("primary"),this.requestDataset("primary",this.scenario.spec,this.datasetKey);const t=r=>{const n=this.predicateReport.opRefs.get(r);if(n!==void 0)switch(this.expectedDataKeys.push(r),n.kind){case"constant":this.resolvedDataKeys.push(r),this.opConstantRefs.set(r,n.value);break;case"data":{const i=n.dataRef.scenario.spec,a=n.dataRef.dataset.datasetKey;this.requestDataset(r,i,a);break}default:assertNeverExports$1.assertNever(n)}};t("gt"),t("gte"),t("lt"),t("lte"),t("eq"),t("approx")}clearData(){if(this.dataRequested){if(this.writableContent.set(void 0),!this.dataLoaded){for(const t of this.requestKeys)this.dataCoordinator.cancelRequest(t);this.requestKeys=[],this.resolvedData.clear()}this.dataRequested=!1,this.dataLoaded=!1}}requestDataset(t,r,n){const i=`${this.baseRequestKey}::${t}`;this.requestKeys.push(i),this.dataCoordinator.requestDataset(i,r,n,a=>{this.dataRequested&&(this.resolvedDataKeys.push(t),this.resolvedData.set(t,Ms(a)),this.processResponses())})}processResponses(){if(this.resolvedDataKeys.length!==this.expectedDataKeys.length)return;const t=this.resolvedData.get("primary"),r=t.reduce((F,D)=>D.x<F?D.x:F,t[0].x),n=t.reduce((F,D)=>D.x>F?D.x:F,t[0].x),i=this.predicateReport.time;let a,u,d;if(i===void 0)a=r,u=n,d=F=>F>=r&&F<=n;else if(typeof i=="number")a=i,u=i,d=F=>F===r;else if(Array.isArray(i))a=i[0],u=i[1],d=F=>F>=r&&F<=n;else{const F=i,D=[];F.after_excl!==void 0&&(D.push(V=>V>F.after_excl),a=F.after_excl),F.after_incl!==void 0&&(D.push(V=>V>=F.after_incl),a=F.after_incl),F.before_excl!==void 0&&(D.push(V=>V<i.before_excl),u=F.before_excl),F.before_incl!==void 0&&(D.push(V=>V<=i.before_incl),u=F.before_incl),a===void 0&&(a=r),u===void 0&&(u=n),d=V=>{for(const j of D)if(!j(V))return!1;return!0}}const m=[];m.push({points:t,color:"deepskyblue",style:"normal"});const g=(F,D,V=0,j)=>{const K="green";j===void 0&&(j=1);const Q=this.opConstantRefs.get(F);if(Q!==void 0){a===u?m.push({points:[{x:a,y:Q+V}],color:K,style:D,lineWidth:j}):m.push({points:[{x:a,y:Q+V},{x:u,y:Q+V}],color:K,style:D,lineWidth:j});return}const z=this.resolvedData.get(F);if(z!==void 0){let G=z.filter(re=>d(re.x));V!==0&&(G=G.map(re=>({x:re.x,y:re.y+V}))),m.push({points:G,color:K,style:D,lineWidth:j})}},x=F=>this.opConstantRefs.has(F)||this.resolvedData.has(F),R=x("gt")||x("gte"),O=x("lt")||x("lte");g("gt",O?"fill-to-next":"fill-above"),g("gte",O?"fill-to-next":"fill-above"),g("lt",R?"normal":"fill-below"),g("lte",R?"normal":"fill-below"),g("eq","normal",0,5);const q=this.predicateReport.tolerance||.1;g("approx","fill-to-next",-q),g("approx","normal",q),g("approx","dashed",0);const B={key:this.baseRequestKey,plots:m,xMin:void 0,xMax:void 0};this.writableContent.set({comparisonGraphViewModel:B}),this.dataLoaded=!0}}function jd(e){switch(e){case"passed":return"";case"failed":return"";case"error":return"";default:return""}}function bs(e,t,r,n,i,a,u){const d="&ensp;".repeat(2+e*4),m=jd(r),g=`<span class="status-color-${r}">${m}</span>`,x=`${d}${g}&ensp;${n}`;return{rowClasses:`${t} ${r}`,status:r,span:x,childRows:he([]),expanded:he(i),graphBoxViewModel:u,onClicked:a}}function Tr(e){return`<span class="bold">${e}</span>`}function fn(e,t,r,n,i){const a=r===1?`${r} ${n}`:`${r} ${n}s`;return bs(e,"placeholder",t,a,!1,i)}function Bd(e,t,r,n){const i=[];for(const a of t.predicates){let u;r.spec&&t.checkDataset.datasetKey&&(u=new Fd(n,r,t.checkDataset.datasetKey,a));const d=bs(3,"predicate",a.result.status,predicateMessage(a,Tr),!1,()=>{d.expanded.update(m=>!m)},u);i.push(d)}e.childRows.update(()=>i)}function vn(e,t,r){const n=bs(2,"dataset",e.status,datasetMessage(e,Tr),!0,()=>{n.expanded.update(i=>!i)});return Bd(n,e,t,r),n}function Od(e,t,r,n){const i=t.datasets.filter(u=>u.status===r),a=[];for(const u of i)a.push(vn(u,t.checkScenario,n));e.childRows.update(u=>{const d=u.findIndex(m=>m.rowClasses.includes("placeholder")&&m.status===r);if(d!==-1){const m=[...u];return m.splice(d,1,...a),m}else return u})}function Gd(e,t,r){if(t.datasets.length<=10){const n=[];for(const a of t.datasets)n.push(vn(a,t.checkScenario,r));const i={error:0,failed:1,passed:2};n.sort((a,u)=>i[a.status]-i[u.status]),e.childRows.update(()=>n)}else{let n=function(u,d,m){a.push(fn(2,u,d,m,()=>{Od(e,t,u,r)}))};const i={passed:0,failed:0,error:0};for(const u of t.datasets)i[u.status]++;const a=[];i.error>0&&n("error",i.error,"errored dataset"),i.failed>0&&n("failed",i.failed,"failed dataset"),i.passed>0&&n("passed",i.passed,"passed dataset"),e.childRows.update(()=>a)}}function hn(e,t){let r=!1;const n=bs(1,"scenario",e.status,scenarioMessage(e,Tr),!1,()=>{r||(Gd(n,e,t),r=!0),n.expanded.update(i=>!i)});return n}function Wd(e,t,r,n){const i=t.scenarios.filter(u=>u.status===r),a=[];for(const u of i)a.push(hn(u,n));e.childRows.update(u=>{const d=u.findIndex(m=>m.rowClasses.includes("placeholder")&&m.status===r);if(d!==-1){const m=[...u];return m.splice(d,1,...a),m}else return u})}function Yd(e,t,r){if(t.scenarios.length<=10){const n=[];for(const a of t.scenarios)n.push(hn(a,r));const i={error:0,failed:1,passed:2};n.sort((a,u)=>i[a.status]-i[u.status]),e.childRows.update(()=>n)}else{let n=function(u,d,m){a.push(fn(1,u,d,m,()=>{Wd(e,t,u,r)}))};const i={passed:0,failed:0,error:0};for(const u of t.scenarios)i[u.status]++;const a=[];i.error>0&&n("error",i.error,"errored scenario"),i.failed>0&&n("failed",i.failed,"failed scenario"),i.passed>0&&n("passed",i.passed,"passed scenario"),e.childRows.update(()=>a)}}function Ud(e,t){let r=!1;const n=bs(0,"test",t.status,t.name,!1,()=>{r||(Yd(n,t,e),r=!0),n.expanded.update(i=>!i)});return n}function Hd(e,t){return{name:t.name,tests:t.tests.map(r=>Ud(e,r))}}function Xd(e,t){let r=0,n=0,i=0;for(const d of t.groups)for(const m of d.tests)for(const g of m.scenarios){if(g.datasets.length===0){i++;continue}for(const x of g.datasets){if(x.predicates.length===0){i++;continue}for(const R of x.predicates)switch(R.result.status){case"passed":r++;break;case"failed":n++;break;case"error":i++;break}}}const a=r+n+i;let u;return a>0&&(u=[r/a*100,n/a*100,i/a*100]),{total:a,passed:r,failed:n,errors:i,percents:u,groups:t.groups.map(d=>Hd(e,d))}}class ri{constructor(t,r,n,i){this.pinnedItemState=t,this.itemKind=r,this.sections=n,this.rowsWithDiffs=i,this.kind="by-item";const a=[];for(const u of n)a.push(...u.rows);this.regularRows=a,this.pinnedRows=ht(t.orderedKeys,u=>{const d=[];for(const m of u){if(m.startsWith("row"))continue;const g=this.regularRows.find(x=>x.itemKey===m);if(g===void 0)throw new Error(`No regular row found for key=${m}`);d.push({...g,rowKey:`pinned_${g.itemKey}`})}return d}),this.allRows=ht(this.pinnedRows,u=>[...u,...this.regularRows])}toggleItemPinned(t){this.pinnedItemState.toggleItemPinned(t.itemKey)}setReorderedPinnedItems(t){this.pinnedItemState.setItemOrder(t.map(r=>r.itemKey))}}function Zd(e,t,r){const n=e.bundleL.name,i=e.bundleR.name,a=categorizeComparisonTestSummaries(e,r),u=a.allTestSummaries,d=a.byScenario,m=a.byDataset;let g=1;function x(){return`view_${g++}`}let R=1;function O(){return`header_${R++}`}let q=1;function B(wn){return`row_${q++}_${wn}`}function F(wn,gn){const Sn=wn.scenario,Je=d.allGroupSummaries.get(Sn.key);let Le,ct;if(wn.graphOrder==="grouped-by-diffs"){const _e=Je.group.testSummaries,Re=un(e,void 0,Sn,_e,wn.graphIds);Le=Re.diffPercentByBucket,ct=Re.nonZeroDiffCount}else Le=Je.scores?.diffPercentByBucket;const ze=x();return{kind:"views",rowKey:B(ze),itemKey:ze,title:wn.title,subtitle:wn.subtitle,diffPercentByBucket:Le,groupSummary:Je,viewMetadata:{viewGroup:gn,view:wn,changedGraphCount:ct}}}function D(wn,gn){const Sn=[];for(const ct of wn.rows)for(const ze of ct.boxes){const _e=u.find(Re=>Re.d===ze.dataset.key&&Re.s===ze.scenario.key);_e&&Sn.push(_e)}const Je=getScoresForTestSummaries(Sn,e.thresholds).diffPercentByBucket,Le=x();return{kind:"views",rowKey:B(Le),itemKey:Le,title:wn.title,subtitle:wn.subtitle,diffPercentByBucket:Je,viewMetadata:{viewGroup:gn,view:wn}}}let V=0;const j=[];for(const wn of e.viewGroups){const gn={kind:"views",rowKey:O(),title:wn.title,header:!0},Sn=wn.views.map(Je=>{switch(Je.kind){case"view":{let Le;return Je.scenario?Le=F(Je,wn):Le=D(Je,wn),Hr(Le.diffPercentByBucket)&&V++,Le}case"unresolved-view":{V++;const Le=x();return{kind:"views",rowKey:B(Le),itemKey:Le,title:"Unresolved view",viewMetadata:{viewGroup:wn,view:Je}}}default:assertNeverExports$1.assertNever(Je)}});j.push({header:gn,rows:Sn,rowsWithDiffs:0,expanded:he(!0)})}function K(wn){let gn,Sn,Je,Le;const ct=wn.groupSummary,ze=ct.root;switch(ze.kind){case"dataset":{gn="by-dataset";const $t=ze.outputVarR||ze.outputVarL;Sn=wn.title||$t.varName,Je=wn.subtitle||$t.sourceName,Le=ln(ze,n,i).join(" ");break}case"scenario":gn="by-scenario",Sn=wn.title||ze.title,Je=wn.subtitle||ze.subtitle,Le=cn(ze,n,i).join(" ");break;default:assertNeverExports$1.assertNever(ze)}const _e=ct.group.key,Re=B(_e);return{kind:gn,rowKey:Re,itemKey:_e,title:Sn,subtitle:Je,annotations:Le,diffPercentByBucket:ct.scores?.diffPercentByBucket,groupSummary:ct}}function Q(wn,gn,Sn,Je){if(gn.length===0)return;const Le=gn.map(K),ct=Le.filter(_e=>Hr(_e.diffPercentByBucket)).length;let ze;switch(Je){case"collapsed":ze=!1;break;case"expanded":ze=!0;break;case"expanded-if-diffs":default:ze=ct>0;break}return{header:{kind:wn,rowKey:O(),title:Sn,header:!0},rows:Le,rowsWithDiffs:ct,expanded:he(ze)}}const z=Lt(n,"left"),G=Lt(i,"right"),re=[];function de(wn,gn,Sn){const Je=Q("by-scenario",wn,gn,Sn);Je&&re.push(Je)}function Oe(wn,gn){const Sn=wn.map(Je=>({groupSummary:Je}));de(Sn,gn,"expanded-if-diffs")}if(e.reportOptions?.summarySectionsForComparisonsByScenario){const wn=e.reportOptions.summarySectionsForComparisonsByScenario(d);for(const gn of wn)de(gn.rows,gn.headerText,gn.initialState)}else Oe(d.withErrors,"Scenarios with errors"),Oe(d.onlyInLeft,`Scenarios only valid in ${z}`),Oe(d.onlyInRight,`Scenarios only valid in ${G}`),Oe(d.withDiffs,"Scenarios producing differences"),Oe(d.withoutDiffs,"No differences produced by the following scenarios");const Ve=[];function wt(wn,gn,Sn){const Je=Q("by-dataset",wn,gn,Sn);Je&&Ve.push(Je)}function Mt(wn,gn){const Sn=wn.map(Je=>({groupSummary:Je}));wt(Sn,gn,"expanded-if-diffs")}if(e.reportOptions?.summarySectionsForComparisonsByDataset){const wn=e.reportOptions.summarySectionsForComparisonsByDataset(m);for(const gn of wn)wt(gn.rows,gn.headerText,gn.initialState)}else Mt(m.withErrors,"Datasets with errors"),Mt(m.onlyInLeft,"Removed datasets"),Mt(m.onlyInRight,"Added datasets"),Mt(m.withDiffs,"Datasets with differences"),Mt(m.withoutDiffs,"No differences detected for the following datasets");let mn;if(j.length>0){const wn=[];for(const gn of j)wn.push(...gn.rows);mn={kind:"views",allRows:he(wn),rowsWithDiffs:V,sections:j}}function bn(wn){const gn=wn.withoutDiffs?.length||0;return wn.allGroupSummaries.size-gn}const $n=new ri(t.pinnedScenarios,"scenario",re,bn(d)),Rn=new ri(t.pinnedDatasets,"dataset",Ve,bn(m));return{views:mn,byScenario:$n,byDataset:Rn}}function Jd(e,t,r){function n(Je,Le=0){return Je===0?"-":`${Je<=0?"":"+"}${Je.toFixed(Le)}`}function i(Je){return Je===0?"":`${n(Je,1)}%`}function a(Je,Le){return Je!==0?(Le-Je)/Je*100:0}const u=e.bundleL.model.modelSpec,d=e.bundleR.model.modelSpec,m=u.inputVars.size,g=d.inputVars.size,x=g-m,R=u.outputVars.size,O=d.outputVars.size,q=O-R,B=u.modelSizeInBytes,F=d.modelSizeInBytes,D=F-B,V=a(B,F),j=u.dataSizeInBytes,K=d.dataSizeInBytes,Q=K-j,z=a(j,K),G=t.avgTime||0,re=r.avgTime||0,de=re-G,Oe=a(G,re),Ve=t.minTime,wt=r.minTime,Mt=t.maxTime,mn=r.maxTime,bn=Math.min(Ve,wt),$n=Math.max(Mt,mn);function Rn(Je){return hr(Je.allTimes,bn,$n,Je.avgTime)}const wn={modelName:e.bundleL.name,datasetClassIndex:0,inputs:m.toString(),outputs:R.toString(),modelSize:B.toString(),modelSizePctChange:"",dataSize:j.toString(),dataSizePctChange:"",avgTime:G.toFixed(1),avgTimePctChange:"",minTime:Ve.toFixed(1),maxTime:Mt.toFixed(1),dotPlot:Rn(t)},gn={modelName:e.bundleR.name,datasetClassIndex:1,inputs:g.toString(),outputs:O.toString(),modelSize:F.toString(),modelSizePctChange:"",dataSize:K.toString(),dataSizePctChange:"",avgTime:re.toFixed(1),avgTimePctChange:"",minTime:wt.toFixed(1),maxTime:mn.toFixed(1),dotPlot:Rn(r)},Sn={modelName:"Change",inputs:n(x),outputs:n(q),modelSize:n(D),modelSizePctChange:i(V),dataSize:n(Q),dataSizePctChange:i(z),avgTime:n(de,1),avgTimePctChange:i(Oe),minTime:"",maxTime:""};return{row1:wn,row2:gn,row3:Sn}}class Qd{constructor(t,r){this.items=t,this.selectedIndex=he(r),this.selectedItem=ht(this.selectedIndex,n=>t[n]),this.selectedItemId=ht(this.selectedItem,n=>n.id)}}function ii(e,t,r,n,i){function a(D,V){if(D===0)return["all clear","passed"];{const j=D===1?V:`${V}s`;return[`${D} ${j} with diffs`,"warning"]}}const u=[];function d(D,V,j){u.push({id:D,title:V,subtitle:j[0],subtitleClass:`status-color-${j[1]}`})}const m=Xd(e,t);let g;if(m.total===0)g=["no checks","none"];else if(m.failed>0||m.errors>0){const D=[];m.failed>0&&D.push(`${m.failed} failed`),m.errors>0&&(m.errors===1?D.push(`${m.errors} error`):D.push(`${m.errors} errors`)),g=[D.join(", "),"failed"]}else g=["all clear","passed"];d("checks","Checks",g);let x,R,O,q;if(r&&n){x=Jd(r,n.perfReportL,n.perfReportR);const D=Zd(r,i,n.testSummaries);if(D.views){R=D.views;let K,Q=0;for(const z of ft(D.views.allRows)){const G=z.viewMetadata?.view;G?.kind==="view"&&G.graphOrder==="grouped-by-diffs"&&(Q+=z?.viewMetadata?.changedGraphCount||0)}Q>0?K=a(Q,"graph"):K=a(R.rowsWithDiffs,"view"),d("comp-views","Comparison views",K)}O=D.byScenario;const V=a(O.rowsWithDiffs,"scenario");d("comps-by-scenario","Comparisons by scenario",V),q=D.byDataset;const j=a(q.rowsWithDiffs,"dataset");d("comps-by-dataset","Comparisons by dataset",j)}const B=u.findIndex(D=>D.subtitle!=="all clear"),F=new Qd(u,B>=0?B:0);return{statsTableViewModel:x,tabBarViewModel:F,checkSummaryViewModel:m,comparisonViewsSummaryViewModel:R,comparisonsByScenarioSummaryViewModel:O,comparisonsByDatasetSummaryViewModel:q}}class eu{constructor(t,r){this.appModel=t,this.suiteSummary=r,this.writableChecksInProgress=he(!0),this.checksInProgress=this.writableChecksInProgress,this.writableProgress=he("0%"),this.progress=this.writableProgress;let n;r===void 0?n=si("sde-check-simplify-scenarios",!1):n=void 0;const i=Id("sde-check-graph-zoom",1),a=si("sde-check-consistent-y-range",!1);this.userPrefs={zoom:i,consistentYRange:a},this.headerViewModel=Nd(t.config.comparison,n,i,a),this.pinnedItemStates=Dd()}runTestSuite(){this.cancelRunSuite&&(this.cancelRunSuite(),this.cancelRunSuite=void 0),this.writableChecksInProgress.set(!0),this.writableProgress.set("0%");const t=this.appModel.config.comparison;if(this.suiteSummary){const r=this.appModel.config.check,n=checkReportFromSummary(r,this.suiteSummary.checkSummary),i=this.suiteSummary?.comparisonSummary;this.summaryViewModel=ii(this.appModel.checkDataCoordinator,n,t,i,this.pinnedItemStates),this.writableChecksInProgress.set(!1)}else{let r=!1;this.headerViewModel.simplifyScenarios!==void 0&&(r=ft(this.headerViewModel.simplifyScenarios)),this.cancelRunSuite=runSuite(this.appModel.config,{onProgress:n=>{this.writableProgress.set(`${Math.round(n*100)}%`)},onComplete:n=>{const i=n.checkReport;let a;n.comparisonReport&&(a=comparisonSummaryFromReport(n.comparisonReport)),this.summaryViewModel=ii(this.appModel.checkDataCoordinator,i,t,a,this.pinnedItemStates),this.writableChecksInProgress.set(!1)},onError:n=>{console.error(n)}},{simplifyScenarios:r})}}createCompareDetailViewModelForSummaryRow(t){const r=t.groupSummary,n=t.viewMetadata?.viewGroup,i=t.viewMetadata?.view;return i?.kind==="unresolved-view"?Td(t.rowKey,n):r!==void 0?r.group.kind==="by-dataset"?Pd(t.rowKey,this.appModel.config.comparison,this.appModel.comparisonDataCoordinator,this.userPrefs,r,this.pinnedItemStates.pinnedScenarios):Ld(t.rowKey,this.appModel.config.comparison,this.appModel.comparisonDataCoordinator,this.userPrefs,r,n,i,this.pinnedItemStates.pinnedDatasets):Ed(t.rowKey,this.appModel.config.comparison,this.appModel.comparisonDataCoordinator,this.userPrefs,n,i,this.pinnedItemStates.pinnedFreeformRows)}createCompareDetailViewModelForFirstSummaryRow(t){const r=this.getComparisonSummaryViewModel(t),n=ft(r.allRows);if(n.length>0){const i=n[0];return this.createCompareDetailViewModelForSummaryRow(i)}else return}createCompareDetailViewModelForSummaryRowWithDelta(t,r,n){const i=this.getComparisonSummaryViewModel(t),a=ft(i.allRows),u=a.findIndex(d=>d.rowKey===r)+n;if(u>=0&&u<a.length){const d=a[u];return this.createCompareDetailViewModelForSummaryRow(d)}else return}getComparisonSummaryViewModel(t){switch(t){case"views":return this.summaryViewModel.comparisonViewsSummaryViewModel;case"by-scenario":return this.summaryViewModel.comparisonsByScenarioSummaryViewModel;case"by-dataset":return this.summaryViewModel.comparisonsByDatasetSummaryViewModel;default:ms$1(t)}}createPerfViewModel(){return Kd(this.appModel.config)}}function lu(e,t){const r=t?.containerId||"app-shell-container",n=document.getElementById(r);go(e).then(i=>{const a=new eu(i,t?.suiteSummary);t?.bundleNames&&(a.headerViewModel.bundleNamesL.set(t.bundleNames),a.headerViewModel.bundleNamesR.set(t.bundleNames)),Ya($d,{target:n,props:{appViewModel:a}})}).catch(i=>{console.error(`ERROR: Failed to initialize app model: ${i.message}`)})}const messagesHtml="",messages=messagesHtml;function initOverlay(){updateOverlay(messages)}function updateOverlay(e){const t=document.getElementById("overlay-content");t.style.display="none";const r=document.getElementById("overlay-text");r.innerHTML=e}function createBundle$1(){return{version:-1,modelSpec:void 0,initModel:()=>{}}}class EventEmitter{}function cpus(){return 1}function dirname(){return""}function isAbsolute(){return!1}function join(){return""}function fileURLToPath(){return""}const worker_threads=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter,cpus,dirname,fileURLToPath,isAbsolute,join},Symbol.toStringTag,{value:"Module"}));var define_process_env_default={};let __non_webpack_require__=()=>worker_threads;const DefaultErrorSerializer={deserialize(e){return Object.assign(Error(e.message),{name:e.name,stack:e.stack})},serialize(e){return{__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack}}},isSerializedError=e=>e&&typeof e=="object"&&"__error_marker"in e&&e.__error_marker==="$$error",DefaultSerializer={deserialize(e){return isSerializedError(e)?DefaultErrorSerializer.deserialize(e):e},serialize(e){return e instanceof Error?DefaultErrorSerializer.serialize(e):e}};let registeredSerializer=DefaultSerializer;function deserialize(e){return registeredSerializer.deserialize(e)}function serialize(e){return registeredSerializer.serialize(e)}let bundleURL;function getBundleURLCached(){return bundleURL||(bundleURL=getBundleURL()),bundleURL}function getBundleURL(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return getBaseURL(t[0])}return"/"}function getBaseURL(e){return(""+e).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}const defaultPoolSize$1=typeof navigator<"u"&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,isAbsoluteURL=e=>/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e);function createSourceBlobURL(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function selectWorkerImplementation$1(){if(typeof Worker>"u")return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class e extends Worker{constructor(n,i){var a,u;typeof n=="string"&&i&&i._baseURL?n=new URL(n,i._baseURL):typeof n=="string"&&!isAbsoluteURL(n)&&getBundleURLCached().match(/^file:\/\//i)&&(n=new URL(n,getBundleURLCached().replace(/\/[^\/]+$/,"/")),(!((a=i?.CORSWorkaround)!==null&&a!==void 0)||a)&&(n=createSourceBlobURL(`importScripts(${JSON.stringify(n)});`))),typeof n=="string"&&isAbsoluteURL(n)&&(!((u=i?.CORSWorkaround)!==null&&u!==void 0)||u)&&(n=createSourceBlobURL(`importScripts(${JSON.stringify(n)});`)),super(n,i)}}class t extends e{constructor(n,i){const a=window.URL.createObjectURL(n);super(a,i)}static fromText(n,i){const a=new window.Blob([n],{type:"text/javascript"});return new t(a,i)}}return{blob:t,default:e}}let implementation$3;function getWorkerImplementation$2(){return implementation$3||(implementation$3=selectWorkerImplementation$1()),implementation$3}function isWorkerRuntime$4(){const e=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!!(typeof self<"u"&&self.postMessage&&!e)}const BrowserImplementation=Object.freeze(Object.defineProperty({__proto__:null,defaultPoolSize:defaultPoolSize$1,getWorkerImplementation:getWorkerImplementation$2,isWorkerRuntime:isWorkerRuntime$4},Symbol.toStringTag,{value:"Module"})),getCallsites={};let tsNodeAvailable;const defaultPoolSize=cpus().length;function detectTsNode(){if(typeof __non_webpack_require__=="function")return!1;if(tsNodeAvailable)return tsNodeAvailable;try{eval("require").resolve("ts-node"),tsNodeAvailable=!0}catch(e){if(e&&e.code==="MODULE_NOT_FOUND")tsNodeAvailable=!1;else throw e}return tsNodeAvailable}function createTsNodeModule(e){return`
    require("ts-node/register/transpile-only");
    require(${JSON.stringify(e)});
  `}function rebaseScriptPath(e,t){const r=getCallsites().find(a=>{const u=a.getFileName();return!!(u&&!u.match(t)&&!u.match(/[\/\\]master[\/\\]implementation/)&&!u.match(/^internal\/process/))});let i=(r?r.getFileName():null)||null;return i&&i.startsWith("file:")&&(i=fileURLToPath()),i?join():e}function resolveScriptPath(scriptPath,baseURL){const makeRelative=filePath=>join(baseURL||eval("__dirname")),workerFilePath=typeof __non_webpack_require__=="function"?__non_webpack_require__.resolve(makeRelative()):eval("require").resolve(makeRelative(rebaseScriptPath(scriptPath,/[\/\\]worker_threads[\/\\]/)));return workerFilePath}function initWorkerThreadsWorker(){const NativeWorker=typeof __non_webpack_require__=="function"?__non_webpack_require__().Worker:eval("require")("worker_threads").Worker;let allWorkers=[];class Worker extends NativeWorker{constructor(t,r){const n=r&&r.fromSource?null:resolveScriptPath(t,(r||{})._baseURL);if(n)n.match(/\.tsx?$/i)&&detectTsNode()?super(createTsNodeModule(n),Object.assign(Object.assign({},r),{eval:!0})):n.match(/\.asar[\/\\]/)?super(n.replace(/\.asar([\/\\])/,".asar.unpacked$1"),r):super(n,r);else{const i=t;super(i,Object.assign(Object.assign({},r),{eval:!0}))}this.mappedEventListeners=new WeakMap,allWorkers.push(this)}addEventListener(t,r){const n=i=>{r({data:i})};this.mappedEventListeners.set(r,n),this.on(t,n)}removeEventListener(t,r){const n=this.mappedEventListeners.get(r)||r;this.off(t,n)}}const terminateWorkersAndMaster=()=>{Promise.all(allWorkers.map(e=>e.terminate())).then(()=>process.exit(0),()=>process.exit(1)),allWorkers=[]};process.on("SIGINT",()=>terminateWorkersAndMaster()),process.on("SIGTERM",()=>terminateWorkersAndMaster());class BlobWorker extends Worker{constructor(t,r){super(Buffer.from(t).toString("utf-8"),Object.assign(Object.assign({},r),{fromSource:!0}))}static fromText(t,r){return new Worker(t,Object.assign(Object.assign({},r),{fromSource:!0}))}}return{blob:BlobWorker,default:Worker}}function initTinyWorker(){const e=require("tiny-worker");let t=[];class r extends e{constructor(u,d){const m=d&&d.fromSource?null:process.platform==="win32"?`file:///${resolveScriptPath(u).replace(/\\/g,"/")}`:resolveScriptPath(u);if(m)m.match(/\.tsx?$/i)&&detectTsNode()?super(new Function(createTsNodeModule(resolveScriptPath(u))),[],{esm:!0}):m.match(/\.asar[\/\\]/)?super(m.replace(/\.asar([\/\\])/,".asar.unpacked$1"),[],{esm:!0}):super(m,[],{esm:!0});else{const g=u;super(new Function(g),[],{esm:!0})}t.push(this),this.emitter=new EventEmitter,this.onerror=g=>this.emitter.emit("error",g),this.onmessage=g=>this.emitter.emit("message",g)}addEventListener(u,d){this.emitter.addListener(u,d)}removeEventListener(u,d){this.emitter.removeListener(u,d)}terminate(){return t=t.filter(u=>u!==this),super.terminate()}}const n=()=>{Promise.all(t.map(a=>a.terminate())).then(()=>process.exit(0),()=>process.exit(1)),t=[]};process.on("SIGINT",()=>n()),process.on("SIGTERM",()=>n());class i extends r{constructor(u,d){super(Buffer.from(u).toString("utf-8"),Object.assign(Object.assign({},d),{fromSource:!0}))}static fromText(u,d){return new r(u,Object.assign(Object.assign({},d),{fromSource:!0}))}}return{blob:i,default:r}}let implementation$2,isTinyWorker;function selectWorkerImplementation(){try{return isTinyWorker=!1,initWorkerThreadsWorker()}catch{return console.debug("Node worker_threads not available. Trying to fall back to tiny-worker polyfill..."),isTinyWorker=!0,initTinyWorker()}}function getWorkerImplementation$1(){return implementation$2||(implementation$2=selectWorkerImplementation()),implementation$2}function isWorkerRuntime$3(){if(isTinyWorker)return!!(typeof self<"u"&&self.postMessage);{const isMainThread=typeof __non_webpack_require__=="function"?__non_webpack_require__().isMainThread:eval("require")("worker_threads").isMainThread;return!isMainThread}}const NodeImplementation=Object.freeze(Object.defineProperty({__proto__:null,defaultPoolSize,getWorkerImplementation:getWorkerImplementation$1,isWorkerRuntime:isWorkerRuntime$3},Symbol.toStringTag,{value:"Module"})),runningInNode$1=typeof process<"u"&&process.arch!=="browser"&&"pid"in process,implementation$1=runningInNode$1?NodeImplementation:BrowserImplementation,getWorkerImplementation=implementation$1.getWorkerImplementation;function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;ms=function(x,R){R=R||{};var O=typeof x;if(O==="string"&&x.length>0)return u(x);if(O==="number"&&isFinite(x))return R.long?m(x):d(x);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(x))};function u(x){if(x=String(x),!(x.length>100)){var R=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(x);if(R){var O=parseFloat(R[1]),q=(R[2]||"ms").toLowerCase();switch(q){case"years":case"year":case"yrs":case"yr":case"y":return O*a;case"weeks":case"week":case"w":return O*i;case"days":case"day":case"d":return O*n;case"hours":case"hour":case"hrs":case"hr":case"h":return O*r;case"minutes":case"minute":case"mins":case"min":case"m":return O*t;case"seconds":case"second":case"secs":case"sec":case"s":return O*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}}}function d(x){var R=Math.abs(x);return R>=n?Math.round(x/n)+"d":R>=r?Math.round(x/r)+"h":R>=t?Math.round(x/t)+"m":R>=e?Math.round(x/e)+"s":x+"ms"}function m(x){var R=Math.abs(x);return R>=n?g(x,R,n,"day"):R>=r?g(x,R,r,"hour"):R>=t?g(x,R,t,"minute"):R>=e?g(x,R,e,"second"):x+" ms"}function g(x,R,O,q){var B=R>=O*1.5;return Math.round(x/O)+" "+q+(B?"s":"")}return ms}var common,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function e(t){n.debug=n,n.default=n,n.coerce=g,n.disable=d,n.enable=a,n.enabled=m,n.humanize=requireMs(),n.destroy=x,Object.keys(t).forEach(R=>{n[R]=t[R]}),n.names=[],n.skips=[],n.formatters={};function r(R){let O=0;for(let q=0;q<R.length;q++)O=(O<<5)-O+R.charCodeAt(q),O|=0;return n.colors[Math.abs(O)%n.colors.length]}n.selectColor=r;function n(R){let O,q=null,B,F;function D(...V){if(!D.enabled)return;const j=D,K=Number(new Date),Q=K-(O||K);j.diff=Q,j.prev=O,j.curr=K,O=K,V[0]=n.coerce(V[0]),typeof V[0]!="string"&&V.unshift("%O");let z=0;V[0]=V[0].replace(/%([a-zA-Z%])/g,(G,re)=>{if(G==="%%")return"%";z++;const de=n.formatters[re];if(typeof de=="function"){const Oe=V[z];G=de.call(j,Oe),V.splice(z,1),z--}return G}),n.formatArgs.call(j,V),(j.log||n.log).apply(j,V)}return D.namespace=R,D.useColors=n.useColors(),D.color=n.selectColor(R),D.extend=i,D.destroy=n.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>q!==null?q:(B!==n.namespaces&&(B=n.namespaces,F=n.enabled(R)),F),set:V=>{q=V}}),typeof n.init=="function"&&n.init(D),D}function i(R,O){const q=n(this.namespace+(typeof O>"u"?":":O)+R);return q.log=this.log,q}function a(R){n.save(R),n.namespaces=R,n.names=[],n.skips=[];const O=(typeof R=="string"?R:"").trim().replace(" ",",").split(",").filter(Boolean);for(const q of O)q[0]==="-"?n.skips.push(q.slice(1)):n.names.push(q)}function u(R,O){let q=0,B=0,F=-1,D=0;for(;q<R.length;)if(B<O.length&&(O[B]===R[q]||O[B]==="*"))O[B]==="*"?(F=B,D=q,B++):(q++,B++);else if(F!==-1)B=F+1,D++,q=D;else return!1;for(;B<O.length&&O[B]==="*";)B++;return B===O.length}function d(){const R=[...n.names,...n.skips.map(O=>"-"+O)].join(",");return n.enable(""),R}function m(R){for(const O of n.skips)if(u(R,O))return!1;for(const O of n.names)if(u(R,O))return!0;return!1}function g(R){return R instanceof Error?R.stack||R.message:R}function x(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return common=e,common}var hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,(function(e,t){t.formatArgs=n,t.save=i,t.load=a,t.useColors=r,t.storage=u(),t.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let m;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(m=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(m[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;m.splice(1,0,g,"color: inherit");let x=0,R=0;m[0].replace(/%[a-zA-Z%]/g,O=>{O!=="%%"&&(x++,O==="%c"&&(R=x))}),m.splice(R,0,g)}t.log=console.debug||console.log||(()=>{});function i(m){try{m?t.storage.setItem("debug",m):t.storage.removeItem("debug")}catch{}}function a(){let m;try{m=t.storage.getItem("debug")}catch{}return!m&&typeof process<"u"&&"env"in process&&(m=define_process_env_default.DEBUG),m}function u(){try{return localStorage}catch{}}e.exports=requireCommon()(t);const{formatters:d}=e.exports;d.j=function(m){try{return JSON.stringify(m)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}})(browser,browser.exports)),browser.exports}var browserExports=requireBrowser();const DebugLogger=getDefaultExportFromCjs(browserExports),hasSymbols=()=>typeof Symbol=="function",hasSymbol=e=>hasSymbols()&&!!Symbol[e],getSymbol=e=>hasSymbol(e)?Symbol[e]:"@@"+e;hasSymbol("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const SymbolIterator=getSymbol("iterator"),SymbolObservable=getSymbol("observable"),SymbolSpecies=getSymbol("species");function getMethod(e,t){const r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function getSpecies(e){let t=e.constructor;return t!==void 0&&(t=t[SymbolSpecies],t===null&&(t=void 0)),t!==void 0?t:Observable}function isObservable(e){return e instanceof Observable}function hostReportError(e){hostReportError.log?hostReportError.log(e):setTimeout(()=>{throw e},0)}function enqueue(e){Promise.resolve().then(()=>{try{e()}catch(t){hostReportError(t)}})}function cleanupSubscription(e){const t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{const r=getMethod(t,"unsubscribe");r&&r.call(t)}}catch(r){hostReportError(r)}}function closeSubscription(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function flushSubscription(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const r of t)if(notifySubscription(e,r.type,r.value),e._state==="closed")break}}function notifySubscription(e,t,r){e._state="running";const n=e._observer;try{const i=n?getMethod(n,t):void 0;switch(t){case"next":i&&i.call(n,r);break;case"error":if(closeSubscription(e),i)i.call(n,r);else throw r;break;case"complete":closeSubscription(e),i&&i.call(n);break}}catch(i){hostReportError(i)}e._state==="closed"?cleanupSubscription(e):e._state==="running"&&(e._state="ready")}function onNotify(e,t,r){if(e._state!=="closed"){if(e._state==="buffering"){e._queue=e._queue||[],e._queue.push({type:t,value:r});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:r}],enqueue(()=>flushSubscription(e));return}notifySubscription(e,t,r)}}class Subscription{constructor(t,r){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";const n=new SubscriptionObserver(this);try{this._cleanup=r.call(void 0,n)}catch(i){n.error(i)}this._state==="initializing"&&(this._state="ready")}get closed(){return this._state==="closed"}unsubscribe(){this._state!=="closed"&&(closeSubscription(this),cleanupSubscription(this))}}class SubscriptionObserver{constructor(t){this._subscription=t}get closed(){return this._subscription._state==="closed"}next(t){onNotify(this._subscription,"next",t)}error(t){onNotify(this._subscription,"error",t)}complete(){onNotify(this._subscription,"complete")}}class Observable{constructor(t){if(!(this instanceof Observable))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}subscribe(t,r,n){return(typeof t!="object"||t===null)&&(t={next:t,error:r,complete:n}),new Subscription(t,this._subscriber)}pipe(t,...r){let n=this;for(const i of[t,...r])n=i(n);return n}tap(t,r,n){const i=typeof t!="object"||t===null?{next:t,error:r,complete:n}:t;return new Observable(a=>this.subscribe({next(u){i.next&&i.next(u),a.next(u)},error(u){i.error&&i.error(u),a.error(u)},complete(){i.complete&&i.complete(),a.complete()},start(u){i.start&&i.start(u)}}))}forEach(t){return new Promise((r,n)=>{if(typeof t!="function"){n(new TypeError(t+" is not a function"));return}function i(){a.unsubscribe(),r(void 0)}const a=this.subscribe({next(u){try{t(u,i)}catch(d){n(d),a.unsubscribe()}},error(u){n(u)},complete(){r(void 0)}})})}map(t){if(typeof t!="function")throw new TypeError(t+" is not a function");const r=getSpecies(this);return new r(n=>this.subscribe({next(i){let a=i;try{a=t(i)}catch(u){return n.error(u)}n.next(a)},error(i){n.error(i)},complete(){n.complete()}}))}filter(t){if(typeof t!="function")throw new TypeError(t+" is not a function");const r=getSpecies(this);return new r(n=>this.subscribe({next(i){try{if(!t(i))return}catch(a){return n.error(a)}n.next(i)},error(i){n.error(i)},complete(){n.complete()}}))}reduce(t,r){if(typeof t!="function")throw new TypeError(t+" is not a function");const n=getSpecies(this),i=arguments.length>1;let a=!1,u=r;return new n(d=>this.subscribe({next(m){const g=!a;if(a=!0,!g||i)try{u=t(u,m)}catch(x){return d.error(x)}else u=m},error(m){d.error(m)},complete(){if(!a&&!i)return d.error(new TypeError("Cannot reduce an empty sequence"));d.next(u),d.complete()}}))}concat(...t){const r=getSpecies(this);return new r(n=>{let i,a=0;function u(d){i=d.subscribe({next(m){n.next(m)},error(m){n.error(m)},complete(){a===t.length?(i=void 0,n.complete()):u(r.from(t[a++]))}})}return u(this),()=>{i&&(i.unsubscribe(),i=void 0)}})}flatMap(t){if(typeof t!="function")throw new TypeError(t+" is not a function");const r=getSpecies(this);return new r(n=>{const i=[],a=this.subscribe({next(d){let m;if(t)try{m=t(d)}catch(x){return n.error(x)}else m=d;const g=r.from(m).subscribe({next(x){n.next(x)},error(x){n.error(x)},complete(){const x=i.indexOf(g);x>=0&&i.splice(x,1),u()}});i.push(g)},error(d){n.error(d)},complete(){u()}});function u(){a.closed&&i.length===0&&n.complete()}return()=>{i.forEach(d=>d.unsubscribe()),a.unsubscribe()}})}[SymbolObservable](){return this}static from(t){const r=typeof this=="function"?this:Observable;if(t==null)throw new TypeError(t+" is not an object");const n=getMethod(t,SymbolObservable);if(n){const i=n.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return isObservable(i)&&i.constructor===r?i:new r(a=>i.subscribe(a))}if(hasSymbol("iterator")){const i=getMethod(t,SymbolIterator);if(i)return new r(a=>{enqueue(()=>{if(!a.closed){for(const u of i.call(t))if(a.next(u),a.closed)return;a.complete()}})})}if(Array.isArray(t))return new r(i=>{enqueue(()=>{if(!i.closed){for(const a of t)if(i.next(a),i.closed)return;i.complete()}})});throw new TypeError(t+" is not observable")}static of(...t){const r=typeof this=="function"?this:Observable;return new r(n=>{enqueue(()=>{if(!n.closed){for(const i of t)if(n.next(i),n.closed)return;n.complete()}})})}static get[SymbolSpecies](){return this}}hasSymbols()&&Object.defineProperty(Observable,Symbol("extensions"),{value:{symbol:SymbolObservable,hostReportError},configurable:!0});function unsubscribe(e){typeof e=="function"?e():e&&typeof e.unsubscribe=="function"&&e.unsubscribe()}class MulticastSubject extends Observable{constructor(){super(t=>(this._observers.add(t),()=>this._observers.delete(t))),this._observers=new Set}next(t){for(const r of this._observers)r.next(t)}error(t){for(const r of this._observers)r.error(t)}complete(){for(const t of this._observers)t.complete()}}function multicast(e){const t=new MulticastSubject;let r,n=0;return new Observable(i=>{r||(r=e.subscribe(t));const a=t.subscribe(i);return n++,()=>{n--,a.unsubscribe(),n===0&&(unsubscribe(r),r=void 0)}})}const $errors=Symbol("thread.errors"),$events=Symbol("thread.events"),$terminate=Symbol("thread.terminate"),$transferable=Symbol("thread.transferable"),$worker=Symbol("thread.worker");function fail$1(e){throw Error(e)}const Thread={errors(e){return e[$errors]||fail$1("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise.")},events(e){return e[$events]||fail$1("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise.")},terminate(e){return e[$terminate]()}},doNothing$1=()=>{};function createPromiseWithResolver(){let e=!1,t,r=doNothing$1;return[new Promise(n=>{e?n(t):r=n}),n=>{e=!0,t=n,r(t)}]}var WorkerEventType;(function(e){e.internalError="internalError",e.message="message",e.termination="termination"})(WorkerEventType||(WorkerEventType={}));const doNothing=()=>{},returnInput=e=>e,runDeferred=e=>Promise.resolve().then(e);function fail(e){throw e}function isThenable(e){return e&&typeof e.then=="function"}class ObservablePromise extends Observable{constructor(t){super(r=>{const n=this,i=Object.assign(Object.assign({},r),{complete(){r.complete(),n.onCompletion()},error(a){r.error(a),n.onError(a)},next(a){r.next(a),n.onNext(a)}});try{return this.initHasRun=!0,t(i)}catch(a){i.error(a)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(t){this.firstValueSet||(this.firstValue=t,this.firstValueSet=!0)}onError(t){this.state="rejected",this.rejection=t;for(const r of this.rejectionCallbacks)runDeferred(()=>r(t))}onCompletion(){this.state="fulfilled";for(const t of this.fulfillmentCallbacks)runDeferred(()=>t(this.firstValue))}then(t,r){const n=t||returnInput,i=r||fail;let a=!1;return new Promise((u,d)=>{const m=x=>{if(!a){a=!0;try{u(i(x))}catch(R){d(R)}}},g=x=>{try{u(n(x))}catch(R){m(R)}};if(this.initHasRun||this.subscribe({error:m}),this.state==="fulfilled")return u(n(this.firstValue));if(this.state==="rejected")return a=!0,u(i(this.rejection));this.fulfillmentCallbacks.push(g),this.rejectionCallbacks.push(m)})}catch(t){return this.then(void 0,t)}finally(t){const r=t||doNothing;return this.then(n=>(r(),n),()=>r())}static from(t){return isThenable(t)?new ObservablePromise(r=>{const n=a=>{r.next(a),r.complete()},i=a=>{r.error(a)};t.then(n,i)}):super.from(t)}}function isTransferable(e){return!(!e||typeof e!="object")}function isTransferDescriptor(e){return e&&typeof e=="object"&&e[$transferable]}function Transfer(e,t){if(!t){if(!isTransferable(e))throw Error();t=[e]}return{[$transferable]:!0,send:e,transferables:t}}var MasterMessageType;(function(e){e.cancel="cancel",e.run="run"})(MasterMessageType||(MasterMessageType={}));var WorkerMessageType;(function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"})(WorkerMessageType||(WorkerMessageType={}));const debugMessages$1=DebugLogger("threads:master:messages");let nextJobUID=1;const dedupe=e=>Array.from(new Set(e)),isJobErrorMessage=e=>e&&e.type===WorkerMessageType.error,isJobResultMessage=e=>e&&e.type===WorkerMessageType.result,isJobStartMessage=e=>e&&e.type===WorkerMessageType.running;function createObservableForJob(e,t){return new Observable(r=>{let n;const i=(a=>{if(debugMessages$1("Message from worker:",a.data),!(!a.data||a.data.uid!==t)){if(isJobStartMessage(a.data))n=a.data.resultType;else if(isJobResultMessage(a.data))n==="promise"?(typeof a.data.payload<"u"&&r.next(deserialize(a.data.payload)),r.complete(),e.removeEventListener("message",i)):(a.data.payload&&r.next(deserialize(a.data.payload)),a.data.complete&&(r.complete(),e.removeEventListener("message",i)));else if(isJobErrorMessage(a.data)){const u=deserialize(a.data.error);r.error(u),e.removeEventListener("message",i)}}});return e.addEventListener("message",i),()=>{if(n==="observable"||!n){const a={type:MasterMessageType.cancel,uid:t};e.postMessage(a)}e.removeEventListener("message",i)}})}function prepareArguments(e){if(e.length===0)return{args:[],transferables:[]};const t=[],r=[];for(const n of e)isTransferDescriptor(n)?(t.push(serialize(n.send)),r.push(...n.transferables)):t.push(serialize(n));return{args:t,transferables:r.length===0?r:dedupe(r)}}function createProxyFunction(e,t){return((...r)=>{const n=nextJobUID++,{args:i,transferables:a}=prepareArguments(r),u={type:MasterMessageType.run,uid:n,method:t,args:i};debugMessages$1("Sending command to run function to worker:",u);try{e.postMessage(u,a)}catch(d){return ObservablePromise.from(Promise.reject(d))}return ObservablePromise.from(multicast(createObservableForJob(e,n)))})}function createProxyModule(e,t){const r={};for(const n of t)r[n]=createProxyFunction(e,n);return r}var __awaiter$1=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function d(x){try{g(n.next(x))}catch(R){u(R)}}function m(x){try{g(n.throw(x))}catch(R){u(R)}}function g(x){x.done?a(x.value):i(x.value).then(d,m)}g((n=n.apply(e,[])).next())})};const debugMessages=DebugLogger("threads:master:messages"),debugSpawn=DebugLogger("threads:master:spawn"),debugThreadUtils=DebugLogger("threads:master:thread-utils"),isInitMessage=e=>e&&e.type==="init",isUncaughtErrorMessage=e=>e&&e.type==="uncaughtError",initMessageTimeout=typeof process<"u"&&define_process_env_default.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(define_process_env_default.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function withTimeout(e,t,r){return __awaiter$1(this,void 0,void 0,function*(){let n;const i=new Promise((u,d)=>{n=setTimeout(()=>d(Error(r)),t)}),a=yield Promise.race([e,i]);return clearTimeout(n),a})}function receiveInitMessage(e){return new Promise((t,r)=>{const n=(i=>{debugMessages("Message from worker before finishing initialization:",i.data),isInitMessage(i.data)?(e.removeEventListener("message",n),t(i.data)):isUncaughtErrorMessage(i.data)&&(e.removeEventListener("message",n),r(deserialize(i.data.error)))});e.addEventListener("message",n)})}function createEventObservable(e,t){return new Observable(r=>{const n=(a=>{const u={type:WorkerEventType.message,data:a.data};r.next(u)}),i=(a=>{debugThreadUtils("Unhandled promise rejection event in thread:",a);const u={type:WorkerEventType.internalError,error:Error(a.reason)};r.next(u)});e.addEventListener("message",n),e.addEventListener("unhandledrejection",i),t.then(()=>{const a={type:WorkerEventType.termination};e.removeEventListener("message",n),e.removeEventListener("unhandledrejection",i),r.next(a),r.complete()})})}function createTerminator(e){const[t,r]=createPromiseWithResolver();return{terminate:()=>__awaiter$1(this,void 0,void 0,function*(){debugThreadUtils("Terminating worker"),yield e.terminate(),r()}),termination:t}}function setPrivateThreadProps(e,t,r,n){const i=r.filter(a=>a.type===WorkerEventType.internalError).map(a=>a.error);return Object.assign(e,{[$errors]:i,[$events]:r,[$terminate]:n,[$worker]:t})}function spawn(e,t){return __awaiter$1(this,void 0,void 0,function*(){debugSpawn("Initializing new thread");const r=initMessageTimeout,n=(yield withTimeout(receiveInitMessage(e),r,`Timeout: Did not receive an init message from worker after ${r}ms. Make sure the worker calls expose().`)).exposed,{termination:i,terminate:a}=createTerminator(e),u=createEventObservable(e,i);if(n.type==="function"){const d=createProxyFunction(e);return setPrivateThreadProps(d,e,u,a)}else if(n.type==="module"){const d=createProxyModule(e,n.methods);return setPrivateThreadProps(d,e,u,a)}else{const d=n.type;throw Error(`Worker init message states unexpected type of expose(): ${d}`)}})}const BlobWorker=getWorkerImplementation().blob,Worker$1=getWorkerImplementation().default,isWorkerRuntime$2=function e(){const t=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!!(typeof self<"u"&&self.postMessage&&!t)},postMessageToMaster$2=function e(t,r){self.postMessage(t,r)},subscribeToMasterMessages$2=function e(t){const r=i=>{t(i.data)},n=()=>{self.removeEventListener("message",r)};return self.addEventListener("message",r),n},WebWorkerImplementation={isWorkerRuntime:isWorkerRuntime$2,postMessageToMaster:postMessageToMaster$2,subscribeToMasterMessages:subscribeToMasterMessages$2};typeof self>"u"&&(global.self=global);const isWorkerRuntime$1=function e(){return!!(typeof self<"u"&&self.postMessage)},postMessageToMaster$1=function e(t){self.postMessage(t)};let muxingHandlerSetUp=!1;const messageHandlers=new Set,subscribeToMasterMessages$1=function e(t){return muxingHandlerSetUp||(self.addEventListener("message",(r=>{messageHandlers.forEach(n=>n(r.data))})),muxingHandlerSetUp=!0),messageHandlers.add(t),()=>messageHandlers.delete(t)},TinyWorkerImplementation={isWorkerRuntime:isWorkerRuntime$1,postMessageToMaster:postMessageToMaster$1,subscribeToMasterMessages:subscribeToMasterMessages$1};let implementation;function selectImplementation(){return typeof __non_webpack_require__=="function"?__non_webpack_require__():eval("require")("worker_threads")}function getImplementation(){return implementation||(implementation=selectImplementation()),implementation}function assertMessagePort(e){if(!e)throw Error("Invariant violation: MessagePort to parent is not available.");return e}const isWorkerRuntime=function e(){return!getImplementation().isMainThread},postMessageToMaster=function e(t,r){assertMessagePort(getImplementation().parentPort).postMessage(t,r)},subscribeToMasterMessages=function e(t){const r=getImplementation().parentPort;if(!r)throw Error("Invariant violation: MessagePort to parent is not available.");const n=a=>{t(a)},i=()=>{assertMessagePort(r).off("message",n)};return assertMessagePort(r).on("message",n),i};function testImplementation(){getImplementation()}const WorkerThreadsImplementation={isWorkerRuntime,postMessageToMaster,subscribeToMasterMessages,testImplementation},runningInNode=typeof process<"u"&&process.arch!=="browser"&&"pid"in process;function selectNodeImplementation(){try{return WorkerThreadsImplementation.testImplementation(),WorkerThreadsImplementation}catch{return TinyWorkerImplementation}}const Implementation=runningInNode?selectNodeImplementation():WebWorkerImplementation;Implementation.isWorkerRuntime;function postUncaughtErrorMessage(e){try{const t={type:WorkerMessageType.uncaughtError,error:serialize(e)};Implementation.postMessageToMaster(t)}catch(t){console.error(`Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.
Latest error:`,t,`
Original error:`,e)}}typeof self<"u"&&typeof self.addEventListener=="function"&&Implementation.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>postUncaughtErrorMessage(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&typeof t.message=="string"&&setTimeout(()=>postUncaughtErrorMessage(t),250)}));typeof process<"u"&&typeof process.on=="function"&&Implementation.isWorkerRuntime()&&(process.on("uncaughtException",e=>{setTimeout(()=>postUncaughtErrorMessage(e),250)}),process.on("unhandledRejection",e=>{e&&typeof e.message=="string"&&setTimeout(()=>postUncaughtErrorMessage(e),250)}));var ok=function(e){return new Ok(e)},err=function(e){return new Err(e)},Ok=(function(){function e(t){var r=this;this.value=t,this.match=function(n,i){return n(r.value)}}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return ok(t(this.value))},e.prototype.mapErr=function(t){return ok(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return ResultAsync.fromPromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype._unsafeUnwrap=function(){return this.value},e.prototype._unsafeUnwrapErr=function(){throw new Error("Called `_unsafeUnwrapErr` on an Ok")},e})(),Err=(function(){function e(t){var r=this;this.error=t,this.match=function(n,i){return i(r.error)}}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return err(this.error)},e.prototype.mapErr=function(t){return err(t(this.error))},e.prototype.andThen=function(t){return err(this.error)},e.prototype.asyncAndThen=function(t){return errAsync(this.error)},e.prototype.asyncMap=function(t){return errAsync(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype._unsafeUnwrap=function(){throw new Error("Called `_unsafeUnwrap` on an Err")},e.prototype._unsafeUnwrapErr=function(){return this.error},e})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function d(x){try{g(n.next(x))}catch(R){u(R)}}function m(x){try{g(n.throw(x))}catch(R){u(R)}}function g(x){x.done?a(x.value):i(x.value).then(d,m)}g((n=n.apply(e,[])).next())})}function __generator(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(x){return m([g,x])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(x){g=[6,x],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var logWarning=function(e){if(typeof process!="object"){var t="\x1B[33m%s\x1B[0m",r=["[neverthrow]",e].join(" - ");console.warn(t,r)}},ResultAsync=(function(){function e(t){this._promise=t}return e.fromPromise=function(t,r){var n=t.then(function(a){return new Ok(a)});if(r)n=n.catch(function(a){return new Err(r(a))});else{var i=["`fromPromise` called without a promise rejection handler","Ensure that you are catching promise rejections yourself, or pass a second argument to `fromPromise` to convert a caught exception into an `Err` instance"].join(" - ");logWarning(i)}return new e(n)},e.prototype.map=function(t){var r=this;return new e(this._promise.then(function(n){return __awaiter(r,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return n.isErr()?[2,new Err(n.error)]:(i=Ok.bind,[4,t(n.value)]);case 1:return[2,new(i.apply(Ok,[void 0,a.sent()]))]}})})}))},e.prototype.mapErr=function(t){var r=this;return new e(this._promise.then(function(n){return __awaiter(r,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return n.isOk()?[2,new Ok(n.value)]:(i=Err.bind,[4,t(n.error)]);case 1:return[2,new(i.apply(Err,[void 0,a.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(r){if(r.isErr())return new Err(r.error);var n=t(r.value);return n instanceof e?n._promise:n}))},e.prototype.match=function(t,r){return this._promise.then(function(n){return n.match(t,r)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(r){return r.unwrapOr(t)})},e.prototype.then=function(t){return this._promise.then(t)},e})(),errAsync=function(e){return new ResultAsync(Promise.resolve(new Err(e)))},__defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e};function createInputValue(e,t,r){let n=t;const i={},a=()=>n,u=d=>{var m;d!==n&&(n=d,(m=i.onSet)==null||m.call(i))};return{varId:e,get:a,set:u,reset:()=>{u(t)},callbacks:i}}var Series=class ap{constructor(t,r){this.varId=t,this.points=r}getValueAtTime(t){var r;return(r=this.points.find(n=>n.x===t))==null?void 0:r.y}copy(){const t=this.points.map(r=>__spreadValues({},r));return new ap(this.varId,t)}},Outputs=class{constructor(e,t,r,n=1){this.varIds=e,this.startTime=t,this.endTime=r,this.saveFreq=n,this.seriesLength=Math.round((r-t)/n)+1,this.varSeries=new Array(e.length);for(let i=0;i<e.length;i++){const a=new Array(this.seriesLength);for(let d=0;d<this.seriesLength;d++)a[d]={x:t+d*n,y:0};const u=e[i];this.varSeries[i]=new Series(u,a)}}setVarSpecs(e){if(e.length!==this.varIds.length)throw new Error("Length of output varSpecs must match that of varIds");this.varSpecs=e}updateFromBuffer(e,t){const r=parseOutputsBuffer(e,t,this);return r.isOk()?ok(void 0):err(r.error)}getSeriesForVar(e){const t=this.varIds.indexOf(e);if(t>=0)return this.varSeries[t]}};function parseOutputsBuffer(e,t,r){const n=r.varIds.length,i=r.seriesLength;if(t<i||e.length<n*i)return err("invalid-point-count");for(let a=0;a<n;a++){const u=r.varSeries[a];let d=t*a;for(let m=0;m<i;m++)u.points[m].y=validateNumber(e[d]),d++}return ok(r)}function validateNumber(e){if(!isNaN(e)&&e>-1e32)return e}function getEncodedVarIndicesLength(e){var t;let r=1;for(const n of e){r+=2;const i=((t=n.subscriptIndices)==null?void 0:t.length)||0;r+=i}return r}function encodeVarIndices(e,t){let r=0;t[r++]=e.length;for(const n of e){t[r++]=n.varIndex;const i=n.subscriptIndices,a=i?.length||0;t[r++]=a;for(let u=0;u<a;u++)t[r++]=i[u]}}function getEncodedLookupBufferLengths(e){var t,r;let n=1,i=0;for(const a of e){const u=a.varRef.varSpec;if(u===void 0)throw new Error("Cannot compute lookup buffer lengths until all lookup var specs are defined");n+=2;const d=((t=u.subscriptIndices)==null?void 0:t.length)||0;n+=d,n+=2,i+=((r=a.points)==null?void 0:r.length)||0}return{lookupIndicesLength:n,lookupsLength:i}}function encodeLookups(e,t,r){let n=0;t[n++]=e.length;let i=0;for(const a of e){const u=a.varRef.varSpec;t[n++]=u.varIndex;const d=u.subscriptIndices,m=d?.length||0;t[n++]=m;for(let g=0;g<m;g++)t[n++]=d[g];a.points!==void 0?(t[n++]=i,t[n++]=a.points.length,r?.set(a.points,i),i+=a.points.length):(t[n++]=-1,t[n++]=0)}}function decodeLookups(e,t){const r=[];let n=0;const i=e[n++];for(let a=0;a<i;a++){const u=e[n++],d=e[n++],m=d>0?Array(d):void 0;for(let q=0;q<d;q++)m[q]=e[n++];const g=e[n++],x=e[n++],R={varIndex:u,subscriptIndices:m};let O;g>=0?t?O=t.slice(g,g+x):O=new Float64Array(0):O=void 0,r.push({varRef:{varSpec:R},points:O})}return r}var ModelListing=class{constructor(e){this.varSpecs=new Map;const t=new Map;for(const i of e.dimensions){const a=i.id,u=[];for(let d=0;d<i.subIds.length;d++)u.push({id:i.subIds[d],index:d});t.set(a,{id:a,subscripts:u})}function r(i){const a=t.get(i);if(a===void 0)throw new Error(`No dimension info found for id=${i}`);return a}const n=new Set;for(const i of e.variables){const a=varIdWithoutSubscripts(i.id);if(!n.has(a)){const u=(i.dimIds||[]).map(r);if(u.length>0){const d=[];for(const g of u)d.push(g.subscripts);const m=cartesianProductOf(d);for(const g of m){const x=g.map(q=>q.id).join(","),R=g.map(q=>q.index),O=`${a}[${x}]`;this.varSpecs.set(O,{varIndex:i.index,subscriptIndices:R})}}else this.varSpecs.set(a,{varIndex:i.index});n.add(a)}}}getSpecForVarId(e){return this.varSpecs.get(e)}getSpecForVarName(e){const t=sdeVarIdForVensimVarName(e);return this.varSpecs.get(t)}deriveOutputs(e,t){const r=[];for(const i of t){const a=this.varSpecs.get(i);a!==void 0?r.push(a):console.warn(`WARNING: No output var spec found for id=${i}`)}const n=new Outputs(t,e.startTime,e.endTime,e.saveFreq);return n.varSpecs=r,n}};function varIdWithoutSubscripts(e){const t=e.indexOf("[");return t>=0?e.substring(0,t):e}function cartesianProductOf(e){return e.reduce((t,r)=>t.map(n=>r.map(i=>n.concat([i]))).reduce((n,i)=>n.concat(i),[]),[[]])}function sdeVarIdForVensimName(e){return"_"+e.trim().replace(/"/g,"_").replace(/\s+!$/g,"!").replace(/\s/g,"_").replace(/,/g,"_").replace(/-/g,"_").replace(/\./g,"_").replace(/\$/g,"_").replace(/'/g,"_").replace(/&/g,"_").replace(/%/g,"_").replace(/\//g,"_").replace(/\|/g,"_").toLowerCase()}function sdeVarIdForVensimVarName(e){const t=e.match(/([^[]+)(?:\[([^\]]+)\])?/);if(!t)throw new Error(`Invalid Vensim name: ${e}`);let r=sdeVarIdForVensimName(t[1]);if(t[2]){const n=t[2].split(",").map(i=>sdeVarIdForVensimName(i));r+=`[${n.join(",")}]`}return r}function resolveVarRef(e,t,r){if(!t.varSpec){if(e===void 0)throw new Error(`Unable to resolve ${r} variable references by name or identifier when model listing is unavailable`);if(t.varId){const n=e?.getSpecForVarId(t.varId);if(n)t.varSpec=n;else throw new Error(`Failed to resolve ${r} variable reference for varId=${t.varId}`)}else{const n=e?.getSpecForVarName(t.varName);if(n)t.varSpec=n;else throw new Error(`Failed to resolve ${r} variable reference for varName='${t.varId}'`)}}}var headerLengthInElements=16,extrasLengthInElements=1,Int32Section=class{constructor(){this.offsetInBytes=0,this.lengthInElements=0}update(e,t,r){this.view=r>0?new Int32Array(e,t,r):void 0,this.offsetInBytes=t,this.lengthInElements=r}},Float64Section=class{constructor(){this.offsetInBytes=0,this.lengthInElements=0}update(e,t,r){this.view=r>0?new Float64Array(e,t,r):void 0,this.offsetInBytes=t,this.lengthInElements=r}},BufferedRunModelParams=class{constructor(e){this.listing=e,this.header=new Int32Section,this.extras=new Float64Section,this.inputs=new Float64Section,this.outputs=new Float64Section,this.outputIndices=new Int32Section,this.lookups=new Float64Section,this.lookupIndices=new Int32Section}getEncodedBuffer(){return this.encoded}getInputs(){return this.inputs.view}copyInputs(e,t){this.inputs.lengthInElements!==0&&((e===void 0||e.length<this.inputs.lengthInElements)&&(e=t(this.inputs.lengthInElements)),e.set(this.inputs.view))}getOutputIndicesLength(){return this.outputIndices.lengthInElements}getOutputIndices(){return this.outputIndices.view}copyOutputIndices(e,t){this.outputIndices.lengthInElements!==0&&((e===void 0||e.length<this.outputIndices.lengthInElements)&&(e=t(this.outputIndices.lengthInElements)),e.set(this.outputIndices.view))}getOutputsLength(){return this.outputs.lengthInElements}getOutputs(){return this.outputs.view}getOutputsObject(){}storeOutputs(e){this.outputs.view!==void 0&&(e.length>this.outputs.view.length?this.outputs.view.set(e.subarray(0,this.outputs.view.length)):this.outputs.view.set(e))}getLookups(){if(this.lookupIndices.lengthInElements!==0)return decodeLookups(this.lookupIndices.view,this.lookups.view)}getElapsedTime(){return this.extras.view[0]}storeElapsedTime(e){this.extras.view[0]=e}finalizeOutputs(e){this.outputs.view&&e.updateFromBuffer(this.outputs.view,e.seriesLength),e.runTimeInMillis=this.getElapsedTime()}updateFromParams(e,t,r){const n=e.length,i=t.varIds.length*t.seriesLength;let a;const u=t.varSpecs;u!==void 0&&u.length>0?a=getEncodedVarIndicesLength(u):a=0;let d,m;if(r?.lookups!==void 0&&r.lookups.length>0){for(const re of r.lookups)resolveVarRef(this.listing,re.varRef,"lookup");const G=getEncodedLookupBufferLengths(r.lookups);d=G.lookupsLength,m=G.lookupIndicesLength}else d=0,m=0;let g=0;function x(G,re){const de=g,Oe=G==="float64"?Float64Array.BYTES_PER_ELEMENT:Int32Array.BYTES_PER_ELEMENT,Ve=Math.round(re*Oe),wt=Math.ceil(Ve/8)*8;return g+=wt,de}const R=x("int32",headerLengthInElements),O=x("float64",extrasLengthInElements),q=x("float64",n),B=x("float64",i),F=x("int32",a),D=x("float64",d),V=x("int32",m),j=g;if(this.encoded===void 0||this.encoded.byteLength<j){const G=Math.ceil(j*1.2);this.encoded=new ArrayBuffer(G),this.header.update(this.encoded,R,headerLengthInElements)}const K=this.header.view;let Q=0;K[Q++]=O,K[Q++]=extrasLengthInElements,K[Q++]=q,K[Q++]=n,K[Q++]=B,K[Q++]=i,K[Q++]=F,K[Q++]=a,K[Q++]=D,K[Q++]=d,K[Q++]=V,K[Q++]=m,this.inputs.update(this.encoded,q,n),this.extras.update(this.encoded,O,extrasLengthInElements),this.outputs.update(this.encoded,B,i),this.outputIndices.update(this.encoded,F,a),this.lookups.update(this.encoded,D,d),this.lookupIndices.update(this.encoded,V,m);const z=this.inputs.view;for(let G=0;G<e.length;G++){const re=e[G];typeof re=="number"?z[G]=re:z[G]=re.get()}this.outputIndices.view&&encodeVarIndices(u,this.outputIndices.view),m>0&&encodeLookups(r.lookups,this.lookupIndices.view,this.lookups.view)}updateFromEncodedBuffer(e){const t=headerLengthInElements*Int32Array.BYTES_PER_ELEMENT;if(e.byteLength<t)throw new Error("Buffer must be long enough to contain header section");this.encoded=e,this.header.update(this.encoded,0,headerLengthInElements);const r=this.header.view;let n=0;const i=r[n++],a=r[n++],u=r[n++],d=r[n++],m=r[n++],g=r[n++],x=r[n++],R=r[n++],O=r[n++],q=r[n++],B=r[n++],F=r[n++],D=a*Float64Array.BYTES_PER_ELEMENT,V=d*Float64Array.BYTES_PER_ELEMENT,j=g*Float64Array.BYTES_PER_ELEMENT,K=R*Int32Array.BYTES_PER_ELEMENT,Q=q*Float64Array.BYTES_PER_ELEMENT,z=F*Int32Array.BYTES_PER_ELEMENT,G=t+D+V+j+K+Q+z;if(e.byteLength<G)throw new Error("Buffer must be long enough to contain sections declared in header");this.extras.update(this.encoded,i,a),this.inputs.update(this.encoded,u,d),this.outputs.update(this.encoded,m,g),this.outputIndices.update(this.encoded,x,R),this.lookups.update(this.encoded,O,q),this.lookupIndices.update(this.encoded,B,F)}};async function spawnAsyncModelRunner(e){return e.path?spawnAsyncModelRunnerWithWorker(new Worker$1(e.path)):spawnAsyncModelRunnerWithWorker(BlobWorker.fromText(e.source))}async function spawnAsyncModelRunnerWithWorker(e){const t=await spawn(e),r=await t.initModel(),n=r.modelListing?new ModelListing(r.modelListing):void 0,i=new BufferedRunModelParams(n);let a=!1,u=!1;return{createOutputs:()=>new Outputs(r.outputVarIds,r.startTime,r.endTime,r.saveFreq),runModel:async(d,m,g)=>{if(u)throw new Error("Async model runner has already been terminated");if(a)throw new Error("Async model runner only supports one `runModel` call at a time");a=!0,i.updateFromParams(d,m,g);let x;try{x=await t.runModel(Transfer(i.getEncodedBuffer()))}finally{a=!1}return i.updateFromEncodedBuffer(x),i.finalizeOutputs(m),m},terminate:()=>u?Promise.resolve():(u=!0,Thread.terminate(t))}}var assertNever={},hasRequiredAssertNever;function requireAssertNever(){if(hasRequiredAssertNever)return assertNever;hasRequiredAssertNever=1,Object.defineProperty(assertNever,"__esModule",{value:!0}),assertNever.assertNever=e;function e(t,r){if(typeof r=="string")throw new Error(r);if(typeof r=="function")throw new Error(r(t));if(r)return t;throw new Error("Unhandled discriminated union member: ".concat(JSON.stringify(t)))}return assertNever.default=e,assertNever}var assertNeverExports=requireAssertNever();function getInputVars(e){const t=new Map;for(const r of e){const n=r.varId,i={inputId:r.inputId,varId:n,varName:r.varName,defaultValue:r.defaultValue,minValue:r.minValue,maxValue:r.maxValue,value:createInputValue(n,r.defaultValue)};t.set(n,i)}return t}function setInputsForScenario(e,t){function r(g,x){x<g.minValue?(console.warn(`WARNING: Scenario input value ${x} is < min value (${g.minValue}) for input '${g.varName}'`),x=g.minValue):x>g.maxValue&&(console.warn(`WARNING: Scenario input value ${x} is > max value (${g.maxValue}) for input '${g.varName}'`),x=g.maxValue),g.value.set(x)}function n(g){g.value.reset()}function i(g){g.value.set(g.minValue)}function a(g){g.value.set(g.maxValue)}function u(){e.forEach(n)}function d(){e.forEach(i)}function m(){e.forEach(a)}switch(t.kind){case"all-inputs":{switch(t.position){case"at-default":u();break;case"at-minimum":d();break;case"at-maximum":m();break}break}case"input-settings":{u();for(const g of t.settings){const x=e.get(g.inputVarId);if(x)switch(g.kind){case"position":switch(g.position){case"at-default":n(x);break;case"at-minimum":i(x);break;case"at-maximum":a(x);break;default:assertNeverExports.assertNever(g.position)}break;case"value":r(x,g.value);break;default:assertNeverExports.assertNever(g)}else console.log(`No model input for scenario input ${g.inputVarId}`)}break}default:assertNeverExports.assertNever(t)}}function getOutputVars(e){const t=new Map;for(const r of e){const n=r.varId,i=datasetKeyForOutputVar(void 0,n);t.set(i,{datasetKey:i,sourceName:void 0,varId:n,varName:r.varName})}return t}function datasetKeyForOutputVar(e,t){return`Model_${t}`}const inputSpecs=[{inputId:"_red_delay",varId:"_red_delay",varName:"Red Delay",defaultValue:0,minValue:1,maxValue:300},{inputId:"_blue_delay",varId:"_blue_delay",varName:"Blue Delay",defaultValue:0,minValue:1,maxValue:300}],outputSpecs=[{varId:"_red",varName:"Red"},{varId:"_blue",varName:"Blue"}],modelSizeInBytes=12843,dataSizeInBytes=0,modelWorkerJs='(function(){"use strict";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var worker={},isObservable,hasRequiredIsObservable;function requireIsObservable(){return hasRequiredIsObservable||(hasRequiredIsObservable=1,isObservable=e=>e?typeof Symbol.observable=="symbol"&&typeof e[Symbol.observable]=="function"?e===e[Symbol.observable]():typeof e["@@observable"]=="function"?e===e["@@observable"]():!1:!1),isObservable}var common={},serializers={},hasRequiredSerializers;function requireSerializers(){if(hasRequiredSerializers)return serializers;hasRequiredSerializers=1,Object.defineProperty(serializers,"__esModule",{value:!0}),serializers.DefaultSerializer=serializers.extendSerializer=void 0;function e(t,r){const i=t.deserialize.bind(t),o=t.serialize.bind(t);return{deserialize(a){return r.deserialize(a,i)},serialize(a){return r.serialize(a,o)}}}serializers.extendSerializer=e;const n={deserialize(t){return Object.assign(Error(t.message),{name:t.name,stack:t.stack})},serialize(t){return{__error_marker:"$$error",message:t.message,name:t.name,stack:t.stack}}},s=t=>t&&typeof t=="object"&&"__error_marker"in t&&t.__error_marker==="$$error";return serializers.DefaultSerializer={deserialize(t){return s(t)?n.deserialize(t):t},serialize(t){return t instanceof Error?n.serialize(t):t}},serializers}var hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1,Object.defineProperty(common,"__esModule",{value:!0}),common.serialize=common.deserialize=common.registerSerializer=void 0;const e=requireSerializers();let n=e.DefaultSerializer;function s(i){n=e.extendSerializer(n,i)}common.registerSerializer=s;function t(i){return n.deserialize(i)}common.deserialize=t;function r(i){return n.serialize(i)}return common.serialize=r,common}var transferable={},symbols={},hasRequiredSymbols;function requireSymbols(){return hasRequiredSymbols||(hasRequiredSymbols=1,Object.defineProperty(symbols,"__esModule",{value:!0}),symbols.$worker=symbols.$transferable=symbols.$terminate=symbols.$events=symbols.$errors=void 0,symbols.$errors=Symbol("thread.errors"),symbols.$events=Symbol("thread.events"),symbols.$terminate=Symbol("thread.terminate"),symbols.$transferable=Symbol("thread.transferable"),symbols.$worker=Symbol("thread.worker")),symbols}var hasRequiredTransferable;function requireTransferable(){if(hasRequiredTransferable)return transferable;hasRequiredTransferable=1,Object.defineProperty(transferable,"__esModule",{value:!0}),transferable.Transfer=transferable.isTransferDescriptor=void 0;const e=requireSymbols();function n(r){return!(!r||typeof r!="object")}function s(r){return r&&typeof r=="object"&&r[e.$transferable]}transferable.isTransferDescriptor=s;function t(r,i){if(!i){if(!n(r))throw Error();i=[r]}return{[e.$transferable]:!0,send:r,transferables:i}}return transferable.Transfer=t,transferable}var messages={},hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerMessageType=e.MasterMessageType=void 0,(function(n){n.cancel="cancel",n.run="run"})(e.MasterMessageType||(e.MasterMessageType={})),(function(n){n.error="error",n.init="init",n.result="result",n.running="running",n.uncaughtError="uncaughtError"})(e.WorkerMessageType||(e.WorkerMessageType={}))})(messages)),messages}var implementation={},implementation_browser={},hasRequiredImplementation_browser;function requireImplementation_browser(){if(hasRequiredImplementation_browser)return implementation_browser;hasRequiredImplementation_browser=1,Object.defineProperty(implementation_browser,"__esModule",{value:!0});const e=function(){const r=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!!(typeof self<"u"&&self.postMessage&&!r)},n=function(r,i){self.postMessage(r,i)},s=function(r){const i=a=>{r(a.data)},o=()=>{self.removeEventListener("message",i)};return self.addEventListener("message",i),o};return implementation_browser.default={isWorkerRuntime:e,postMessageToMaster:n,subscribeToMasterMessages:s},implementation_browser}var implementation_tinyWorker={},hasRequiredImplementation_tinyWorker;function requireImplementation_tinyWorker(){if(hasRequiredImplementation_tinyWorker)return implementation_tinyWorker;hasRequiredImplementation_tinyWorker=1,Object.defineProperty(implementation_tinyWorker,"__esModule",{value:!0}),typeof self>"u"&&(commonjsGlobal.self=commonjsGlobal);const e=function(){return!!(typeof self<"u"&&self.postMessage)},n=function(o){self.postMessage(o)};let s=!1;const t=new Set,r=function(o){return s||(self.addEventListener("message",(d=>{t.forEach(l=>l(d.data))})),s=!0),t.add(o),()=>t.delete(o)};return implementation_tinyWorker.default={isWorkerRuntime:e,postMessageToMaster:n,subscribeToMasterMessages:r},implementation_tinyWorker}var implementation_worker_threads={},worker_threads={},hasRequiredWorker_threads;function requireWorker_threads(){if(hasRequiredWorker_threads)return worker_threads;hasRequiredWorker_threads=1,Object.defineProperty(worker_threads,"__esModule",{value:!0});let implementation;function selectImplementation(){return typeof __non_webpack_require__=="function"?__non_webpack_require__("worker_threads"):eval("require")("worker_threads")}function getImplementation(){return implementation||(implementation=selectImplementation()),implementation}return worker_threads.default=getImplementation,worker_threads}var hasRequiredImplementation_worker_threads;function requireImplementation_worker_threads(){if(hasRequiredImplementation_worker_threads)return implementation_worker_threads;hasRequiredImplementation_worker_threads=1;var e=implementation_worker_threads&&implementation_worker_threads.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(implementation_worker_threads,"__esModule",{value:!0});const n=e(requireWorker_threads());function s(a){if(!a)throw Error("Invariant violation: MessagePort to parent is not available.");return a}const t=function(){return!n.default().isMainThread},r=function(d,l){s(n.default().parentPort).postMessage(d,l)},i=function(d){const l=n.default().parentPort;if(!l)throw Error("Invariant violation: MessagePort to parent is not available.");const f=b=>{d(b)},_=()=>{s(l).off("message",f)};return s(l).on("message",f),_};function o(){n.default()}return implementation_worker_threads.default={isWorkerRuntime:t,postMessageToMaster:r,subscribeToMasterMessages:i,testImplementation:o},implementation_worker_threads}var hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var e=implementation&&implementation.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(implementation,"__esModule",{value:!0});const n=e(requireImplementation_browser()),s=e(requireImplementation_tinyWorker()),t=e(requireImplementation_worker_threads()),r=typeof process<"u"&&process.arch!=="browser"&&"pid"in process;function i(){try{return t.default.testImplementation(),t.default}catch{return s.default}}return implementation.default=r?i():n.default,implementation}var hasRequiredWorker;function requireWorker(){return hasRequiredWorker||(hasRequiredWorker=1,(function(e){var n=worker&&worker.__awaiter||function(u,c,v,w){function O(k){return k instanceof v?k:new v(function(B){B(k)})}return new(v||(v=Promise))(function(k,B){function W(R){try{z(w.next(R))}catch(q){B(q)}}function A(R){try{z(w.throw(R))}catch(q){B(q)}}function z(R){R.done?k(R.value):O(R.value).then(W,A)}z((w=w.apply(u,c||[])).next())})},s=worker&&worker.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.expose=e.isWorkerRuntime=e.Transfer=e.registerSerializer=void 0;const t=s(requireIsObservable()),r=requireCommon(),i=requireTransferable(),o=requireMessages(),a=s(requireImplementation());var d=requireCommon();Object.defineProperty(e,"registerSerializer",{enumerable:!0,get:function(){return d.registerSerializer}});var l=requireTransferable();Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return l.Transfer}}),e.isWorkerRuntime=a.default.isWorkerRuntime;let f=!1;const _=new Map,b=u=>u&&u.type===o.MasterMessageType.cancel,m=u=>u&&u.type===o.MasterMessageType.run,I=u=>t.default(u)||T(u);function T(u){return u&&typeof u=="object"&&typeof u.subscribe=="function"}function E(u){return i.isTransferDescriptor(u)?{payload:u.send,transferables:u.transferables}:{payload:u,transferables:void 0}}function S(){const u={type:o.WorkerMessageType.init,exposed:{type:"function"}};a.default.postMessageToMaster(u)}function y(u){const c={type:o.WorkerMessageType.init,exposed:{type:"module",methods:u}};a.default.postMessageToMaster(c)}function h(u,c){const{payload:v,transferables:w}=E(c),O={type:o.WorkerMessageType.error,uid:u,error:r.serialize(v)};a.default.postMessageToMaster(O,w)}function p(u,c,v){const{payload:w,transferables:O}=E(v),k={type:o.WorkerMessageType.result,uid:u,complete:c?!0:void 0,payload:w};a.default.postMessageToMaster(k,O)}function L(u,c){const v={type:o.WorkerMessageType.running,uid:u,resultType:c};a.default.postMessageToMaster(v)}function g(u){try{const c={type:o.WorkerMessageType.uncaughtError,error:r.serialize(u)};a.default.postMessageToMaster(c)}catch(c){console.error(`Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\nLatest error:`,c,`\nOriginal error:`,u)}}function M(u,c,v){return n(this,void 0,void 0,function*(){let w;try{w=c(...v)}catch(k){return h(u,k)}const O=I(w)?"observable":"promise";if(L(u,O),I(w)){const k=w.subscribe(B=>p(u,!1,r.serialize(B)),B=>{h(u,r.serialize(B)),_.delete(u)},()=>{p(u,!0),_.delete(u)});_.set(u,k)}else try{const k=yield w;p(u,!0,r.serialize(k))}catch(k){h(u,r.serialize(k))}})}function x(u){if(!a.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(f)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(f=!0,typeof u=="function")a.default.subscribeToMasterMessages(c=>{m(c)&&!c.method&&M(c.uid,u,c.args.map(r.deserialize))}),S();else if(typeof u=="object"&&u){a.default.subscribeToMasterMessages(v=>{m(v)&&v.method&&M(v.uid,u[v.method],v.args.map(r.deserialize))});const c=Object.keys(u).filter(v=>typeof u[v]=="function");y(c)}else throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${u}`);a.default.subscribeToMasterMessages(c=>{if(b(c)){const v=c.uid,w=_.get(v);w&&(w.unsubscribe(),_.delete(v))}})}e.expose=x,typeof self<"u"&&typeof self.addEventListener=="function"&&a.default.isWorkerRuntime()&&(self.addEventListener("error",u=>{setTimeout(()=>g(u.error||u),250)}),self.addEventListener("unhandledrejection",u=>{const c=u.reason;c&&typeof c.message=="string"&&setTimeout(()=>g(c),250)})),typeof process<"u"&&typeof process.on=="function"&&a.default.isWorkerRuntime()&&(process.on("uncaughtException",u=>{setTimeout(()=>g(u),250)}),process.on("unhandledRejection",u=>{u&&typeof u.message=="string"&&setTimeout(()=>g(u),250)}))})(worker)),worker}var workerExports=requireWorker();const WorkerContext=getDefaultExportFromCjs(workerExports),expose=WorkerContext.expose;WorkerContext.registerSerializer;const Transfer=WorkerContext.Transfer;function getEncodedVarIndicesLength(e){var n;let s=1;for(const t of e){s+=2;const r=((n=t.subscriptIndices)==null?void 0:n.length)||0;s+=r}return s}function encodeVarIndices(e,n){let s=0;n[s++]=e.length;for(const t of e){n[s++]=t.varIndex;const r=t.subscriptIndices,i=r?.length||0;n[s++]=i;for(let o=0;o<i;o++)n[s++]=r[o]}}function getEncodedLookupBufferLengths(e){var n,s;let t=1,r=0;for(const i of e){const o=i.varRef.varSpec;if(o===void 0)throw new Error("Cannot compute lookup buffer lengths until all lookup var specs are defined");t+=2;const a=((n=o.subscriptIndices)==null?void 0:n.length)||0;t+=a,t+=2,r+=((s=i.points)==null?void 0:s.length)||0}return{lookupIndicesLength:t,lookupsLength:r}}function encodeLookups(e,n,s){let t=0;n[t++]=e.length;let r=0;for(const i of e){const o=i.varRef.varSpec;n[t++]=o.varIndex;const a=o.subscriptIndices,d=a?.length||0;n[t++]=d;for(let l=0;l<d;l++)n[t++]=a[l];i.points!==void 0?(n[t++]=r,n[t++]=i.points.length,s?.set(i.points,r),r+=i.points.length):(n[t++]=-1,n[t++]=0)}}function decodeLookups(e,n){const s=[];let t=0;const r=e[t++];for(let i=0;i<r;i++){const o=e[t++],a=e[t++],d=a>0?Array(a):void 0;for(let m=0;m<a;m++)d[m]=e[t++];const l=e[t++],f=e[t++],_={varIndex:o,subscriptIndices:d};let b;l>=0?n?b=n.slice(l,l+f):b=new Float64Array(0):b=void 0,s.push({varRef:{varSpec:_},points:b})}return s}function resolveVarRef(e,n,s){if(!n.varSpec){if(e===void 0)throw new Error(`Unable to resolve ${s} variable references by name or identifier when model listing is unavailable`);if(n.varId){const t=e?.getSpecForVarId(n.varId);if(t)n.varSpec=t;else throw new Error(`Failed to resolve ${s} variable reference for varId=${n.varId}`)}else{const t=e?.getSpecForVarName(n.varName);if(t)n.varSpec=t;else throw new Error(`Failed to resolve ${s} variable reference for varName=\'${n.varId}\'`)}}}var headerLengthInElements=16,extrasLengthInElements=1,Int32Section=class{constructor(){this.offsetInBytes=0,this.lengthInElements=0}update(e,n,s){this.view=s>0?new Int32Array(e,n,s):void 0,this.offsetInBytes=n,this.lengthInElements=s}},Float64Section=class{constructor(){this.offsetInBytes=0,this.lengthInElements=0}update(e,n,s){this.view=s>0?new Float64Array(e,n,s):void 0,this.offsetInBytes=n,this.lengthInElements=s}},BufferedRunModelParams=class{constructor(e){this.listing=e,this.header=new Int32Section,this.extras=new Float64Section,this.inputs=new Float64Section,this.outputs=new Float64Section,this.outputIndices=new Int32Section,this.lookups=new Float64Section,this.lookupIndices=new Int32Section}getEncodedBuffer(){return this.encoded}getInputs(){return this.inputs.view}copyInputs(e,n){this.inputs.lengthInElements!==0&&((e===void 0||e.length<this.inputs.lengthInElements)&&(e=n(this.inputs.lengthInElements)),e.set(this.inputs.view))}getOutputIndicesLength(){return this.outputIndices.lengthInElements}getOutputIndices(){return this.outputIndices.view}copyOutputIndices(e,n){this.outputIndices.lengthInElements!==0&&((e===void 0||e.length<this.outputIndices.lengthInElements)&&(e=n(this.outputIndices.lengthInElements)),e.set(this.outputIndices.view))}getOutputsLength(){return this.outputs.lengthInElements}getOutputs(){return this.outputs.view}getOutputsObject(){}storeOutputs(e){this.outputs.view!==void 0&&(e.length>this.outputs.view.length?this.outputs.view.set(e.subarray(0,this.outputs.view.length)):this.outputs.view.set(e))}getLookups(){if(this.lookupIndices.lengthInElements!==0)return decodeLookups(this.lookupIndices.view,this.lookups.view)}getElapsedTime(){return this.extras.view[0]}storeElapsedTime(e){this.extras.view[0]=e}finalizeOutputs(e){this.outputs.view&&e.updateFromBuffer(this.outputs.view,e.seriesLength),e.runTimeInMillis=this.getElapsedTime()}updateFromParams(e,n,s){const t=e.length,r=n.varIds.length*n.seriesLength;let i;const o=n.varSpecs;o!==void 0&&o.length>0?i=getEncodedVarIndicesLength(o):i=0;let a,d;if(s?.lookups!==void 0&&s.lookups.length>0){for(const M of s.lookups)resolveVarRef(this.listing,M.varRef,"lookup");const g=getEncodedLookupBufferLengths(s.lookups);a=g.lookupsLength,d=g.lookupIndicesLength}else a=0,d=0;let l=0;function f(g,M){const x=l,u=g==="float64"?Float64Array.BYTES_PER_ELEMENT:Int32Array.BYTES_PER_ELEMENT,c=Math.round(M*u),v=Math.ceil(c/8)*8;return l+=v,x}const _=f("int32",headerLengthInElements),b=f("float64",extrasLengthInElements),m=f("float64",t),I=f("float64",r),T=f("int32",i),E=f("float64",a),S=f("int32",d),y=l;if(this.encoded===void 0||this.encoded.byteLength<y){const g=Math.ceil(y*1.2);this.encoded=new ArrayBuffer(g),this.header.update(this.encoded,_,headerLengthInElements)}const h=this.header.view;let p=0;h[p++]=b,h[p++]=extrasLengthInElements,h[p++]=m,h[p++]=t,h[p++]=I,h[p++]=r,h[p++]=T,h[p++]=i,h[p++]=E,h[p++]=a,h[p++]=S,h[p++]=d,this.inputs.update(this.encoded,m,t),this.extras.update(this.encoded,b,extrasLengthInElements),this.outputs.update(this.encoded,I,r),this.outputIndices.update(this.encoded,T,i),this.lookups.update(this.encoded,E,a),this.lookupIndices.update(this.encoded,S,d);const L=this.inputs.view;for(let g=0;g<e.length;g++){const M=e[g];typeof M=="number"?L[g]=M:L[g]=M.get()}this.outputIndices.view&&encodeVarIndices(o,this.outputIndices.view),d>0&&encodeLookups(s.lookups,this.lookupIndices.view,this.lookups.view)}updateFromEncodedBuffer(e){const n=headerLengthInElements*Int32Array.BYTES_PER_ELEMENT;if(e.byteLength<n)throw new Error("Buffer must be long enough to contain header section");this.encoded=e,this.header.update(this.encoded,0,headerLengthInElements);const t=this.header.view;let r=0;const i=t[r++],o=t[r++],a=t[r++],d=t[r++],l=t[r++],f=t[r++],_=t[r++],b=t[r++],m=t[r++],I=t[r++],T=t[r++],E=t[r++],S=o*Float64Array.BYTES_PER_ELEMENT,y=d*Float64Array.BYTES_PER_ELEMENT,h=f*Float64Array.BYTES_PER_ELEMENT,p=b*Int32Array.BYTES_PER_ELEMENT,L=I*Float64Array.BYTES_PER_ELEMENT,g=E*Int32Array.BYTES_PER_ELEMENT,M=n+S+y+h+p+L+g;if(e.byteLength<M)throw new Error("Buffer must be long enough to contain sections declared in header");this.extras.update(this.encoded,i,o),this.inputs.update(this.encoded,a,d),this.outputs.update(this.encoded,l,f),this.outputIndices.update(this.encoded,_,b),this.lookups.update(this.encoded,m,I),this.lookupIndices.update(this.encoded,T,E)}},_NA_=-Number.MAX_VALUE,JsModelLookup=class{constructor(e,n){if(n&&n.length<e*2)throw new Error(`Lookup data array length must be >= 2*size (length=${n.length} size=${e}`);this.originalData=n,this.originalSize=e,this.dynamicData=void 0,this.dynamicSize=0,this.activeData=this.originalData,this.activeSize=this.originalSize,this.lastInput=Number.MAX_VALUE,this.lastHitIndex=0}setData(e,n){if(n){if(n.length<e*2)throw new Error(`Lookup data array length must be >= 2*size (length=${n.length} size=${e}`);const s=e*2;if((this.dynamicData===void 0||s>this.dynamicData.length)&&(this.dynamicData=new Float64Array(s)),this.dynamicSize=e,e>0){const t=n.subarray(0,s);this.dynamicData.set(t)}this.activeData=this.dynamicData,this.activeSize=this.dynamicSize}else this.activeData=this.originalData,this.activeSize=this.originalSize;this.invertedData=void 0,this.lastInput=Number.MAX_VALUE,this.lastHitIndex=0}getValueForX(e,n){return this.getValue(e,!1,n)}getValueForY(e){if(this.invertedData===void 0){const n=this.activeSize*2,s=this.activeData,t=Array(n);for(let r=0;r<n;r+=2)t[r]=s[r+1],t[r+1]=s[r];this.invertedData=t}return this.getValue(e,!0,"interpolate")}getValue(e,n,s){if(this.activeSize===0)return _NA_;const t=n?this.invertedData:this.activeData,r=this.activeSize*2,i=!n;let o;i&&e>=this.lastInput?o=this.lastHitIndex:o=0;for(let a=o;a<r;a+=2){const d=t[a];if(d>=e){if(i&&(this.lastInput=e,this.lastHitIndex=a),a===0||d===e)return t[a+1];switch(s){default:case"interpolate":{const l=t[a-2],f=t[a-1],_=t[a+1],b=d-l,m=_-f;return f+m/b*(e-l)}case"forward":return t[a+1];case"backward":return t[a-1]}}}return i&&(this.lastInput=e,this.lastHitIndex=r),t[r-1]}getValueForGameTime(e,n){if(this.activeSize<=0)return n;const s=this.activeData[0];return e<s?n:this.getValue(e,!1,"backward")}getValueBetweenTimes(e,n){if(this.activeSize===0)return _NA_;const s=this.activeData,t=this.activeSize*2;switch(n){case"forward":{e=Math.floor(e);for(let r=0;r<t;r+=2)if(s[r]>=e)return s[r+1];return s[t-1]}case"backward":{e=Math.floor(e);for(let r=2;r<t;r+=2)if(s[r]>=e)return s[r-1];return t>=4?s[t-3]:s[1]}case"interpolate":default:{if(e-Math.floor(e)>0){let r=`GET DATA BETWEEN TIMES was called with an input value (${e}) that has a fractional part. `;throw r+="When mode is 0 (interpolate) and the input value is not a whole number, Vensim produces unexpected ",r+="results that may differ from those produced by SDEverywhere.",new Error(r)}for(let r=2;r<t;r+=2){const i=s[r];if(i>=e){const o=s[r-2],a=s[r-1],d=s[r+1],l=i-o,f=d-a;return a+f/l*(e-o)}}return s[t-1]}}}},EPSILON=1e-6;function getJsModelFunctions(){let e;const n=new Map,s=new Map;return{setContext(t){e=t},ABS(t){return Math.abs(t)},ARCCOS(t){return Math.acos(t)},ARCSIN(t){return Math.asin(t)},ARCTAN(t){return Math.atan(t)},COS(t){return Math.cos(t)},EXP(t){return Math.exp(t)},GAME(t,r){return t?t.getValueForGameTime(e.currentTime,r):r},INTEG(t,r){return t+r*e.timeStep},INTEGER(t){return Math.trunc(t)},LN(t){return Math.log(t)},MAX(t,r){return Math.max(t,r)},MIN(t,r){return Math.min(t,r)},MODULO(t,r){return t%r},POW(t,r){return Math.pow(t,r)},POWER(t,r){return Math.pow(t,r)},PULSE(t,r){return pulse(e,t,r)},PULSE_TRAIN(t,r,i,o){const a=Math.floor((o-t)/i);for(let d=0;d<=a;d++)if(e.currentTime<=o&&pulse(e,t+d*i,r))return 1;return 0},QUANTUM(t,r){return r<=0?t:r*Math.trunc(t/r)},RAMP(t,r,i){return e.currentTime>r?e.currentTime<i||r>i?t*(e.currentTime-r):t*(i-r):0},SIN(t){return Math.sin(t)},SQRT(t){return Math.sqrt(t)},STEP(t,r){return e.currentTime+e.timeStep/2>r?t:0},TAN(t){return Math.tan(t)},VECTOR_SORT_ORDER(t,r,i){if(r>t.length)throw new Error(`VECTOR SORT ORDER input vector length (${t.length}) must be >= size (${r})`);let o=s.get(r);if(o===void 0){o=Array(r);for(let l=0;l<r;l++)o[l]={x:0,ind:0};s.set(r,o)}let a=n.get(r);a===void 0&&(a=Array(r),n.set(r,a));for(let l=0;l<r;l++)o[l].x=t[l],o[l].ind=l;const d=i>0?1:-1;o.sort((l,f)=>{let _;return l.x<f.x?_=-1:l.x>f.x?_=1:_=0,_*d});for(let l=0;l<r;l++)a[l]=o[l].ind;return a},XIDZ(t,r,i){return Math.abs(r)<EPSILON?i:t/r},ZIDZ(t,r){return Math.abs(r)<EPSILON?0:t/r},createLookup(t,r){return new JsModelLookup(t,r)},LOOKUP(t,r){return t?t.getValueForX(r,"interpolate"):_NA_},LOOKUP_FORWARD(t,r){return t?t.getValueForX(r,"forward"):_NA_},LOOKUP_BACKWARD(t,r){return t?t.getValueForX(r,"backward"):_NA_},LOOKUP_INVERT(t,r){return t?t.getValueForY(r):_NA_},WITH_LOOKUP(t,r){return r?r.getValueForX(t,"interpolate"):_NA_},GET_DATA_BETWEEN_TIMES(t,r,i){let o;return i>=1?o="forward":i<=-1?o="backward":o="interpolate",t?t.getValueBetweenTimes(r,o):_NA_}}}function pulse(e,n,s){const t=e.currentTime+e.timeStep/2;return s===0&&(s=e.timeStep),t>n&&t<n+s?1:0}var isWeb;function perfNow(){return isWeb===void 0&&(isWeb=typeof self<"u"&&self?.performance!==void 0),isWeb?self.performance.now():process==null?void 0:process.hrtime()}function perfElapsed(e){if(isWeb)return self.performance.now()-e;{const n=process.hrtime(e);return(n[0]*1e9+n[1])/1e6}}var BaseRunnableModel=class{constructor(e){this.startTime=e.startTime,this.endTime=e.endTime,this.saveFreq=e.saveFreq,this.numSavePoints=e.numSavePoints,this.outputVarIds=e.outputVarIds,this.modelListing=e.modelListing,this.onRunModel=e.onRunModel}runModel(e){var n;let s=e.getInputs();s===void 0&&(e.copyInputs(this.inputs,d=>(this.inputs=new Float64Array(d),this.inputs)),s=this.inputs);let t=e.getOutputIndices();t===void 0&&e.getOutputIndicesLength()>0&&(e.copyOutputIndices(this.outputIndices,d=>(this.outputIndices=new Int32Array(d),this.outputIndices)),t=this.outputIndices);const r=e.getOutputsLength();(this.outputs===void 0||this.outputs.length<r)&&(this.outputs=new Float64Array(r));const i=this.outputs,o=perfNow();(n=this.onRunModel)==null||n.call(this,s,i,{outputIndices:t,lookups:e.getLookups()});const a=perfElapsed(o);e.storeOutputs(i),e.storeElapsedTime(a)}terminate(){}};function initJsModel(e){let n=e.getModelFunctions();n===void 0&&(n=getJsModelFunctions(),e.setModelFunctions(n));const s=e.getInitialTime(),t=e.getFinalTime(),r=e.getTimeStep(),i=e.getSaveFreq(),o=Math.round((t-s)/i)+1;return new BaseRunnableModel({startTime:s,endTime:t,saveFreq:i,numSavePoints:o,outputVarIds:e.outputVarIds,modelListing:e.modelListing,onRunModel:(a,d,l)=>{runJsModel(e,s,t,r,i,o,a,d,l?.outputIndices,l?.lookups)}})}function runJsModel(e,n,s,t,r,i,o,a,d,l,f){let _=n;e.setTime(_);const b={timeStep:t,currentTime:_};if(e.getModelFunctions().setContext(b),e.initConstants(),l!==void 0)for(const y of l)e.setLookup(y.varRef.varSpec,y.points);o?.length>0&&e.setInputs(y=>o[y]),e.initLevels();const m=Math.round((s-n)/t),I=s;let T=0,E=0,S=0;for(;T<=m;){if(e.evalAux(),_%r<1e-6){S=0;const y=h=>{const p=S*i+E;a[p]=_<=I?h:void 0,S++};if(d!==void 0){let h=0;const p=d[h++];for(let L=0;L<p;L++){const g=d[h++],M=d[h++];let x;M>0&&(x=d.subarray(h,h+M),h+=M);const u={varIndex:g,subscriptIndices:x};e.storeOutput(u,y)}}else e.storeOutputs(y);E++}if(T===m)break;e.evalLevels(),_+=t,e.setTime(_),b.currentTime=_,T++}}var WasmBuffer=class{constructor(e,n,s,t){this.wasmModule=e,this.numElements=n,this.byteOffset=s,this.heapArray=t}getArrayView(){return this.heapArray}getAddress(){return this.byteOffset}dispose(){var e,n;this.heapArray&&((n=(e=this.wasmModule)._free)==null||n.call(e,this.byteOffset),this.numElements=void 0,this.heapArray=void 0,this.byteOffset=void 0)}};function createInt32WasmBuffer(e,n){const t=n*4,r=e._malloc(t),i=r/4,o=e.HEAP32.subarray(i,i+n);return new WasmBuffer(e,n,r,o)}function createFloat64WasmBuffer(e,n){const t=n*8,r=e._malloc(t),i=r/8,o=e.HEAPF64.subarray(i,i+n);return new WasmBuffer(e,n,r,o)}var WasmModel=class{constructor(e){this.wasmModule=e;function n(s){return e.cwrap(s,"number",[])()}this.startTime=n("getInitialTime"),this.endTime=n("getFinalTime"),this.saveFreq=n("getSaveper"),this.numSavePoints=Math.round((this.endTime-this.startTime)/this.saveFreq)+1,this.outputVarIds=e.outputVarIds,this.modelListing=e.modelListing,this.wasmSetLookup=e.cwrap("setLookup",null,["number","number","number","number"]),this.wasmRunModel=e.cwrap("runModelWithBuffers",null,["number","number","number"])}runModel(e){var n,s,t,r,i,o,a;const d=e.getLookups();if(d!==void 0)for(const m of d){const I=m.varRef.varSpec,T=((n=I.subscriptIndices)==null?void 0:n.length)||0;let E;T>0?((this.lookupSubIndicesBuffer===void 0||this.lookupSubIndicesBuffer.numElements<T)&&((s=this.lookupSubIndicesBuffer)==null||s.dispose(),this.lookupSubIndicesBuffer=createInt32WasmBuffer(this.wasmModule,T)),this.lookupSubIndicesBuffer.getArrayView().set(I.subscriptIndices),E=this.lookupSubIndicesBuffer.getAddress()):E=0;let S,y;if(m.points){const p=m.points.length;(this.lookupDataBuffer===void 0||this.lookupDataBuffer.numElements<p)&&((t=this.lookupDataBuffer)==null||t.dispose(),this.lookupDataBuffer=createFloat64WasmBuffer(this.wasmModule,p)),this.lookupDataBuffer.getArrayView().set(m.points),S=this.lookupDataBuffer.getAddress(),y=p/2}else S=0,y=0;const h=I.varIndex;this.wasmSetLookup(h,E,S,y)}e.copyInputs((r=this.inputsBuffer)==null?void 0:r.getArrayView(),m=>{var I;return(I=this.inputsBuffer)==null||I.dispose(),this.inputsBuffer=createFloat64WasmBuffer(this.wasmModule,m),this.inputsBuffer.getArrayView()});let l;e.getOutputIndicesLength()>0?(e.copyOutputIndices((i=this.outputIndicesBuffer)==null?void 0:i.getArrayView(),m=>{var I;return(I=this.outputIndicesBuffer)==null||I.dispose(),this.outputIndicesBuffer=createInt32WasmBuffer(this.wasmModule,m),this.outputIndicesBuffer.getArrayView()}),l=this.outputIndicesBuffer):l=void 0;const f=e.getOutputsLength();(this.outputsBuffer===void 0||this.outputsBuffer.numElements<f)&&((o=this.outputsBuffer)==null||o.dispose(),this.outputsBuffer=createFloat64WasmBuffer(this.wasmModule,f));const _=perfNow();this.wasmRunModel(((a=this.inputsBuffer)==null?void 0:a.getAddress())||0,this.outputsBuffer.getAddress(),l?.getAddress()||0);const b=perfElapsed(_);e.storeOutputs(this.outputsBuffer.getArrayView()),e.storeElapsedTime(b)}terminate(){var e,n,s;(e=this.inputsBuffer)==null||e.dispose(),this.inputsBuffer=void 0,(n=this.outputsBuffer)==null||n.dispose(),this.outputsBuffer=void 0,(s=this.outputIndicesBuffer)==null||s.dispose(),this.outputIndicesBuffer=void 0}};function initWasmModel(e){return new WasmModel(e)}function createRunnableModel(e){switch(e.kind){case"js":return initJsModel(e);case"wasm":return initWasmModel(e);default:throw new Error("Unable to identify generated model kind")}}var initGeneratedModel,runnableModel,params=new BufferedRunModelParams,modelWorker={async initModel(){if(runnableModel)throw new Error("RunnableModel was already initialized");const e=await initGeneratedModel();return runnableModel=createRunnableModel(e),{outputVarIds:runnableModel.outputVarIds,modelListing:runnableModel.modelListing,startTime:runnableModel.startTime,endTime:runnableModel.endTime,saveFreq:runnableModel.saveFreq,outputRowLength:runnableModel.numSavePoints}},runModel(e){if(!runnableModel)throw new Error("RunnableModel must be initialized before running the model in worker");return params.updateFromEncodedBuffer(e),runnableModel.runModel(params),Transfer(e)}};function exposeModelWorker(e){initGeneratedModel=e,expose(modelWorker)}let __aux1,__aux2,__aux3,__aux4,__aux5,__aux6,__aux7,__aux8,__level1,__level2,__level3,__level4,__level5,__level6,_add_blue_reserves,_add_red_reserves,_b0,_blue,_blue_attrition,_blue_batch_size,_blue_delay,_blue_force_strength,_blue_reinforcement_signal,_blue_reserves,_blue_reserves_replenishment,_c,_combat_ratio,_delayed_blue_reinforcement,_delayed_red_reinforcement,_final_time,_initial_time,_k,_r0,_red,_red_attrition,_red_batch_size,_red_delay,_red_force_strength,_red_reinforcement_signal,_red_reserves,_red_reserves_replenishment,_saveper,_time_step,_waiting_on_blue_reserves,_waiting_on_red_reserves,_time;function setTime(e){_time=e}let controlParamsInitialized=!1;function initControlParamsIfNeeded(){if(!controlParamsInitialized){if(fns===void 0)throw new Error("Must call setModelFunctions() before running the model");if(initConstants(),_initial_time===void 0)throw new Error("INITIAL TIME must be defined as a constant value");if(_time_step===void 0)throw new Error("TIME STEP must be defined as a constant value");if(_final_time===void 0||_saveper===void 0){if(setTime(_initial_time),fns.setContext({timeStep:_time_step,currentTime:_time}),initLevels(),evalAux(),_final_time===void 0)throw new Error("FINAL TIME must be defined");if(_saveper===void 0)throw new Error("SAVEPER must be defined")}controlParamsInitialized=!0}}function getInitialTime(){return initControlParamsIfNeeded(),_initial_time}function getFinalTime(){return initControlParamsIfNeeded(),_final_time}function getTimeStep(){return initControlParamsIfNeeded(),_time_step}function getSaveFreq(){return initControlParamsIfNeeded(),_saveper}let fns;function getModelFunctions(){return fns}function setModelFunctions(e){fns=e}function initConstants0(){_b0=800,_blue_batch_size=20,_blue_delay=150,_blue_reserves_replenishment=2,_final_time=1400,_initial_time=0,_r0=1200,_red_batch_size=20,_red_delay=150,_red_reserves_replenishment=2,_time_step=1,_c=75e-5,_k=.001125}function initConstants(){initConstants0()}function initLevels0(){_blue_reserves=0,_waiting_on_blue_reserves=0,_blue=_b0,_blue_force_strength=_blue/_b0,_red=_r0,_combat_ratio=_red/_blue,_blue_reinforcement_signal=_combat_ratio>=5||_blue_force_strength<.8&&_waiting_on_blue_reserves===0&&_blue_reserves>=300?fns.PULSE(_time,1):0,__level3=_blue_reinforcement_signal*(_blue_delay/3),__level2=_blue_reinforcement_signal*(_blue_delay/3),__level1=_blue_reinforcement_signal*(_blue_delay/3),_waiting_on_red_reserves=0,_red_reserves=0,_red_force_strength=_red/_r0,_red_reinforcement_signal=_combat_ratio<=.2||_red_force_strength<.8&&_red_reserves>=300&&_waiting_on_red_reserves===0?fns.PULSE(_time,1):0,__level6=_red_reinforcement_signal*(_red_delay/3),__level5=_red_reinforcement_signal*(_red_delay/3),__level4=_red_reinforcement_signal*(_red_delay/3)}function initLevels(){initLevels0()}function evalAux0(){_blue_attrition=_c*_red,_red_attrition=_k*_blue,_saveper=_time_step,__aux1=__level1/(_blue_delay/3),__aux2=__level2/(_blue_delay/3),__aux3=__level3/(_blue_delay/3),__aux5=__level4/(_red_delay/3),__aux6=__level5/(_red_delay/3),__aux7=__level6/(_red_delay/3),_red_force_strength=_red/_r0,_combat_ratio=_red/_blue,_red_reinforcement_signal=_combat_ratio<=.2||_red_force_strength<.8&&_red_reserves>=300&&_waiting_on_red_reserves===0?fns.PULSE(_time,1):0,__aux8=_red_delay/3,__aux4=_blue_delay/3,_blue_force_strength=_blue/_b0,_blue_reinforcement_signal=_combat_ratio>=5||_blue_force_strength<.8&&_waiting_on_blue_reserves===0&&_blue_reserves>=300?fns.PULSE(_time,1):0,_delayed_red_reinforcement=__level6/__aux8,_add_red_reserves=_red_batch_size*_delayed_red_reinforcement,_delayed_blue_reinforcement=__level3/__aux4,_add_blue_reserves=_blue_batch_size*_delayed_blue_reinforcement}function evalAux(){evalAux0()}function evalLevels0(){_blue=fns.INTEG(_blue,_add_blue_reserves-_blue_attrition),_blue_reserves=fns.INTEG(_blue_reserves,_blue_reserves_replenishment-_add_blue_reserves),_red=fns.INTEG(_red,_add_red_reserves-_red_attrition),_red_reserves=fns.INTEG(_red_reserves,_red_reserves_replenishment-_add_red_reserves),_waiting_on_blue_reserves=fns.INTEG(_waiting_on_blue_reserves,_blue_reinforcement_signal-_delayed_blue_reinforcement),_waiting_on_red_reserves=fns.INTEG(_waiting_on_red_reserves,_red_reinforcement_signal-_delayed_red_reinforcement),__level1=fns.INTEG(__level1,_blue_reinforcement_signal-__aux1),__level2=fns.INTEG(__level2,__aux1-__aux2),__level3=fns.INTEG(__level3,__aux2-__aux3),__level4=fns.INTEG(__level4,_red_reinforcement_signal-__aux5),__level5=fns.INTEG(__level5,__aux5-__aux6),__level6=fns.INTEG(__level6,__aux6-__aux7)}function evalLevels(){evalLevels0()}function setInputs(e){_red_delay=e(0),_blue_delay=e(1)}function setLookup(e,n){throw new Error("The setLookup function was not enabled for the generated model. Set the customLookups property in the spec/config file to allow for overriding lookups at runtime.")}const outputVarIds=["_red","_blue"],outputVarNames=["Red","Blue"];function storeOutputs(e){e(_red),e(_blue)}function storeOutput(e,n){throw new Error("The storeOutput function was not enabled for the generated model. Set the customOutputs property in the spec/config file to allow for capturing arbitrary variables at runtime.")}const modelListing=void 0;async function loadGeneratedModel(){return{kind:"js",outputVarIds,outputVarNames,modelListing,getInitialTime,getFinalTime,getTimeStep,getSaveFreq,getModelFunctions,setModelFunctions,setTime,setInputs,setLookup,storeOutputs,storeOutput,initConstants,initLevels,evalAux,evalLevels}}exposeModelWorker(loadGeneratedModel)})();\n',VERSION=1;class BundleModel{constructor(t,r,n){this.modelSpec=t,this.inputMap=r,this.modelRunner=n,this.inputs=[...r.values()].map(i=>i.value),this.outputs=n.createOutputs()}async getDatasetsForScenario(t,r){const n=new Map;setInputsForScenario(this.inputMap,t),this.outputs=await this.modelRunner.runModel(this.inputs,this.outputs);const i=this.outputs.runTimeInMillis;for(const a of r){const u=this.modelSpec.outputVars.get(a);if(u)if(u.sourceName===void 0){const d=this.outputs.getSeriesForVar(u.varId);d&&n.set(a,datasetFromPoints(d.points))}else console.error("Static data sources not yet handled in default model check bundle")}return{datasetMap:n,modelRunTime:i}}async getGraphDataForScenario(){}getGraphLinksForScenario(){return[]}}async function initBundleModel(e,t){const r=await spawnAsyncModelRunner({source:modelWorkerJs});return new BundleModel(e,t,r)}function datasetFromPoints(e){const t=new Map;for(const r of e)r.y!==void 0&&t.set(r.x,r.y);return t}function createBundle(){const e=getInputVars(inputSpecs),t=getOutputVars(outputSpecs),r={modelSizeInBytes,dataSizeInBytes,inputVars:e,outputVars:t,implVars:new Map};return{version:VERSION,modelSpec:r,initModel:()=>initBundleModel(r,e)}}const w=`# yaml-language-server: $schema=..\\..\\node_modules/@sdeverywhere/check-core/schema/check.schema.json

#
# This file contains "check" tests that exercise your model under different input
# scenarios.  For more guidance, consult this wiki page:
#   https://github.com/climateinteractive/SDEverywhere/wiki/Testing-and-Comparing-Your-Model
#

# NOTE: The following is an example of a simple check just to get you started.
# Replace "Some output" with the name of some variable you'd like to test.
- describe: Some output
  tests:
    - it: should be > 0 for all input scenarios
      scenarios:
        - preset: matrix
      datasets:
        - name: Some output
      predicates:
        - gt: 0
`,v=`# yaml-language-server: $schema=..\\..\\node_modules/@sdeverywhere/check-core/schema/comparison.schema.json

#
# This file contains definitions of custom comparison scenarios, which allow you to see
# how the behavior of the model compares to that of previous versions.  For more guidance,
# consult the following wiki page:
#   https://github.com/climateinteractive/SDEverywhere/wiki/Testing-and-Comparing-Your-Model
#

# NOTE: The following is an example of a custom scenario just to get you started.
# Replace "Some input" and "Another input" with the names of some variables you'd
# like to test.
- scenario:
    title: Custom scenario
    subtitle: gradual ramp-up
    with:
      - input: Some input
        at: 10
      - input: Another input
        at: 20
`,h=Object.assign({"../../../../../model/checks/checks.yaml":w}),f=[];for(const e of Object.keys(h)){const t=h[e];f.push(t)}const b=Object.assign({"../../../../../model/comparisons/comparisons.yaml":v}),k=Object.entries(b).map(e=>({kind:"yaml",filename:e[0],content:e[1]})),_=new Map([]);async function C(e,t,r){let n;if(e&&e.version===t.version){const i=[S(e,t),...k];n={baseline:{name:"baseline",bundle:e},thresholds:[1,5,10],specs:i,datasets:{renamedDatasetKeys:_}}}return{current:{name:r?.bundleNameR||"current",bundle:t},check:{tests:f},comparison:n}}function S(e,t){const r=new Set,n=(g,x)=>{for(const R of g.modelSpec.inputVars.values())r.add(R.inputId),x.set(R.inputId,R)},i=new Map,a=new Map;n(e,i),n(t,a);const u=[];u.push({kind:"scenario-with-all-inputs",id:"all_inputs_at_default",title:"All inputs",subtitle:"at default",position:"default"});const d=(g,x)=>{const R=i.get(g),O=a.get(g);if(R===void 0||O===void 0)return;if(x==="min"){if(R.minValue===R.defaultValue&&O.minValue===O.defaultValue)return}else if(R.maxValue===R.defaultValue&&O.maxValue===O.defaultValue)return;const q=O||R,B=q.relatedItem?.locationPath,F=B?B[B.length-1]:q.varName;u.push({kind:"scenario-with-inputs",id:`id_${g}_at_${x}`,title:F,subtitle:`at ${x}`,inputs:[{kind:"input-at-position",inputName:`id ${g}`,position:x}]})},m=[...r];for(const g of m)d(g,"min"),d(g,"max");return{scenarios:u,scenarioGroups:[],viewGroups:[]}}async function initForProduction(){const e='{"checkSummary":{"predicateSummaries":[]}}';let t;t=JSON.parse(e);const r=createBundle();let n;const i=createBundle$1();i.version===r.version&&(n=i);const u=await C(n,r,{bundleNameR:"current"});lu(u,{suiteSummary:t})}async function initBundlesAndUI(){const e=document.getElementById("app-shell-container");for(;e.firstChild;)e.removeChild(e.firstChild);await initForProduction()}initOverlay();initBundlesAndUI()});export default Iv();
